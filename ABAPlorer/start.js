function generateApp() {
    delete sap;

    let app = `
        <!DOCTYPE html>
        <html lang="en">
        <head>
            <meta charset="UTF-8">
            <meta name="viewport" content="width=device-width, initial-scale=1.0">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <title>ABAPlorer</title>
            <style>
                html, body, body > div, #container, #container-uiarea {
                    height: 100%;
                }
            </style>
            <script
                id="sap-ui-bootstrap"
                src="https://sapui5.hana.ondemand.com/resources/sap-ui-core.js"
                data-sap-ui-theme="sap_horizon"
                data-sap-ui-resourceroots='{
                    "astrobear.abaplorer": "./"
                }'
                data-sap-ui-oninit="loadAppToContainer"
                data-sap-ui-compatVersion="edge"
                data-sap-ui-async="true"
                data-sap-ui-frameOptions="trusted"
            ></script>
        </head>
        <body class="sapUiBody sapUiSizeCompact" id="content">
            <div
                id="contentContainer"
                data-name="astrobear.abaplorer"
                data-id="container"
                data-settings='{"id" : "astrobear.abaplorer"}'
                data-handle-validation="true"
            ></div>
        </body>
        </html>
    `;

    document.open();
    document.write(app);
    document.close();
}

function loadAppToContainer() {
    sap.ui.core.BusyIndicator.show(0);
    //@ui5-bundle astrobear/abaplorer/Component-preload.js
    sap.ui.require.preload({
	"astrobear/abaplorer/Component.js":function(){
sap.ui.define(["sap/ui/core/UIComponent","sap/ui/Device","astrobear/abaplorer/model/models","astrobear/abaplorer/model/ADTAdapter","astrobear/abaplorer/model/Rainbow"],function(e,o,t,a,r){"use strict";return e.extend("astrobear.abaplorer.Component",{metadata:{manifest:"json"},init:function(){window.ABAPlorerInPage=true;e.prototype.init.apply(this,arguments);this.setModel(t.createDeviceModel(),"device");this.rainbow=r;window.addEventListener("message",this.rainbow.handler);const o=new URLSearchParams(window.location.search).get("ABAPlorerRainbowFrom");console.log(o);if(o){console.log("[Rainbow] Detected URL parameter, opening target:",o);this.rainbow.addConnection(decodeURIComponent(o))}},destroy:function(){a.destroy();e.prototype.destroy.apply(this,arguments)}})});
},
	"astrobear/abaplorer/constants/DDICSearchPaths.js":function(){
sap.ui.define([],function(){"use strict";return{SEARCH:"/search",TABLE_PATTERN:"/search/tablePattern",BATCH_SIZE:"/search/batchSize",CONCURRENCY:"/search/concurrency",ONLY_POSITIVE:"/search/onlyPositive",PROGRESS:"/progress",IS_RUNNING:"/progress/isRunning",CURRENT:"/progress/current",TOTAL:"/progress/total",PERCENTAGE:"/progress/percentage",STOP_REQUESTED:"/progress/stopRequested",RESULTS:"/results",RESULT_COUNT:"/resultCount",PREVIEW:"/preview",PREVIEW_TABLE:"/preview/selectedTable",PREVIEW_DESCRIPTION:"/preview/description",PREVIEW_COLUMNS:"/preview/columns",PREVIEW_ROWS:"/preview/rows",PREVIEW_LOADING:"/preview/isLoading",PREVIEW_CONDITION:"/preview/searchCondition",PREVIEW_ROW_COUNT:"/preview/rowCount",TOKEN_STATE:"/tokenState",CURRENT_TOKENS:"/tokenState/currentTokens",LAST_SEARCH_TOKENS:"/tokenState/lastSearchTokens"}});
},
	"astrobear/abaplorer/constants/Endpoints.js":function(){
sap.ui.define([],function(){"use strict";return{CSRF_TOKEN:"/sap/bc/adt/checkruns/reporters",SQL_PREVIEW:"/sap/bc/adt/datapreview/freestyle",BW_QUERY:"/sap/bw/modeling/query",BW_IOBJ:"/sap/bw/modeling/iobj",SOAP_RFC:"/sap/bc/soap/rfc",WEBGUI:"/sap/bc/gui/sap/its/webgui",FLP:"/sap/bc/ui2/flp",ABAP_DOCU:"/sap/public/bc/abap/docu",TADIR_QUERY:"SELECT DEVCLASS FROM TADIR WHERE PGMID = 'R3TR' AND OBJECT = 'ELEM' AND OBJ_NAME = '{uid}'",buildQueryUrl:function(e,r){r=r||"A";let i=e.replace(/\//g,"$");return this.BW_QUERY+"/"+i+"/"+r},buildIObjUrl:function(e){let r=e.replace(/\//g,"$");return this.BW_IOBJ+"/"+r+"/m"},buildSqlPreviewUrl:function(e){return this.SQL_PREVIEW+"?rowNumber="+e},buildWebGuiUrl:function(e){return this.WEBGUI+"?~transaction="+encodeURIComponent(e)}}});
},
	"astrobear/abaplorer/constants/ModelPaths.js":function(){
sap.ui.define([],function(){"use strict";return{STORED_QUERIES:"/storedQueries",FILTERED_QUERIES:"/filteredQueries",SELECTED_QUERY:"/selectedQuery",STORAGE_USAGE:"/storageUsage",STORAGE_USED:"/storageUsage/used",STORAGE_QUOTA:"/storageUsage/quota",STORAGE_PERCENTAGE:"/storageUsage/percentage",STATISTICS:"/statistics",STATS_TOTAL:"/statistics/totalQueries",STATS_BY_STATUS:"/statistics/byStatus",STATS_TOTAL_SIZE:"/statistics/totalSizeMB",STATS_AVG_SIZE:"/statistics/averageSize",NEW_QUERY:"/newQuery",NEW_QUERY_NAME:"/newQuery/queryName",NEW_QUERY_INFO_PROVIDER:"/newQuery/infoProvider",NEW_QUERY_XML:"/newQuery/xmlString",NEW_QUERY_ETAG:"/newQuery/eTag",NEW_QUERY_FROM_SAP:"/newQuery/fetchedFromSAP",NEW_QUERY_DEVCLASS:"/newQuery/devclass",FETCH_STATUS:"/fetchStatus",FETCH_STATUS_VISIBLE:"/fetchStatus/visible",FETCH_STATUS_MESSAGE:"/fetchStatus/message",FETCH_STATUS_TYPE:"/fetchStatus/type",XML_VIEW_MODE:"/xmlViewMode",XML_TREE_NODES:"/xmlTreeNodes",XML_TREE_STATS:"/xmlTreeStats",BULK_DOWNLOAD:"/bulkDownload",BD_QUERY_INPUT:"/bulkDownload/queryInput",BD_PARSED_COUNT:"/bulkDownload/parsedCount",BD_CONCURRENCY:"/bulkDownload/concurrency",BD_SKIP_EXISTING:"/bulkDownload/skipExisting",BD_IS_RUNNING:"/bulkDownload/isRunning",BD_PERCENTAGE:"/bulkDownload/percentage",BD_DISPLAY_TEXT:"/bulkDownload/displayText",BD_STATE:"/bulkDownload/state",BD_CURRENT_STATUS:"/bulkDownload/currentStatus",BD_STATUS_TYPE:"/bulkDownload/statusType",BD_SUCCEEDED:"/bulkDownload/succeeded",BD_FAILED:"/bulkDownload/failed",BD_SKIPPED:"/bulkDownload/skipped",BD_REMAINING:"/bulkDownload/remaining",BD_TOTAL:"/bulkDownload/total",BD_FAILED_QUERIES:"/bulkDownload/failedQueries",BD_SKIPPED_QUERIES:"/bulkDownload/skippedQueries",BULK_TRANSFORM:"/bulkTransform",BT_FILTER_INPUT:"/bulkTransform/filterInput",BT_PARSED_FILTER_COUNT:"/bulkTransform/parsedFilterCount",BT_FILTERS_DISPLAY:"/bulkTransform/filtersDisplay",BT_FILTERS_TO_DELETE:"/bulkTransform/filtersToDelete",BT_AVAILABLE_QUERIES:"/bulkTransform/availableQueries",BT_SELECTED_QUERIES:"/bulkTransform/selectedQueries",BT_SELECTED_COUNT:"/bulkTransform/selectedCount",BT_SKIP_NO_FILTER:"/bulkTransform/skipNoFilter",BT_IS_RUNNING:"/bulkTransform/isRunning",BT_PERCENTAGE:"/bulkTransform/percentage",BT_DISPLAY_TEXT:"/bulkTransform/displayText",BT_STATE:"/bulkTransform/state",BT_CURRENT_STATUS:"/bulkTransform/currentStatus",BT_CURRENT_STAGE:"/bulkTransform/currentStage",BT_STATUS_TYPE:"/bulkTransform/statusType",BT_FILTERS_TO_DELETE_DISPLAY:"/bulkTransform/filtersToDeleteDisplay",BT_SUCCEEDED:"/bulkTransform/succeeded",BT_FAILED:"/bulkTransform/failed",BT_SKIPPED:"/bulkTransform/skipped",BT_REMAINING:"/bulkTransform/remaining",BT_TOTAL:"/bulkTransform/total",BT_FAILED_QUERIES:"/bulkTransform/failedQueries",BT_SKIPPED_QUERIES:"/bulkTransform/skippedQueries",BT_SUCCEEDED_QUERIES:"/bulkTransform/succeededQueries"}});
},
	"astrobear/abaplorer/constants/QueryStatus.js":function(){
sap.ui.define([],function(){"use strict";return{STATUS:{DOWNLOADED:"downloaded",TRANSFORMED:"transformed",UPLOADED:"uploaded",MANUAL:"manual",ERROR:"error"},RESULT_CODE:{SUCCESS:0,HTTP_ERROR:1,SQL_ERROR:2,VALIDATION_ERROR:3},STATE_MAPPING:{downloaded:"None",transformed:"Warning",uploaded:"Success",manual:"Information",error:"Error"},PROGRESS_STATE:{NONE:"None",SUCCESS:"Success",WARNING:"Warning",ERROR:"Error"},BULK_STATUS:{DOWNLOADING:"downloading",LOADING:"loading",TRANSFORMING:"transforming",UPLOADING:"uploading",SUCCESS:"success",FAILED:"failed",SKIPPED:"skipped"},MESSAGE_TYPE:{INFORMATION:"Information",SUCCESS:"Success",WARNING:"Warning",ERROR:"Error"},getStateForStatus:function(S){return this.STATE_MAPPING[S]||"None"},isReadyForUpload:function(S){return S===this.STATUS.DOWNLOADED||S===this.STATUS.TRANSFORMED},isModified:function(S){return S===this.STATUS.TRANSFORMED}}});
},
	"astrobear/abaplorer/controller/BWDisplayIOBJ.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/util/File","sap/m/MessageToast","astrobear/abaplorer/model/ADTAdapter"],function(e,t,a,o){"use strict";return e.extend("astrobear.abaplorer.controller.BWDisplayIOBJ",{onInit:function(){let e=new sap.ui.model.json.JSONModel({});this.getView().setModel(e);this.loadIOBJMetadata("cq_iohccs")},loadIOBJMetadata:function(e){let t=this.getView().getModel();if(e.trim()==""){a.show("InfoObject technical name is empty");return}this.getView().setBusy(true);o.getIOBJMetadata(e).then(e=>{t.setProperty("/IOBJMetadata",e);if(e.rc!==0){a.show("Failed to load metadata: "+e.msg)}this.getView().setBusy(false)}).catch(e=>{a.show("Error loading metadata: "+(e?.message||"Unknown error"));this.getView().setBusy(false)})},onDownloadMetadata:function(e){let a=this.getView().getModel().getProperty("/IOBJMetadata");if(a&&a.rc==0){let e=(new XMLSerializer).serializeToString(a.originalXML);let o=a.iobj.nameSafe;t.save(e,"IOBJ_"+o,"xml","text/xml","utf-8")}},onExportAsCSN:function(e){}})});
},
	"astrobear/abaplorer/controller/DDICSearch/DDICSearch.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/m/MessageBox","sap/m/Token","sap/m/StandardListItem","sap/m/Text","sap/ui/table/Column","sap/ui/comp/valuehelpdialog/ValueHelpDialog","sap/ui/model/type/String","astrobear/abaplorer/util/DDICSearchExecutor","astrobear/abaplorer/util/Logger"],function(e,t,o,n,i,s,a,r,l,c,u,d,g){"use strict";const p=g.getLogger("DDICSearch");return e.extend("astrobear.abaplorer.controller.DDICSearch.DDICSearch",{_lastClickTime:0,_lastClickedTable:null,onInit:function(){p.debug("DDICSearch onInit");const e=new o({search:{tablePattern:"Z*",batchSize:100,concurrency:10,onlyPositive:true},progress:{isRunning:false,current:0,total:0,percentage:0,stopRequested:false},results:[],resultCount:0,preview:{selectedTable:"",description:"",searchCondition:"",columns:[],rows:[],isLoading:false,rowCount:0},tokenState:{currentTokens:[],lastSearchTokens:[]},ui:{searchExpanded:true}});this.getView().setModel(e);this._oFilterInput=this.byId("filterTokens");this._setupTokenValidator();this._setupDoubleClickPrevention();p.debug("DDICSearch initialized")},_setupDoubleClickPrevention:function(){var e=this.byId("resultsTable");if(e){e.addEventDelegate({ondblclick:function(e){e.preventDefault();if(window.getSelection){window.getSelection().removeAllRanges()}}})}},_setupTokenValidator:function(){try{const e=function(e){const t=e&&e.text?String(e.text):"";const o="range_"+Date.now();const n=t.startsWith("*");const i=t.endsWith("*");const a=t.indexOf("*")>0&&t.lastIndexOf("*")<t.length-1;let r="EQ";let l=t;if(a){r="LikePattern"}else if(n&&i){r="Contains";l=t.replace(/^\*+|\*+$/g,"")}else if(i){r="StartsWith";l=t.replace(/\*+$/g,"")}else if(n){r="EndsWith";l=t.replace(/^\*+/g,"")}const c=new s({key:o,text:t});c.data("range",{exclude:false,operation:r,keyField:"VALUE",value1:l,value2:""});return c};if(this._oFilterInput&&this._oFilterInput.addValidator){this._oFilterInput.addValidator(e)}}catch(e){p.warn("Could not attach token validator",e)}},onRunSearch:async function(){const e=this.getView().getModel();const t=e.getProperty("/search/tablePattern").trim();const o=parseInt(e.getProperty("/search/batchSize"),10)||100;const s=e.getProperty("/search/concurrency")||10;const a=e.getProperty("/search/onlyPositive");const r=this._oFilterInput?this._oFilterInput.getTokens():[];if(r.length===0){n.show("Please add at least one filter expression");return}e.setProperty("/results",[]);e.setProperty("/progress/stopRequested",false);e.setProperty("/progress/isRunning",true);e.setProperty("/progress/current",0);e.setProperty("/progress/total",0);e.setProperty("/progress/percentage",0);e.setProperty("/preview/selectedTable","");e.setProperty("/preview/description","");e.setProperty("/preview/columns",[]);e.setProperty("/preview/rows",[]);e.setProperty("/preview/searchCondition","");const l=this.byId("resultsTable");if(l){l.removeSelections(true)}try{const i=await d.getTables(t);if(i.length===0){n.show("No tables found matching the pattern");e.setProperty("/progress/isRunning",false);return}e.setProperty("/progress/total",i.length);n.show("Found "+i.length+" tables, searching...");const l=new Set(i.map(function(e){return e.TABNAME}));let c;try{c=await d.getAllFieldsForPattern(t,r,l)}catch(e){p.warn("Field query failed:",e);c=new Map}const u=[];let g=0;const h=function(){g++;e.setProperty("/progress/current",g);e.setProperty("/progress/percentage",Math.round(g/i.length*100))};for(let t=0;t<i.length;t+=o){if(e.getProperty("/progress/stopRequested")){n.show("Search stopped by user");break}const l=i.slice(t,Math.min(t+o,i.length));const g=[];l.forEach(function(e){const t=c.get(e.TABNAME)||[];if(t.length===0){return}const o=d.buildSearchConditionFromTokens(t,r);g.push({tableName:e.TABNAME,description:e.DDTEXT||"",condition:o})});const f=l.length-g.length;let y;try{y=await d.searchTablesBatch(g,s)}catch(e){p.warn("Batch query failed, falling back to individual queries",e);y=await d.fallbackToIndividualQueries(g)}g.forEach(function(e){const t=y.get(e.tableName)||0;h();if(t>0||!a){u.push({tableName:e.tableName,description:e.description,matchCount:t,searchCondition:e.condition})}});for(let e=0;e<f;e++){h()}e.setProperty("/results",u.slice());await new Promise(function(e){setTimeout(e,0)})}const f=u.filter(function(e){return e.matchCount>0}).length;e.setProperty("/ui/searchExpanded",false);if(!e.getProperty("/progress/stopRequested")){n.show("Search complete: "+f+" tables with matches found")}}catch(e){i.error("Search failed: "+(e&&e.message?e.message:"Unknown error"))}finally{e.setProperty("/progress/isRunning",false)}},onStopSearch:function(){const e=this.getView().getModel();e.setProperty("/progress/stopRequested",true);n.show("Stopping search...")},onResultsInfoPress:function(e){var o=e.getSource();var n=this.getView();if(!this._pResultsInfoPopover){this._pResultsInfoPopover=t.load({id:n.getId(),name:"astrobear.abaplorer.view.DDICSearch.fragments.ResultsInfoPopover",controller:this}).then(function(e){n.addDependent(e);return e})}this._pResultsInfoPopover.then(function(e){e.openBy(o)})},onResultSelect:function(e){const t=e.getParameter("listItem");if(!t){return}const o=t.getBindingContext();const n=o.getObject();p.debug("Result selected:",n.tableName);this._loadPreviewData(n.tableName,n.description,n.searchCondition,0)},onTableItemPress:function(e){const t=e.getParameter("listItem");if(!t){return}const o=t.getBindingContext();const n=o.getObject();const i=Date.now();if(this._lastClickedTable===n.tableName&&i-this._lastClickTime<400){p.debug("Double-click detected on:",n.tableName);this._openTableInNewTab(n);this._lastClickTime=0;this._lastClickedTable=null}else{this._lastClickTime=i;this._lastClickedTable=n.tableName}},_openTableInNewTab:function(e){var t="SELECT * FROM "+e.tableName;if(e.searchCondition){t+=" WHERE "+e.searchCondition}p.debug("Opening SQL Console with query:",t);sap.ui.getCore().getEventBus().publish("App","OpenSQLConsole",{tabName:e.tableName,sql:t})},_loadPreviewData:async function(e,t,o){const i=this.getView().getModel();i.setProperty("/preview/isLoading",true);i.setProperty("/preview/selectedTable",e);i.setProperty("/preview/description",t);i.setProperty("/preview/searchCondition",o);i.setProperty("/preview/columns",[]);i.setProperty("/preview/rows",[]);try{const t=await d.loadPreviewData(e,o);if(t.rc===0){i.setProperty("/preview/columns",t.columns);i.setProperty("/preview/rows",t.rows);i.setProperty("/preview/rowCount",t.rows.length);this._autoResizeColumns(t.columns.length)}else{n.show("Failed to load preview: "+t.msg)}}catch(e){n.show("Error loading preview: "+(e&&e.message?e.message:"Unknown error"))}finally{i.setProperty("/preview/isLoading",false)}},_autoResizeColumns:function(e){const t=this;setTimeout(function(){const o=t.byId("previewTable");if(o&&e>0){for(let t=e-1;t>=0;t--){o.autoResizeColumn(t)}}},0)},previewColumnFactory:function(e,t){const o=t.getObject();const n=o.name;return new l({label:n,autoResizable:true,template:new r({text:"{"+n+"}",wrapping:false}),sortProperty:n})},onFilterVHRequested:function(e){const t=this;const o=e&&e.getSource?e.getSource():null;if(!o){p.warn("onFilterVHRequested no source");return}try{this._expandInternalLikeTokens(this._oFilterInput)}catch(e){p.warn("Failed to expand internal-like tokens",e)}if(!this._oValueHelpDialog){this._oValueHelpDialog=new c({title:"Filter Conditions",supportRanges:true,supportRangesOnly:true,key:"VALUE",ok:function(e){const o=e.getParameter("tokens")||[];t._oFilterInput.setTokens(o);t._oValueHelpDialog.close()},cancel:function(){t._oValueHelpDialog.close()},afterClose:function(){t._oValueHelpDialog.destroy();t._oValueHelpDialog=null}});this.getView().addDependent(this._oValueHelpDialog);this._oValueHelpDialog.setRangeKeyFields([{label:"Value",key:"VALUE",type:"string",typeInstance:new u}])}this._oValueHelpDialog.setTokens(this._oFilterInput?this._oFilterInput.getTokens():[]);this._oValueHelpDialog.open()},_expandInternalLikeTokens:function(e){if(!e||!e.getTokens){return}const t=e.getTokens().slice();t.forEach(function(t){try{const o=t.data&&t.data("range")?t.data("range"):null;if(o&&o.operation==="LikePattern"){const n=String(o.value1||"");const i=n.indexOf("*");const a=n.lastIndexOf("*");if(i>0||a>=0){const r=i>0?n.substring(0,i):"";const l=a>=0&&a<n.length-1?n.substring(a+1):"";e.removeToken(t);if(r){const n="range_"+Date.now()+"_1";const i=new s({key:n,text:r+"*"});i.data("range",{exclude:false,operation:"StartsWith",keyField:o.keyField||"VALUE",value1:r,value2:""});i.data("origin",t.getKey());e.addToken(i)}if(l){const n="range_"+Date.now()+"_2";const i=new s({key:n,text:"*"+l});i.data("range",{exclude:false,operation:"EndsWith",keyField:o.keyField||"VALUE",value1:l,value2:""});i.data("origin",t.getKey());e.addToken(i)}}}}catch(e){p.warn("Error expanding token",e)}})},onOpenConditionsDialog:function(){this._openConditionsDialog(this._oFilterInput)},_openConditionsDialog:function(e){const o=this;if(!e){return}this._dialogTarget=e;this._dialogEditingKey=null;this._dialogPendingNew=true;if(!this._conditionsDialog){t.load({id:this.getView().getId(),name:"astrobear.abaplorer.view.DDICSearch.fragments.FilterConditionsDialog",controller:this}).then(function(e){o._conditionsDialog=e;o.getView().addDependent(e);e.attachAfterClose(function(){o._dialogEditingKey=null;o._dialogPendingNew=false});o._refreshDialogList();e.open()})}else{this._refreshDialogList();this._conditionsDialog.open()}},_refreshDialogList:function(){const e=this;const t=this.byId("conditionsList");if(!t){return}t.removeAllItems();const o=this._dialogTarget?this._dialogTarget.getTokens():[];o.forEach(function(o){const n=new a({title:o.getText(),type:"Active"});n.data("tokKey",o.getKey());n.attachPress(function(){e._dialogEditingKey=o.getKey();const t=o.data&&o.data("range")?o.data("range"):null;const n=e.byId("operationSelect");const i=e.byId("conditionValueInput");const s=e.byId("excludeSwitch");if(t){n.setSelectedKey(t.operation||"EQ");i.setValue(t.value1||o.getText());s.setState(!!t.exclude)}else{n.setSelectedKey("EQ");i.setValue(o.getText());s.setState(false)}});t.addItem(n)})},onDeleteSelectedCondition:function(){const e=this.byId("conditionsList");const t=e.getSelectedItems();const o=this;t.forEach(function(e){const t=e.data("tokKey");o._removeTokenByKey(t)});this._refreshDialogList()},onSaveCondition:function(){const e=this.byId("operationSelect");const t=this.byId("conditionValueInput");const o=this.byId("excludeSwitch");const n=e.getSelectedKey();const i=t.getValue();const s=o.getState();if(this._dialogEditingKey){this._saveDialogEdit(this._dialogEditingKey,n,i,s)}else if(this._dialogPendingNew){this._saveDialogNew(this._dialogTarget,n,i,s)}this._refreshDialogList();this._conditionsDialog.close()},onCloseConditionsDialog:function(){this._conditionsDialog.close()},_saveDialogEdit:function(e,t,o,n){if(!this._dialogTarget){return}const i=this._dialogTarget.getTokens();const s=i.find(function(t){return t.getKey()===e});if(s){const e=this._formatTokenText(t,o);s.setText(e);s.data("range",{exclude:!!n,operation:t,keyField:"VALUE",value1:o,value2:""})}},_saveDialogNew:function(e,t,o,n){if(!e){return}const i=this._formatTokenText(t,o);const a="range_"+Date.now();const r=new s({key:a,text:i});r.data("range",{exclude:!!n,operation:t,keyField:"VALUE",value1:o,value2:""});e.addToken(r)},_removeTokenByKey:function(e){if(!this._dialogTarget){return}const t=this._dialogTarget.getTokens();const o=t.find(function(t){return t.getKey()===e});if(o){this._dialogTarget.removeToken(o)}},_formatTokenText:function(e,t){switch(e){case"LikePattern":return t;case"Contains":return"*"+t+"*";case"StartsWith":return t+"*";case"EndsWith":return"*"+t;default:return t}},onExit:function(){p.debug("DDICSearch onExit");if(this._conditionsDialog){this._conditionsDialog.destroy();this._conditionsDialog=null}if(this._oValueHelpDialog){this._oValueHelpDialog.destroy();this._oValueHelpDialog=null}if(this._pResultsInfoPopover){this._pResultsInfoPopover.then(function(e){e.destroy()}).catch(function(){});this._pResultsInfoPopover=null}}})});
},
	"astrobear/abaplorer/controller/FindTablesByTLogo.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageToast","astrobear/abaplorer/model/ADTAdapter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/Text","sap/ui/table/Column"],function(e,t,o,s,i,n,l,r){"use strict";return e.extend("astrobear.abaplorer.controller.FindTablesByTLogo",{onInit:function(){const e=new t({tlogoSuggestions:[],ui:{selectedDescription:"",tableVisible:false},allResult:{rows:[],columns:[],rc:null,msg:""},result:{rows:[],columns:[],rc:null,msg:""}});this.getView().setModel(e);this._clickTimer=null;this._colObjectName="OBJECTNAME";this._colTobjName="TOBJ_NAME";this._colTableDesc="TABLE_DESC";this._colTobjKey="TOBJKEY";this._loadSQL();const o=this.byId("tlogoResultTable");if(o){o.addEventDelegate({ondblclick:this.onRowDblClick.bind(this)})}},_getSQL:function(){return"SELECT objsl~objectname, objsl~tobject, objsl~tobj_name, objsl~tobjkey, "+"dd02t~ddtext FROM objsl "+"LEFT OUTER JOIN dd02t ON objsl~tobj_name = dd02t~tabname AND dd02t~ddlanguage = 'E'"},_sanitizeData:function(e){if(!e||!e.columns||!e.rows)return e;const t={};const o=e.columns.map(e=>{const o=e.name;let s=o.toUpperCase().includes("DDTEXT")?"TABLE_DESC":o.includes("~")?o.split("~")[1]:o;t[o]=s;return{name:s,type:e.type,length:e.length}});const s=["OBJECTNAME","TOBJ_NAME","TABLE_DESC","TOBJKEY"];const i=o.filter(e=>s.includes(e.name)).sort((e,t)=>s.indexOf(e.name)-s.indexOf(t.name));const n=e.rows.map(e=>{const o={};Object.keys(e).forEach(s=>{const i=t[s]||s;let n=e[s];o[i]=typeof n==="string"?n.trim():n});return o});return{columns:i,rows:n,rc:e.rc,msg:e.msg}},_loadSQL:function(){const e=this.getView().getModel();this.getView().setBusy(true);s.sqlDataPreview(this._getSQL(),0).then(t=>{if(t.rc&&t.rc!==0){o.show("SQL Error: "+t.msg);return}const s=this._sanitizeData(t);e.setProperty("/allResult",s);e.setProperty("/result",s);this._buildSuggestionsFromResult(s);this._applyBuiltInFilter("###NO_MATCH###");this._resizeTable(s)}).catch(e=>{o.show("Adapter Error: "+(e.message||"Unknown"))}).finally(()=>{this.getView().setBusy(false)})},_buildSuggestionsFromResult:function(e){const t=this.getView().getModel();const o=e?.rows||[];const s=new Map;o.forEach(e=>{const t=e?.[this._colObjectName];if(t==null)return;const o=String(t).trim();if(!o||s.has(o))return;const i=e?.[this._colTableDesc]||"";s.set(o,i?`${o} - ${i}`:o)});const i=Array.from(s.entries()).sort((e,t)=>e[0].localeCompare(t[0])).map(([e,t])=>({key:e,text:t}));t.setProperty("/tlogoSuggestions",i)},_resizeTable:function(e){const t=this.byId("tlogoResultTable");if(t){const o=()=>{if(t.getDomRef()&&e.columns?.length){setTimeout(()=>{e.columns.forEach((e,o)=>t.autoResizeColumn(o))},500)}};t.addEventDelegate({onAfterRendering:o});o()}},onSuggest:function(e){const t=e.getParameter("suggestValue");const o=[];if(t){o.push(new i("text",n.Contains,t))}const s=e.getSource();const l=s.getBinding("suggestionItems");l.filter(o);s.suggest()},onSuggestionItemSelected:function(e){const t=e.getParameter("selectedItem");if(!t)return;const o=(t.getKey()||"").trim();const s=t.getText();this.byId("tlogoInput").setValue(o);let i=s.includes(" - ")?s.split(" - ")[1]:"";const n=this.getView().getModel();n.setProperty("/ui/selectedDescription",i);n.setProperty("/ui/tableVisible",true);this._applyBuiltInFilter(o)},onSearch:function(e){const t=e.getParameter("query")||e.getParameter("value")||"";const o=(t||"").split("-")[0].trim();const s=this.getView().getModel();const i=s.getProperty("/tlogoSuggestions")||[];const n=i.find(e=>e.key===o);let l=n&&n.text.includes(" - ")?n.text.split(" - ")[1]:"";s.setProperty("/ui/selectedDescription",l);if(o){s.setProperty("/ui/tableVisible",true)}this._applyBuiltInFilter(o)},onTLogoLiveChange:function(e){const t=e.getParameter("value")||"";if(!t){this.getView().getModel().setProperty("/ui/selectedDescription","");this.getView().getModel().setProperty("/ui/tableVisible",false);this._applyBuiltInFilter("###NO_MATCH###")}},_applyBuiltInFilter:function(e){const t=this.byId("tlogoResultTable");const o=t?t.getBinding("rows"):null;if(!o)return;const s=(e||"").trim().toUpperCase();if(s==="###NO_MATCH###"||!s){o.filter([new i({path:this._colObjectName,test:()=>false})])}else{o.filter([new i({path:this._colObjectName,test:e=>e!=null&&String(e).toUpperCase().includes(s)})])}},onCellClick:function(e){const t=this.byId("tlogoResultTable");const o=e.getParameter("rowIndex");if(!t||o==null||o<0)return;const s=t.getContextByIndex(o);if(!s)return;const i=(s.getProperty(this._colTobjName)||"").trim();if(this._clickTimer)clearTimeout(this._clickTimer);this._clickTimer=setTimeout(()=>{this._clickTimer=null;this._openSqlConsole(i)},300)},onRowDblClick:function(e){if(this._clickTimer){clearTimeout(this._clickTimer);this._clickTimer=null}const t=e.srcControl?e.srcControl.getBindingContext():null;if(t){const e=(t.getProperty(this._colTobjName)||"").trim();if(e)this._openWebGui(e)}},_openSqlConsole:function(e){const t="SELECT * FROM "+e;try{let s=this.getView();let i=null;while(s){if(s.getController&&s.getController().createNewTab){i=s.getController();break}s=s.getParent()}if(i){i.createNewTab("SQL: "+e,"astrobear.abaplorer.view.SQLConsole",null,{initialSQL:t})}else{o.show("Navigation Error: Main application controller not found.")}}catch(e){o.show("Error opening SQL Console")}},_openWebGui:function(e){sap.m.URLHelper.redirect("/sap/bc/gui/sap/its/webgui?~transaction=*se11%20RSRD1-TBMA_VAL="+encodeURIComponent(e)+";DYNP_OKCODE=WB_DISPLAY#",true)},tableColumnFactory:function(e,t){const o=t.getObject().name;const s=String(o).toUpperCase();let i=o;if(s==="TOBJ_NAME")i="Table Name";if(s==="TABLE_DESC")i="Table Description";if(s==="TOBJKEY")i="Key";return new r({label:i,autoResizable:true,template:new l({text:"{"+o+"}",wrapping:false}),sortProperty:o})}})});
},
	"astrobear/abaplorer/controller/Home.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/GenericTile","sap/m/TileContent","sap/m/ImageContent","sap/ui/core/CustomData","astrobear/abaplorer/model/tools"],function(e,t,o,n,a,i){"use strict";return e.extend("astrobear.abaplorer.controller.Home",{onInit:function(){var e=new sap.ui.model.json.JSONModel;e.setData({tools:i.tools});this.getView().setModel(e)},openPage:function(e){try{const t=this.getOwnerComponent&&this.getOwnerComponent();let o=null;if(t&&t.getRootControl){const e=t.getRootControl();if(e&&e.getController){o=e.getController()}}if(!o&&sap.ui.getCore&&sap.ui.getCore().byId){const e=sap.ui.getCore().byId("Main");if(e&&e.getController){o=e.getController()}}if(o&&o.createNewTab){o.createNewTab(e.title,e.viewName);return}}catch(e){}sap.ui.core.mvc.XMLView.create({viewName:e.viewName}).then(e=>e.placeAt("content"))},onToolLinkPress:function(e){var t=e.getSource().getBindingContext("tool")||e.getSource().getBindingContext();var o=t?t.getObject():null;if(o&&o.viewName){this.openPage({title:o.header,viewName:o.viewName})}else{console.warn("Home.controller: Tool link pressed but no viewName found in context")}},onGenericTilePress:function(e){const t=e.getSource();let o=t.data&&t.data("viewName");if(!o){const e=t.getCustomData&&t.getCustomData();if(e&&e.length){const t=e.find(e=>e.getKey&&e.getKey()==="viewName");o=t&&t.getValue&&t.getValue()}}if(o){this.openPage({title:t.getHeader&&t.getHeader(),viewName:o})}else{console.warn("Home.controller: GenericTile pressed but no viewName customData found")}}})});
},
	"astrobear/abaplorer/controller/LogViewer.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageToast","sap/m/MessageBox","sap/ui/core/util/File","astrobear/abaplorer/model/LogStorage","astrobear/abaplorer/util/Logger"],function(e,t,o,s,r,i,l){"use strict";const a=l.getLogger("LogViewer");return e.extend("astrobear.abaplorer.controller.LogViewer",{_autoRefreshTimer:null,_autoRefreshInterval:5e3,_searchDebounceTimer:null,onInit:function(){const e=new t({logs:[],logCount:0,busy:false,autoRefresh:false,filters:{level:"",module:"",startTime:"",endTime:"",search:""},moduleList:[{key:"",text:"All Modules"}]});this.getView().setModel(e);i.init().then(()=>{this._loadModuleList();this._loadLogs();a.info("LogViewer initialized")}).catch(e=>{a.error("Failed to initialize LogStorage:",e);s.error("Failed to initialize log storage: "+e.message)})},onExit:function(){if(this._autoRefreshTimer){clearInterval(this._autoRefreshTimer);this._autoRefreshTimer=null}if(this._searchDebounceTimer){clearTimeout(this._searchDebounceTimer);this._searchDebounceTimer=null}},_loadModuleList:function(){const e=this.getView().getModel();i.getModules().then(t=>{const o=[{key:"",text:"All Modules"}];t.forEach(e=>{o.push({key:e,text:e})});e.setProperty("/moduleList",o)}).catch(e=>{a.warn("Failed to load module list:",e)})},_loadLogs:function(){const e=this.getView().getModel();const t=e.getProperty("/filters");e.setProperty("/busy",true);const s={};if(t.level){s.level=t.level}if(t.module){s.module=t.module}if(t.startTime){s.startTime=new Date(t.startTime)}if(t.endTime){s.endTime=new Date(t.endTime)}if(t.search){s.search=t.search}i.getLogCount(s).then(t=>{e.setProperty("/logCount",t);s.limit=1e3;return i.getLogs(s)}).then(t=>{e.setProperty("/logs",t);e.setProperty("/busy",false)}).catch(t=>{a.error("Failed to load logs:",t);e.setProperty("/busy",false);o.show("Failed to load logs")})},formatTimestamp:function(e){if(!e){return""}const t=new Date(e);if(isNaN(t.getTime())){return""}const o=e=>e.toString().padStart(2,"0");return t.getFullYear()+"-"+o(t.getMonth()+1)+"-"+o(t.getDate())+" "+o(t.getHours())+":"+o(t.getMinutes())+":"+o(t.getSeconds())},formatLevelState:function(e){switch(e){case"ERROR":return"Error";case"WARN":return"Warning";case"INFO":return"Information";case"DEBUG":return"None";default:return"None"}},onRefresh:function(){this._loadModuleList();this._loadLogs();o.show("Logs refreshed")},onToggleAutoRefresh:function(){const e=this.getView().getModel();const t=e.getProperty("/autoRefresh");if(t){if(!this._autoRefreshTimer){this._autoRefreshTimer=setInterval(()=>{this._loadLogs()},this._autoRefreshInterval);a.debug("Auto-refresh started")}}else{if(this._autoRefreshTimer){clearInterval(this._autoRefreshTimer);this._autoRefreshTimer=null;a.debug("Auto-refresh stopped")}}},onFilterChange:function(){this._loadLogs()},onSearch:function(e){const t=this.getView().getModel();const o=e.getParameter("query");t.setProperty("/filters/search",o);this._loadLogs()},onSearchLiveChange:function(e){const t=this.getView().getModel();const o=e.getParameter("newValue");if(this._searchDebounceTimer){clearTimeout(this._searchDebounceTimer)}this._searchDebounceTimer=setTimeout(()=>{t.setProperty("/filters/search",o);this._loadLogs()},300)},onClearFilters:function(){const e=this.getView().getModel();e.setProperty("/filters",{level:"",module:"",startTime:"",endTime:"",search:""});const t=this.byId("searchField");if(t){t.setValue("")}this._loadLogs();o.show("Filters cleared")},onExport:function(){const e=this.getView().getModel();const t=e.getProperty("/filters");e.setProperty("/busy",true);const l={};if(t.level){l.level=t.level}if(t.module){l.module=t.module}if(t.startTime){l.startTime=new Date(t.startTime)}if(t.endTime){l.endTime=new Date(t.endTime)}if(t.search){l.search=t.search}i.exportAsJSON(l).then(t=>{const s=(new Date).toISOString().replace(/[:.]/g,"-");const i="abaplorer-logs-"+s+".json";r.save(t,i.replace(".json",""),"json","application/json","utf-8");e.setProperty("/busy",false);o.show("Logs exported");a.info("Exported logs to",i)}).catch(t=>{e.setProperty("/busy",false);a.error("Failed to export logs:",t);s.error("Failed to export logs: "+t.message)})},onClearLogs:function(){const e=this.getView().getModel();const t=e.getProperty("/filters");const o=t.level||t.module||t.startTime||t.endTime;const r=o?"Clear logs matching the current filters?":"Clear ALL logs? This action cannot be undone.";s.confirm(r,{title:"Clear Logs",onClose:e=>{if(e===s.Action.OK){this._doClearLogs(o?t:null)}}})},_doClearLogs:function(e){const t=this.getView().getModel();t.setProperty("/busy",true);let r=null;if(e){r={};if(e.level){r.level=e.level}if(e.module){r.module=e.module}if(e.startTime){r.startTime=new Date(e.startTime)}if(e.endTime){r.endTime=new Date(e.endTime)}}i.clearLogs(r).then(e=>{t.setProperty("/busy",false);this._loadModuleList();this._loadLogs();if(e===-1){o.show("All logs cleared");a.info("All logs cleared")}else{o.show(e+" logs cleared");a.info("Cleared",e,"logs")}}).catch(e=>{t.setProperty("/busy",false);a.error("Failed to clear logs:",e);s.error("Failed to clear logs: "+e.message)})}})});
},
	"astrobear/abaplorer/controller/Main.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","sap/ui/core/Fragment","sap/m/Menu","sap/m/MenuItem","sap/m/Dialog","sap/m/Input","sap/m/Button","astrobear/abaplorer/util/Logger"],function(e,t,o,n,a,r,i,s,u,l){"use strict";var c=u.getLogger("Main");return e.extend("astrobear.abaplorer.controller.Main",{sqlConsoleId:0,onInit:function(){const e=new sap.ui.model.json.JSONModel({});var t=new sap.ui.model.json.JSONModel({about:{appVersion:"1.0.27",uiVersion:sap.ui.version}});this.getView().setModel(t);var o=sap.ui.require&&sap.ui.require.toUrl?sap.ui.require.toUrl("astrobear.abaplorer/mock/RepositoryTree.json"):null;var n="mock/RepositoryTree.json";this.getView().setModel(e,"Repository");var a=function(t){return new Promise(function(o){$.ajax({url:t,dataType:"json",cache:false,success:function(t){e.setData(t);o(true)},error:function(){o(false)}})})};a(n).then(function(e){if(!e&&o){a(o)}});setTimeout(function(){try{var e=this.byId("myTabContainer");var t=e&&e.getItems&&e.getItems();if(t&&t.length){var o=t[0];e.setSelectedItem(o);var n=o.getContent&&o.getContent();if(!n||n.length===0){sap.ui.core.mvc.XMLView.create({viewName:"astrobear.abaplorer.view.Home"}).then(function(e){o.addContent(e)}).catch(function(e){console.error("Failed to create Home view for first tab",e)})}}if(e){this._setupTabContextMenu(e)}}catch(e){}}.bind(this),0);sap.ui.getCore().getEventBus().subscribe("App","OpenSQLConsole",this._onOpenSQLConsole,this);this._startBrowserTitleUpdate()},_startBrowserTitleUpdate:function(){var e=0;var t=20;if(this._titleTimer){clearInterval(this._titleTimer)}this._titleTimer=setInterval(function(){e++;var o=null;try{var n=this.getOwnerComponent();if(n&&n.rainbow&&n.rainbow.systemName){o=n.rainbow.systemName}}catch(e){o=null}if(o&&o!=="Current"){this._updateBrowserTitle(o);clearInterval(this._titleTimer);this._titleTimer=null;return}if(e>=t){clearInterval(this._titleTimer);this._titleTimer=null;document.title="ABAPlorer"}}.bind(this),500)},_updateBrowserTitle:function(e){document.title="ABAPlorer - "+e},_onOpenSQLConsole:function(e,t,o){this.sqlConsoleId+=1;var n=o.tabName||"SQL Console "+this.sqlConsoleId;this.createNewTab(n,"astrobear.abaplorer.view.SQLConsole",null,{initialSQL:o.sql})},_setupTabContextMenu:function(e){var t=this;e.addEventDelegate({onAfterRendering:function(){setTimeout(function(){t._attachContextMenuToTabs(e)},100)}})},onExit:function(){if(this._titleTimer){clearInterval(this._titleTimer);this._titleTimer=null}if(this._pTCodePromptPopover){this._pTCodePromptPopover.then(function(e){e.destroy()}).catch(function(){});this._pTCodePromptPopover=null}},onCollapseExpandPress:function(){var e=this.getView().byId("sideNavigation");e.setCollapsed(!e.getCollapsed())},openHome:function(e){var t=this.getView().byId("myTabContainer");var o=t&&t.getItems&&t.getItems();if(o&&o.length){for(var n=0;n<o.length;n++){if(o[n].getName&&o[n].getName()==="Home"){t.setSelectedItem(o[n]);return}}}this.createNewTab("Home","astrobear.abaplorer.view.Home",function(){})},onNavSelectionChange:function(e){setTimeout(function(){var t=e.getParameters().item;if(t.data("sticky")!="true"){t.setSelected(false)}},0)},openSQLConsole:function(e){this.sqlConsoleId+=1;this.createNewTab("SQL Console "+this.sqlConsoleId,"astrobear.abaplorer.view.SQLConsole",function(){})},openTools:function(e){var t=this.getView().byId("myTabContainer");var o=t&&t.getItems&&t.getItems();if(o&&o.length){for(var n=0;n<o.length;n++){if(o[n].getName&&o[n].getName()==="Tools"){t.setSelectedItem(o[n]);return}}}this.createNewTab("Tools","astrobear.abaplorer.view.Tools",function(){})},openQueryStorage:function(e){this.createNewTab("Query Manager","astrobear.abaplorer.view.QueryManager.QueryManager",function(){})},openDDICSearch:function(e){this.createNewTab("DDIC Search","astrobear.abaplorer.view.DDICSearch.DDICSearch",function(){})},openTransactionList:function(e){this.createNewTab("Transaction List","astrobear.abaplorer.view.TransactionList",function(){})},openRainbow:function(e){this.createNewTab("Rainbow Bridge","astrobear.abaplorer.view.Rainbow",function(){})},openLogViewer:function(e){this.createNewTab("Log Viewer","astrobear.abaplorer.view.LogViewer",function(){})},createNewTab:function(e,t,o,n){var a=this.getView().byId("myTabContainer");var r=new sap.m.TabContainerItem;r.setName(e);a.addItem(r);a.setSelectedItem(r);this.getOwnerComponent().runAsOwner(()=>sap.ui.core.mvc.XMLView.create({viewName:t,viewData:n})).then(e=>{r.addContent(e);if(o){o(e)}})},_attachContextMenuToTabs:function(e){var t=this;var o=e.getDomRef();if(!o){console.error("Could not find TabContainer DOM");return}var n=o.querySelectorAll('[role="tab"]');if(n.length===0){n=o.querySelectorAll(".sapMTabContainerItem, .sapMITBItem, button")}var a=e.getItems();n.forEach(function(e,o){if(e._contextMenuHandler){e.removeEventListener("contextmenu",e._contextMenuHandler,true)}e._contextMenuHandler=function(e){e.preventDefault();e.stopPropagation();if(a[o]){t._showRenameMenu(e,a[o])}return false};e.addEventListener("contextmenu",e._contextMenuHandler,true)})},popupSearchBWObject:function(){},promtTCode:function(e){var t=e.getSource();var n=this.getView();if(!this._pTCodePromptPopover){this._pTCodePromptPopover=o.load({id:n.getId(),name:"astrobear.abaplorer.view.TCodePrompt",controller:this}).then(function(e){e.attachAfterClose(function(){t.setSelected(false)});n.addDependent(e);return e})}this._pTCodePromptPopover.then(function(e){try{var o=t.getParent().getDomRef().shadowRoot.querySelector('ui5-tree-item-ui5[text="'+t.getText()+'"]').getBoundingClientRect();var n=t.getParent().getDomRef().shadowRoot.querySelector("div.ui5-sn-root").getBoundingClientRect();e.setOffsetY(0-Math.floor(n.height/2)+Math.floor(o.top-n.top+o.height/2))}catch(e){var a=e&&e.message?e.message:e;c.warn("Could not calculate popover offset:",a)}e.openBy(t.getParent())}).catch(function(e){var t=e&&e.message?e.message:e;c.error("Failed to load TCode popover:",t)})},openTCode:function(){var e=this.byId("tCodeInput");var t=e.getValue().trim();sap.m.URLHelper.redirect("/sap/bc/gui/sap/its/webgui"+(t?"?~transaction=*"+t:""),true);e.setValue("");this.byId("myTCodePrompPopover").close()},openFLP:function(e){sap.m.URLHelper.redirect("/sap/bc/ui2/flp",true)},openABAPDocu:function(e){sap.m.URLHelper.redirect("/sap/public/bc/abap/docu",true)},_showRenameMenu:function(e,t){this._currentTabForRename=t;if(!this._oContextMenu){this._oContextMenu=new n({items:[new a({text:"Rename",icon:"sap-icon://edit",press:function(){this._openRenameDialog(this._currentTabForRename)}.bind(this)})]});this.getView().addDependent(this._oContextMenu)}this._oContextMenu.openAsContextMenu(e,e.target)},_openRenameDialog:function(e){var o=e.getName();var n=new r({title:"Rename Tab",content:new i({id:this.createId("renameInput"),value:o,placeholder:"Enter new tab name",liveChange:function(e){var t=e.getParameter("value");var o=n.getBeginButton();o.setEnabled(t.trim().length>0)}}),beginButton:new s({text:"OK",type:"Emphasized",press:function(){var o=sap.ui.getCore().byId(this.createId("renameInput"));var a=o.getValue();if(a&&a.trim()){e.setName(a.trim());t.show("Tab renamed to '"+a.trim()+"'")}n.close()}.bind(this)}),endButton:new s({text:"Cancel",press:function(){n.close()}}),afterClose:function(){n.destroy()}});n.open();setTimeout(function(){var e=sap.ui.getCore().byId(this.createId("renameInput"));if(e){e.focus();e.selectText(0,o.length)}}.bind(this),100)},openDialogAbout:function(){var e=this.getView();if(!this._pDialogAbout){this._pDialogAbout=o.load({id:e.getId(),name:"astrobear.abaplorer.view.DialogAbout",controller:this}).then(function(t){t.setModel(e.getModel());return t})}this._pDialogAbout.then(function(e){e.open()})},closeDialogAbout:function(){this._pDialogAbout.then(function(e){e.close()})}})});
},
	"astrobear/abaplorer/controller/MoveIOBJToInfoArea.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/util/File","sap/m/MessageToast","astrobear/abaplorer/model/ADTAdapter","sap/ui/model/json/JSONModel"],function(e,t,r,n,o){"use strict";return e.extend("astrobear.abaplorer.controller.MoveIOBJToInfoArea",{onInit:function(){var e=new o({namesInput:"",infoArea:"",transport:"",log:""});this.getView().setModel(e)},isMoveEnabled:function(e,t,r){const n=e=>(e??"").toString().trim().length>0;const o=e=>(e??"").toString().split(/\r?\n/).map(e=>e.trim()).filter(Boolean).length>0;return o(e)&&n(t)&&n(r)},onMove:function(){var e=this.getView();var t=e.getModel();var o=(t.getProperty("/namesInput")||"").trim();var a=(t.getProperty("/infoArea")||"").trim();var i=(t.getProperty("/transport")||"").trim();if(!o){r.show("Please give at least one input");return}if(!a){r.show("Please type in a target InfoArea.");return}if(!i){r.show("Please enter a transport number.");return}var s=o.split(/\r?\n/).map(function(e){return e.trim()}).filter(Boolean);if(!s.length){r.show("Found no valid InfoObject names in input.");return}t.setProperty("/log","");e.setBusy(true);n.BW.moveIOBJToInfoArea(s,a,i).then(function(e){}).catch(function(e){var r=t.getProperty("/log")||"";r+="Netzwerk-/Fetch-Fehler: "+e+"\n";t.setProperty("/log",r);console.error(e)}).finally(function(){e.setBusy(false)})}})});
},
	"astrobear/abaplorer/controller/QueryManager/Analyze.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/util/File","sap/m/MessageToast","astrobear/abaplorer/model/QueryStorage","astrobear/abaplorer/model/BWQueryTransformer","astrobear/abaplorer/util/Logger"],function(e,t,n,r,a,i){"use strict";const l=i.getLogger("Analyze");const s={Qry:"http://www.sap.com/bw/Query.ecore",xsi:"http://www.w3.org/2001/XMLSchema-instance"};return e.extend("astrobear.abaplorer.controller.QueryManager.Analyze",{onInit:function(){l.debug("Analyze.onInit called")},onAnalyzeFilters:function(){let e=this.getView().getModel();let t=e.getProperty("/analyze/searchInfoObject");if(!t||t.trim().length===0){n.show("Please enter an InfoObject name");return}t=t.trim().toUpperCase();l.info("Starting filter analysis for:",t);e.setProperty("/analyze/isSearching",true);e.setProperty("/analyze/searchComplete",false);e.setProperty("/analyze/statusMessage","");e.setProperty("/analyze/distinctDefinitions",[]);this._executeAnalysis(t).then(function(n){e.setProperty("/analyze/totalQueriesSearched",n.totalSearched);e.setProperty("/analyze/matchingQueries",n.matchingCount);e.setProperty("/analyze/distinctDefinitions",n.definitions);e.setProperty("/analyze/isSearching",false);e.setProperty("/analyze/searchComplete",true);if(n.matchingCount>0){e.setProperty("/analyze/statusMessage","Found "+n.matchingCount+" queries with "+t+" in "+n.definitions.length+" distinct implementation(s).");e.setProperty("/analyze/statusType","Success")}else{e.setProperty("/analyze/statusMessage","No queries found containing filter "+t);e.setProperty("/analyze/statusType","Warning")}l.info("Analysis complete:",n)}).catch(function(t){l.error("Analysis failed:",t);e.setProperty("/analyze/isSearching",false);e.setProperty("/analyze/searchComplete",true);e.setProperty("/analyze/statusMessage","Analysis failed: "+t.message);e.setProperty("/analyze/statusType","Error")})},_executeAnalysis:function(e){let t=this;return r.listQueries().then(function(n){l.debug("Analyzing",n.length,"queries for",e);let r=new Map;let i=0;for(let s of n){if(!s.xmlString){l.debug("Skipping query without XML:",s.queryName);continue}try{let n=a.parseXML(s.xmlString);let l=t._extractFilterDefinition(n,e);if(l){i++;let e=t._hashDefinition(l);if(!r.has(e)){r.set(e,{definitionId:e,details:l,summary:t._createDefinitionSummary(l),queries:[],queryCount:0,expanded:false})}let n=r.get(e);n.queries.push({queryName:s.queryName,infoProvider:s.metadata?.infoProvider||"Unknown"});n.queryCount++}}catch(e){l.warn("Error parsing query",s.queryName,":",e.message)}}let s=Array.from(r.values());s.sort(function(e,t){return t.queryCount-e.queryCount});if(s.length>0&&s.length<=3){s[0].expanded=true}return{totalSearched:n.length,matchingCount:i,definitions:s}})},_extractFilterDefinition:function(e,t){let n;try{n=a.findMainComponent(e)}catch(e){return null}let r=this._findElement(n,"filter");if(!r){return null}let i=this._findElements(r,"selections");for(let e of i){let n=e.getAttribute("infoObject");let r=this._findElement(e,"localDimension");let a=r?r.getAttribute("infoObjectName"):null;let i=n&&n.toUpperCase()===t||a&&a.toUpperCase()===t;if(i){return this._parseSelectionDefinition(e,r)}}return null},_parseSelectionDefinition:function(e,t){let n={usageType:e.getAttribute("usageType")||null,readModeType:null,readModeDefault:null,f4VariablesType:null,f4VariablesDefault:null,hierarchyActive:null,hierarchyName:null,tokenCount:0,tokens:[]};if(t){let e=this._findElement(t,"readMode");if(e){n.readModeType=e.getAttribute("type");n.readModeDefault=e.getAttribute("default")==="true"}let r=this._findElement(t,"f4accessVariables");if(r){n.f4VariablesType=r.getAttribute("type");n.f4VariablesDefault=r.getAttribute("default")==="true"}let a=this._findElement(t,"hierarchy");if(a){n.hierarchyActive=a.getAttribute("active")==="true";let e=this._findElement(a,"name");if(e){n.hierarchyName=e.getAttribute("value")||e.textContent||null}}}let r=this._findElements(e,"tokens");n.tokenCount=r.length;n.tokens=this._extractTokenDetails(r);return n},_extractTokenDetails:function(e){let t=[];for(let n of e){let e=new XMLSerializer;let r=e.serializeToString(n);t.push(r)}return t},_findElement:function(e,t){let n=e.getElementsByTagNameNS(s.Qry,t);if(n.length>0){return n[0]}let r=e.getElementsByTagName("*");for(let e=0;e<r.length;e++){if(r[e].localName===t){return r[e]}}return null},_findElements:function(e,t){let n=Array.from(e.getElementsByTagNameNS(s.Qry,t));if(n.length>0){return n}let r=e.getElementsByTagName("*");let a=[];for(let n=0;n<r.length;n++){if(r[n].localName===t&&r[n].parentNode===e){a.push(r[n])}}return a},_hashDefinition:function(e){let t=["rm:"+(e.readModeType||"null"),"rmd:"+(e.readModeDefault?"1":"0"),"f4:"+(e.f4VariablesType||"null"),"f4d:"+(e.f4VariablesDefault?"1":"0"),"ha:"+(e.hierarchyActive===true?"1":e.hierarchyActive===false?"0":"null"),"hn:"+(e.hierarchyName||"null"),"ut:"+(e.usageType||"null"),"tc:"+e.tokenCount];if(e.tokens&&e.tokens.length>0){let n=e.tokens.join("||");t.push("tk:"+n)}return t.join("|")},_createDefinitionSummary:function(e){let t=[];if(e.readModeType){t.push("ReadMode: "+e.readModeType)}if(e.hierarchyActive===true){t.push("Hierarchy: active"+(e.hierarchyName?" ("+e.hierarchyName+")":""))}else if(e.hierarchyActive===false){t.push("Hierarchy: inactive")}if(e.f4VariablesType){t.push("F4: "+e.f4VariablesType)}if(e.usageType){t.push("Usage: "+e.usageType)}t.push("Tokens: "+e.tokenCount);return t.join(" | ")},onToggleDefinition:function(e){let t=e.getSource();let n=t.getBindingContext();if(n){let e=n.getModel();let t=n.getPath();let r=e.getProperty(t+"/expanded");e.setProperty(t+"/expanded",!r)}},onSelectQuery:function(e){let t=e.getParameter("listItem")||e.getSource();let r=t.getBindingContext();if(r){let e=r.getProperty("queryName");l.debug("Query selected:",e);sap.ui.getCore().getEventBus().publish("QueryManager","QuerySelected",{queryName:e,source:"Analyze"});n.show("Selected: "+e)}},onClearResults:function(){let e=this.getView().getModel();e.setProperty("/analyze/searchInfoObject","");e.setProperty("/analyze/isSearching",false);e.setProperty("/analyze/searchComplete",false);e.setProperty("/analyze/totalQueriesSearched",0);e.setProperty("/analyze/matchingQueries",0);e.setProperty("/analyze/distinctDefinitions",[]);e.setProperty("/analyze/statusMessage","");e.setProperty("/analyze/statusType","Information");l.debug("Analysis cleared")},onExportResults:function(){let e=this.getView().getModel();let r=e.getProperty("/analyze/searchInfoObject");let a=e.getProperty("/analyze/distinctDefinitions");if(!a||a.length===0){n.show("No results to export");return}let i={exportDate:(new Date).toISOString(),infoObject:r,totalQueriesSearched:e.getProperty("/analyze/totalQueriesSearched"),matchingQueries:e.getProperty("/analyze/matchingQueries"),distinctImplementations:a.length,implementations:a.map(function(e){return{summary:e.summary,configuration:e.details,queryCount:e.queryCount,queries:e.queries}})};let s=JSON.stringify(i,null,2);let o="filter_analysis_"+r+"_"+(new Date).toISOString().slice(0,10)+".json";t.save(s,o.replace(/[^a-zA-Z0-9_.-]/g,"_"),"json","application/json");n.show("Analysis exported to "+o);l.info("Analysis exported:",o)},onExit:function(){l.debug("Analyze.onExit called")}})});
},
	"astrobear/abaplorer/controller/QueryManager/BulkDownload.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/json/JSONModel","astrobear/abaplorer/model/QueryStorage","astrobear/abaplorer/util/BulkDownloadManager","astrobear/abaplorer/util/ModelBatcher","astrobear/abaplorer/util/Logger"],function(e,o,t,n,l,a,r,u,i){"use strict";const s=i.getLogger("BulkDownload");return e.extend("astrobear.abaplorer.controller.QueryManager.BulkDownload",{onInit:function(){s.debug("BulkDownload.onInit called")},formatMessageType:function(e){const o=["Information","Success","Warning","Error"];if(e&&o.includes(e)){return e}return"Information"},onBulkQueryInputChange:function(e){let o=e.getParameter("value")||"";let t=this.getView().getModel();let n=r.parseQueryNames(o);t.setProperty("/bulkDownload/parsedCount",n.length)},onLoadQueryNamesFromFile:function(){let e=this;let o=document.createElement("input");o.type="file";o.accept=".txt,.csv";o.onchange=function(o){let n=o.target.files[0];if(!n)return;let l=new FileReader;l.onload=function(o){let n=o.target.result;let l=e.getView().getModel();l.setProperty("/bulkDownload/queryInput",n);let a=r.parseQueryNames(n);l.setProperty("/bulkDownload/parsedCount",a.length);t.show("Loaded "+a.length+" query names from file")};l.readAsText(n)};o.click()},onStartBulkDownload:function(){let e=this.getView().getModel();let o=e.getProperty("/bulkDownload/queryInput");let t=r.parseQueryNames(o);if(t.length===0){n.warning("No valid query names found. Please enter query names.");return}let l=this;let a="Download "+t.length+" queries from SAP?\n\n"+"First 5: "+t.slice(0,5).join(", ")+(t.length>5?"...":"");n.confirm(a,{title:"Confirm Bulk Download",actions:[n.Action.OK,n.Action.CANCEL],emphasizedAction:n.Action.OK,onClose:function(e){if(e===n.Action.OK){l._executeBulkDownload(t)}}})},_executeBulkDownload:function(e){let o=this;let l=this.getView().getModel();let a=l.getProperty("/bulkDownload/saveToStorage");let i=l.getProperty("/bulkDownload/exportToZip");if(!a&&!i){n.warning("Please select at least one output option (Save to storage or Export to ZIP).");return}let s=l.getProperty("/bulkDownload/concurrency")||1;let d=a?l.getProperty("/bulkDownload/skipExisting"):false;r.configure({maxConcurrency:s,skipExisting:d});this._downloadedQueries=[];u.batchUpdate(l,{"/bulkDownload/isRunning":true,"/bulkDownload/percentage":0,"/bulkDownload/displayText":"0 / "+e.length,"/bulkDownload/state":"None","/bulkDownload/currentStatus":"Starting bulk download...","/bulkDownload/statusType":"Information","/bulkDownload/succeeded":0,"/bulkDownload/failed":0,"/bulkDownload/skipped":0,"/bulkDownload/remaining":e.length,"/bulkDownload/total":e.length,"/bulkDownload/failedQueries":[],"/bulkDownload/skippedQueries":[]});this._openBulkDownloadDialog();let c={onProgress:function(e,o,t,n){let a=l.getProperty("/bulkDownload/succeeded");let r=l.getProperty("/bulkDownload/failed");let i=l.getProperty("/bulkDownload/skipped");if(n==="success"){a++}else if(n==="failed"){r++}else if(n==="skipped"){i++}let s=a+r+i;let d=Math.round(s/t*100);let c,p;if(n==="downloading"){c="Downloading: "+e;p="Information"}else{let o=n==="success"?"downloaded":n==="skipped"?"skipped (exists)":"FAILED";c="Completed: "+e+" ("+o+")";p=n==="failed"?"Warning":"Information"}u.batchUpdate(l,{"/bulkDownload/succeeded":a,"/bulkDownload/failed":r,"/bulkDownload/skipped":i,"/bulkDownload/percentage":d,"/bulkDownload/displayText":s+" / "+t,"/bulkDownload/remaining":t-s,"/bulkDownload/currentStatus":c,"/bulkDownload/statusType":p})},onComplete:function(e){let r="Success";let s="Download complete! "+e.succeeded.length+" succeeded";let d="Success";if(e.skipped.length>0){s+=", "+e.skipped.length+" skipped"}if(e.failed.length>0){r=e.succeeded.length>0?"Warning":"Error";s+=", "+e.failed.length+" failed";d="Warning"}if(e.cancelled){r="Warning";s+=" (cancelled by user)";d="Warning"}u.batchUpdate(l,{"/bulkDownload/failedQueries":e.failed,"/bulkDownload/skippedQueries":e.skipped,"/bulkDownload/state":r,"/bulkDownload/currentStatus":s,"/bulkDownload/statusType":d});if(a){sap.ui.getCore().getEventBus().publish("QueryManager","RefreshList")}if(i&&e.succeeded.length>0){l.setProperty("/bulkDownload/currentStatus","Creating ZIP file...");l.setProperty("/bulkDownload/statusType","Information");let a=e.succeeded.map(function(e){return e.queryName});o._exportSucceededQueriesToZip(a).then(function(){l.setProperty("/bulkDownload/isRunning",false);l.setProperty("/bulkDownload/currentStatus",s+" - ZIP exported!");l.setProperty("/bulkDownload/statusType",d);t.show(s+" - ZIP exported!")}).catch(function(e){l.setProperty("/bulkDownload/isRunning",false);l.setProperty("/bulkDownload/currentStatus",s+" - ZIP export failed: "+e.message);l.setProperty("/bulkDownload/statusType","Warning");n.warning("Download completed but ZIP export failed: "+e.message)})}else{l.setProperty("/bulkDownload/isRunning",false);t.show(s)}},onError:function(e){u.batchUpdate(l,{"/bulkDownload/isRunning":false,"/bulkDownload/state":"Error","/bulkDownload/currentStatus":"Error: "+e.message,"/bulkDownload/statusType":"Error"});n.error("Bulk download failed: "+e.message)}};r.startBulkDownload(e,c).catch(function(e){c.onError(e)})},_openBulkDownloadDialog:function(){let e=this.getView();let t=this;if(!this._pBulkDownloadDialog){this._pBulkDownloadDialog=o.load({id:e.getId(),name:"astrobear.abaplorer.view.QueryManager.fragments.BulkDownloadProgress",controller:this}).then(function(o){e.addDependent(o);return o})}this._pBulkDownloadDialog.then(function(e){e.open()})},onBulkDownloadEscapePress:function(e){let o=this.getView().getModel();if(o.getProperty("/bulkDownload/isRunning")){e.reject();t.show("Click 'Cancel' to stop the download")}else{e.resolve()}},onCancelBulkDownload:function(){let e=this;n.confirm("Cancel the bulk download? Queries already downloaded will be kept.",{title:"Confirm Cancel",onClose:function(o){if(o===n.Action.OK){r.cancel();let o=e.getView().getModel();o.setProperty("/bulkDownload/currentStatus","Download cancelled by user");o.setProperty("/bulkDownload/statusType","Warning");o.setProperty("/bulkDownload/state","Warning");t.show("Bulk download cancelled")}}})},onRetryFailed:function(){let e=this.getView().getModel();let o=e.getProperty("/bulkDownload/failedQueries");if(!o||o.length===0){t.show("No failed queries to retry");return}let n=o.map(function(e){return e.queryName});this._executeBulkDownload(n)},onCloseBulkDownloadDialog:function(){let e=this;this._pBulkDownloadDialog.then(function(e){e.close()});let o=this.getView().getModel();if(o.getProperty("/bulkDownload/failed")===0){o.setProperty("/bulkDownload/queryInput","");o.setProperty("/bulkDownload/parsedCount",0)}},_exportSucceededQueriesToZip:function(e){return a.listQueries().then(function(o){let t=o.filter(function(o){return e.includes(o.queryName)});if(t.length===0){throw new Error("No queries found in storage to export")}s.info("Exporting "+t.length+" queries to ZIP");return r.exportToZip(t,"BW_Queries_"+(new Date).toISOString().slice(0,10))})}})});
},
	"astrobear/abaplorer/controller/QueryManager/BulkTransform.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/json/JSONModel","astrobear/abaplorer/util/BulkTransformManager","astrobear/abaplorer/util/ModelBatcher","astrobear/abaplorer/util/Logger"],function(e,r,t,n,s,o,l,i){"use strict";const a=i.getLogger("BulkTransform");return e.extend("astrobear.abaplorer.controller.QueryManager.BulkTransform",{onInit:function(){a.debug("BulkTransform.onInit called");sap.ui.getCore().getEventBus().subscribe("QueryManager","RefreshList",this._onListRefreshed,this)},formatMessageType:function(e){const r=["Information","Success","Warning","Error"];if(e&&r.includes(e)){return e}return"Information"},onExit:function(){sap.ui.getCore().getEventBus().unsubscribe("QueryManager","RefreshList",this._onListRefreshed,this)},_onListRefreshed:function(){let e=this.byId("transformQueryList");if(e){e.removeSelections(true)}let r=this.getView().getModel();if(r){r.setProperty("/bulkTransform/searchQuery","");r.setProperty("/bulkTransform/hiddenSelectedQueries",[]);let e=r.getProperty("/bulkTransform/availableQueries")||[];r.setProperty("/bulkTransform/filteredAvailableQueries",e);r.setProperty("/bulkTransform/selectedQueries",[]);r.setProperty("/bulkTransform/selectedCount",0)}},onFilterInputChange:function(e){let r=e.getParameter("value")||"";let t=this.getView().getModel();let n=o.parseFilterNames(r);t.setProperty("/bulkTransform/parsedFilterCount",n.length);t.setProperty("/bulkTransform/filtersToDelete",n);t.setProperty("/bulkTransform/filtersDisplay",n.join(", "))},onSearchTransformQueries:function(e){let r=e.getParameter("query")||e.getParameter("newValue")||"";let t=this.getView().getModel();let n=t.getProperty("/bulkTransform/availableQueries");let s=t.getProperty("/bulkTransform/selectedQueries")||[];t.setProperty("/bulkTransform/searchQuery",r);if(!r){t.setProperty("/bulkTransform/filteredAvailableQueries",n);t.setProperty("/bulkTransform/hiddenSelectedQueries",[]);this._restoreListSelections(s);return}let o=r.toLowerCase();let l=n.filter(function(e){let r=e.queryName.toLowerCase().includes(o);let t=e.metadata&&e.metadata.infoProvider&&e.metadata.infoProvider.toLowerCase().includes(o);return r||t});let i=l.map(function(e){return e.queryName});let a=s.filter(function(e){return!i.includes(e.queryName)});t.setProperty("/bulkTransform/filteredAvailableQueries",l);t.setProperty("/bulkTransform/hiddenSelectedQueries",a);let u=s.filter(function(e){return i.includes(e.queryName)});this._restoreListSelections(u)},_restoreListSelections:function(e){let r=this.byId("transformQueryList");if(!r)return;let t=e.map(function(e){return e.queryName});r.removeSelections(true);r.getItems().forEach(function(e){let n=e.getBindingContext();if(n){let s=n.getObject();if(t.includes(s.queryName)){r.setSelectedItem(e,true)}}})},onTransformSelectionChange:function(e){let r=this.byId("transformQueryList");let t=r.getSelectedItems();let n=this.getView().getModel();let s=t.map(function(e){return e.getBindingContext().getObject()});let o=n.getProperty("/bulkTransform/hiddenSelectedQueries")||[];let l=s.concat(o);n.setProperty("/bulkTransform/selectedQueries",l);n.setProperty("/bulkTransform/selectedCount",l.length)},onSelectAllDownloaded:function(){let e=this.byId("transformQueryList");let r=this.getView().getModel();let n=r.getProperty("/bulkTransform/filteredAvailableQueries")||[];let s=r.getProperty("/bulkTransform/hiddenSelectedQueries")||[];e.selectAll();let o=n.concat(s);r.setProperty("/bulkTransform/selectedQueries",o);r.setProperty("/bulkTransform/selectedCount",o.length);let l="Selected "+n.length+" visible queries";if(s.length>0){l+=" (+"+s.length+" hidden)"}t.show(l)},onClearTransformSelection:function(){let e=this.byId("transformQueryList");let r=this.getView().getModel();e.removeSelections(true);r.setProperty("/bulkTransform/selectedQueries",[]);r.setProperty("/bulkTransform/hiddenSelectedQueries",[]);r.setProperty("/bulkTransform/selectedCount",0);t.show("Selection cleared")},onStartBulkTransform:function(){let e=this.getView().getModel();let r=e.getProperty("/bulkTransform/selectedQueries");let t=e.getProperty("/bulkTransform/filtersToDelete");if(r.length===0){n.warning("No queries selected. Please select queries to transform.");return}if(t.length===0){n.warning("No filters specified. Please enter InfoObject names to delete.");return}let s=this;let o=r.map(function(e){return e.queryName});let l=[];if(e.getProperty("/bulkTransform/removeFilters")){l.push("Filter selections (Festwert)")}if(e.getProperty("/bulkTransform/removeRows")){l.push("Row dimensions (Standardwert)")}if(e.getProperty("/bulkTransform/removeColumns")){l.push("Column dimensions")}if(e.getProperty("/bulkTransform/removeMembers")){l.push("Column members")}if(e.getProperty("/bulkTransform/removeFree")){l.push("Free characteristics")}let i="Transform and upload "+o.length+" queries?\n\n"+"InfoObjects to remove: "+t.join(", ")+"\n\n"+"Remove from: "+l.join(", ")+"\n\n"+"First 5 queries: "+o.slice(0,5).join(", ")+(o.length>5?"...":"")+"\n\n"+"WARNING: This will modify queries in SAP!";n.confirm(i,{title:"Confirm Bulk Transform & Upload",actions:[n.Action.OK,n.Action.CANCEL],emphasizedAction:n.Action.CANCEL,onClose:function(e){if(e===n.Action.OK){s._executeBulkTransform(o,t)}}})},_executeBulkTransform:function(e,r){let s=this;let i=this.getView().getModel();o.configure({maxConcurrency:1,filtersToDelete:r,skipNoFilter:i.getProperty("/bulkTransform/skipNoFilter"),removeFilters:i.getProperty("/bulkTransform/removeFilters"),removeRows:i.getProperty("/bulkTransform/removeRows"),removeColumns:i.getProperty("/bulkTransform/removeColumns"),removeMembers:i.getProperty("/bulkTransform/removeMembers"),removeFree:i.getProperty("/bulkTransform/removeFree")});l.batchUpdate(i,{"/bulkTransform/isRunning":true,"/bulkTransform/percentage":0,"/bulkTransform/displayText":"0 / "+e.length,"/bulkTransform/state":"None","/bulkTransform/currentStatus":"Starting bulk transform...","/bulkTransform/currentStage":"Initializing","/bulkTransform/statusType":"Information","/bulkTransform/filtersToDeleteDisplay":r.join(", "),"/bulkTransform/succeeded":0,"/bulkTransform/failed":0,"/bulkTransform/skipped":0,"/bulkTransform/remaining":e.length,"/bulkTransform/total":e.length,"/bulkTransform/failedQueries":[],"/bulkTransform/skippedQueries":[],"/bulkTransform/succeededQueries":[]});this._openBulkTransformDialog();let a={onProgress:function(e,r,t,n,s){let o=i.getProperty("/bulkTransform/succeeded");let a=i.getProperty("/bulkTransform/failed");let u=i.getProperty("/bulkTransform/skipped");if(n==="success"){o++}else if(n==="failed"){a++}else if(n==="skipped"){u++}let f=o+a+u;let m=Math.round(f/t*100);let c="Processing";if(n==="loading")c="Loading";else if(n==="transforming")c="Transforming";else if(n==="uploading")c="Uploading";else if(n==="success"||n==="failed"||n==="skipped")c="Complete";l.batchUpdate(i,{"/bulkTransform/succeeded":o,"/bulkTransform/failed":a,"/bulkTransform/skipped":u,"/bulkTransform/percentage":m,"/bulkTransform/displayText":f+" / "+t,"/bulkTransform/remaining":t-f,"/bulkTransform/currentStatus":e+": "+s,"/bulkTransform/currentStage":c,"/bulkTransform/statusType":n==="failed"?"Warning":"Information"})},onComplete:function(e){let r="Success";let n="Complete! "+e.succeeded.length+" uploaded";let s="Success";if(e.skipped.length>0){n+=", "+e.skipped.length+" skipped"}if(e.failed.length>0){r=e.succeeded.length>0?"Warning":"Error";n+=", "+e.failed.length+" failed";s="Warning"}if(e.cancelled){r="Warning";n+=" (cancelled by user)";s="Warning"}l.batchUpdate(i,{"/bulkTransform/isRunning":false,"/bulkTransform/failedQueries":e.failed,"/bulkTransform/skippedQueries":e.skipped,"/bulkTransform/succeededQueries":e.succeeded,"/bulkTransform/currentStage":"Finished","/bulkTransform/state":r,"/bulkTransform/currentStatus":n,"/bulkTransform/statusType":s});sap.ui.getCore().getEventBus().publish("QueryManager","RefreshList");t.show(n)},onError:function(e){l.batchUpdate(i,{"/bulkTransform/isRunning":false,"/bulkTransform/state":"Error","/bulkTransform/currentStatus":"Error: "+e.message,"/bulkTransform/statusType":"Error","/bulkTransform/currentStage":"Error"});n.error("Bulk transform failed: "+e.message)}};o.startBulkTransform(e,a).catch(function(e){a.onError(e)})},_openBulkTransformDialog:function(){let e=this.getView();let t=this;if(!this._pBulkTransformDialog){this._pBulkTransformDialog=r.load({id:e.getId(),name:"astrobear.abaplorer.view.QueryManager.fragments.BulkTransformProgress",controller:this}).then(function(r){e.addDependent(r);return r})}this._pBulkTransformDialog.then(function(e){e.open()})},onBulkTransformEscapePress:function(e){let r=this.getView().getModel();if(r.getProperty("/bulkTransform/isRunning")){e.reject();t.show("Click 'Cancel' to stop the transform")}else{e.resolve()}},onCancelBulkTransform:function(){let e=this;n.confirm("Cancel the bulk transform? Queries already uploaded will remain changed in SAP.",{title:"Confirm Cancel",onClose:function(r){if(r===n.Action.OK){o.cancel();let r=e.getView().getModel();r.setProperty("/bulkTransform/currentStatus","Transform cancelled by user");r.setProperty("/bulkTransform/statusType","Warning");r.setProperty("/bulkTransform/state","Warning");t.show("Bulk transform cancelled")}}})},onRetryFailedTransform:function(){let e=this.getView().getModel();let r=e.getProperty("/bulkTransform/failedQueries");let n=e.getProperty("/bulkTransform/filtersToDelete");if(!r||r.length===0){t.show("No failed queries to retry");return}let s=r.map(function(e){return e.queryName});this._executeBulkTransform(s,n)},onCloseBulkTransformDialog:function(){let e=this;this._pBulkTransformDialog.then(function(e){e.close()});let r=this.getView().getModel();if(!r.getProperty("/bulkTransform/isRunning")){this.onClearTransformSelection()}}})});
},
	"astrobear/abaplorer/controller/QueryManager/QueryList.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/core/Fragment","sap/ui/core/util/File","sap/m/MessageToast","sap/m/MessageBox","sap/ui/model/json/JSONModel","astrobear/abaplorer/model/QueryStorage","astrobear/abaplorer/model/ADTAdapter","astrobear/abaplorer/model/Rainbow","astrobear/abaplorer/util/XMLTreeParser","astrobear/abaplorer/util/ModelBatcher","astrobear/abaplorer/util/Logger"],function(e,t,r,o,a,s,i,l,n,u,d,g){"use strict";const c=g.getLogger("QueryList");return e.extend("astrobear.abaplorer.controller.QueryManager.QueryList",{onInit:function(){c.debug("QueryList.onInit called");let e=new s({searchQuery:""});this.getView().setModel(e,"local");sap.ui.getCore().getEventBus().subscribe("QueryManager","RefreshList",this.onRefreshList,this)},onExit:function(){sap.ui.getCore().getEventBus().unsubscribe("QueryManager","RefreshList",this.onRefreshList,this)},onRefreshList:function(){this._refreshData();o.show("Refreshing...")},_refreshData:function(){c.debug("_refreshData called (optimized single-load)");let e=this.getView().getModel();if(!e){c.warn("Shared model not available yet");return}this.getView().setBusy(true);let t=this;i.listQueriesMetadata().then(r=>{let o=r.map(e=>({...e,sizeFormatted:t._formatFileSize(e.metadata?.fileSize||0),timestampFormatted:t._formatDate(e.timestamp)}));let a={totalQueries:r.length,byStatus:{},byInfoProvider:{},totalSize:0,averageSize:0};for(let e of r){a.byStatus[e.status]=(a.byStatus[e.status]||0)+1;let t=e.metadata?.infoProvider||"Unknown";a.byInfoProvider[t]=(a.byInfoProvider[t]||0)+1;a.totalSize+=e.metadata?.fileSize||0}a.averageSize=r.length>0?Math.round(a.totalSize/r.length):0;a.totalSizeMB=(a.totalSize/1024/1024).toFixed(2);let s={used:a.totalSizeMB,quota:"Calculating...",percentage:0,usedBytes:a.totalSize,quotaBytes:0};let i=o.filter(e=>e.hasXml);d.batchUpdate(e,{"/storedQueries":o,"/filteredQueries":o,"/bulkTransform/availableQueries":i,"/bulkTransform/filteredAvailableQueries":i,"/statistics":a,"/storageUsage":s});if(navigator.storage&&navigator.storage.estimate){navigator.storage.estimate().then(t=>{e.setProperty("/storageUsage/quota",(t.quota/1024/1024).toFixed(2));e.setProperty("/storageUsage/quotaBytes",t.quota);e.setProperty("/storageUsage/percentage",(t.usage/t.quota*100).toFixed(1))}).catch(e=>{c.warn("Storage estimate failed:",e)})}c.debug("Data loaded successfully:",a.totalQueries,"queries,",a.totalSizeMB,"MB");t.getView().setBusy(false)}).catch(e=>{c.error("Error loading data:",e);a.error("Failed to load data: "+e.message);t.getView().setBusy(false)})},onSearch:function(e){let t=e.getParameter("query")||e.getParameter("newValue")||"";let r=this.getView().getModel();let o=r.getProperty("/storedQueries");if(!t){r.setProperty("/filteredQueries",o);return}let a=o.filter(e=>{let r=e.queryName.toLowerCase().includes(t.toLowerCase());let o=e.metadata?.infoProvider?.toLowerCase().includes(t.toLowerCase());return r||o});r.setProperty("/filteredQueries",a)},onQuerySelect:function(e){let t=e.getParameter("listItem");let r=t.getBindingContext();let o=r.getObject();let s=this.getView().getModel();let l=this;this.getView().setBusy(true);i.getQuery(o.queryName).then(e=>{l.getView().setBusy(false);if(!e){a.error("Query not found in storage: "+o.queryName);return}e.sizeFormatted=l._formatFileSize(e.xmlString?e.xmlString.length:0);e.timestampFormatted=l._formatDate(e.timestamp);s.setProperty("/selectedQuery",e);if(e.xmlString){l._parseXmlTree(e.xmlString)}l._openQueryPreviewDialog();c.debug("Query selected:",e.queryName)}).catch(e=>{l.getView().setBusy(false);c.error("Error loading query:",e);a.error("Failed to load query: "+e.message)})},_openQueryPreviewDialog:function(){let e=this.getView();let r=this;if(!this._pQueryPreviewDialog){this._pQueryPreviewDialog=t.load({id:e.getId(),name:"astrobear.abaplorer.view.QueryManager.fragments.QueryPreviewDialog",controller:this}).then(function(t){e.addDependent(t);return t})}this._pQueryPreviewDialog.then(function(e){e.open()})},onCloseQueryPreviewDialog:function(){this._pQueryPreviewDialog.then(function(e){e.close()})},_parseXmlTree:function(e){let t=this.getView().getModel();try{c.debug("Parsing XML tree, length:",e.length);let r=u.parse(e,{maxDepth:100,maxChildren:500,truncateText:150});let o=this._formatTreeNodes(r.nodes);t.setProperty("/xmlTreeNodes",o);t.setProperty("/xmlTreeStats",r.stats.totalNodes+" nodes, "+r.stats.maxDepth+" levels deep, parsed in "+r.stats.parseTime+"ms");c.debug("XML tree parsed:",r.stats)}catch(e){c.error("Failed to parse XML tree:",e);t.setProperty("/xmlTreeNodes",[{formattedName:"Error parsing XML: "+e.message,icon:"sap-icon://error",children:[]}]);t.setProperty("/xmlTreeStats","")}},_formatTreeNodes:function(e){let t=this;return e.map(function(e){return{id:e.id,name:e.name,formattedName:u.formatNode(e),icon:u.getIcon(e.type),type:e.type,value:e.value,attributes:e.attributes,expanded:e.expanded,children:e.children?t._formatTreeNodes(e.children):[]}})},onXmlViewModeChange:function(e){let t=e.getParameter("item").getKey();let r=this.getView().getModel();r.setProperty("/xmlViewMode",t);if(t==="tree"){let e=r.getProperty("/selectedQuery");if(e&&e.xmlString){this._parseXmlTree(e.xmlString)}}},onExpandAllXml:function(){let e=this.byId("xmlTreeDialog");if(e){e.expandToLevel(10);o.show("Expanded to 10 levels")}},onCollapseAllXml:function(){let e=this.byId("xmlTreeDialog");if(e){e.collapseAll();o.show("Collapsed all")}},onXmlTreeToggle:function(e){},onXmlTreeNodePress:function(e){let t=e.getSource();let r=t.getBindingContext();let o=r.getObject();let s="Element: "+o.name+"\n";if(o.value){s+="Value: "+o.value+"\n"}if(o.attributes&&o.attributes.length>0){s+="\nAttributes:\n";o.attributes.forEach(e=>{s+="  "+e.name+' = "'+e.value+'"\n'})}a.information(s,{title:o.name,contentWidth:"400px"})},onSearchXmlTree:function(e){let t=e.getParameter("query");let r=this.getView().getModel();let a=r.getProperty("/xmlTreeNodes");if(!t){o.show("Enter search term");return}let s=u.search(a,t);if(s.length===0){o.show("No matches found");return}r.setProperty("/xmlSearchMatches",s);r.setProperty("/xmlSearchIndex",0);this._expandAndScrollToNode(s[0]);o.show("Found "+s.length+" match"+(s.length>1?"es":""))},onNextSearchMatch:function(){let e=this.getView().getModel();let t=e.getProperty("/xmlSearchMatches")||[];let r=e.getProperty("/xmlSearchIndex")||0;if(t.length===0){o.show("No search results. Use search field first.");return}let a=(r+1)%t.length;e.setProperty("/xmlSearchIndex",a);this._expandAndScrollToNode(t[a]);o.show("Match "+(a+1)+" of "+t.length)},onPrevSearchMatch:function(){let e=this.getView().getModel();let t=e.getProperty("/xmlSearchMatches")||[];let r=e.getProperty("/xmlSearchIndex")||0;if(t.length===0){o.show("No search results. Use search field first.");return}let a=(r-1+t.length)%t.length;e.setProperty("/xmlSearchIndex",a);this._expandAndScrollToNode(t[a]);o.show("Match "+(a+1)+" of "+t.length)},_expandAndScrollToNode:function(e){let t=this.byId("xmlTreeDialog");let r=this.getView().getModel();let o=r.getProperty("/xmlTreeNodes");if(!t||!o){c.warn("Tree or nodes not available");return}let a=this._findNodeDepth(o,e,0);if(a===-1){c.warn("Target node not found in tree data:",e);return}c.debug("Expanding tree to level",a,"for node",e);t.expandToLevel(a);let s=this;setTimeout(function(){s._scrollToTreeNode(e)},300)},_findNodeDepth:function(e,t,r){for(let o=0;o<e.length;o++){let a=e[o];if(a.id===t){return r}if(a.children&&a.children.length>0){let e=this._findNodeDepth(a.children,t,r+1);if(e!==-1){return e}}}return-1},_scrollToTreeNode:function(e){let t=this.byId("xmlTreeDialog");let r=this.byId("xmlTreeScrollContainerDialog");if(!t){c.warn("Tree not found: xmlTreeDialog");return}let o=t.getItems();c.debug("Searching for node",e,"in",o.length,"items");for(let t=0;t<o.length;t++){let a=o[t];let s=a.getBindingContext();if(s&&s.getProperty("id")===e){c.debug("Found node at index",t);let e=a.getDomRef();if(e){if(r){let t=r.getDomRef();if(t){let r=t.getBoundingClientRect();let o=e.getBoundingClientRect();let a=t.scrollTop+(o.top-r.top)-r.height/2;t.scrollTo({top:a,behavior:"smooth"})}}else{e.scrollIntoView({behavior:"smooth",block:"center"})}e.style.transition="background-color 0.3s";e.style.backgroundColor="rgba(255, 235, 59, 0.5)";setTimeout(function(){e.style.backgroundColor=""},3e3)}return}}c.warn("Node not found in visible items:",e)},onExportQuery:function(){let e=this.getView().getModel();let t=e.getProperty("/selectedQuery");if(!t){o.show("No query selected");return}let a=t.queryName+".xml";r.save(t.xmlString,a,"xml","application/xml","utf-8");o.show("Exported "+a)},onOpenInBWMT:function(){let e=this.getView().getModel();let t=e.getProperty("/selectedQuery");if(!t){o.show("No query selected");return}let r=n.systemName;if(!r){a.warning("System name not available yet. Please wait for initialization.");return}let s=t.queryName;let i="bwmt://"+r+"/sap/bw/modeling/query/"+encodeURIComponent(s)+"/A";c.debug("Opening BWMT link:",i);sap.m.URLHelper.redirect(i,false)},onLookupPackage:function(){let e=this.getView().getModel();let t=e.getProperty("/selectedQuery");if(!t){o.show("No query selected");return}if(!t.xmlString){a.error("Query has no XML content");return}let r=l.extractQueryUID(t.xmlString);if(!r){a.error("Could not extract UID from query XML");return}c.debug("Looking up package for UID:",r);this.getView().setBusy(true);let s=this;l.getTADIRDevclass(r).then(r=>{s.getView().setBusy(false);if(r.rc===0){e.setProperty("/selectedQuery/devclass",r.devclass);let o=e.getProperty("/storedQueries");let s=o.findIndex(e=>e.queryName===t.queryName);if(s>=0){e.setProperty("/storedQueries/"+s+"/devclass",r.devclass)}let i=e.getProperty("/filteredQueries");let l=i.findIndex(e=>e.queryName===t.queryName);if(l>=0){e.setProperty("/filteredQueries/"+l+"/devclass",r.devclass)}a.success("Package: "+r.devclass,{title:"Package Found"});c.info("Package found for",t.queryName,":",r.devclass)}else{a.warning(r.msg||"Package not found in TADIR",{title:"Package Lookup"});c.warn("Package lookup failed:",r.msg)}}).catch(e=>{s.getView().setBusy(false);a.error("Error looking up package: "+e.message);c.error("TADIR lookup error:",e)})},onUpdateStatus:function(){let e=this.getView().getModel();let t=e.getProperty("/selectedQuery");if(!t){o.show("No query selected");return}let r=this;a.confirm("Select new status:",{title:"Update Status",actions:["downloaded","transformed","uploaded",a.Action.CANCEL],onClose:function(e){if(e===a.Action.CANCEL)return;r.getView().setBusy(true);i.updateStatus(t.queryName,e).then(()=>{o.show("Status updated to "+e);r.getView().setBusy(false);r._refreshData()}).catch(e=>{a.error("Failed to update status: "+e.message);r.getView().setBusy(false)})}})},onDeleteQuery:function(){let e=this.getView().getModel();let t=e.getProperty("/selectedQuery");if(!t){o.show("No query selected");return}let r=this;a.confirm("Delete query "+t.queryName+"?",{title:"Confirm Delete",onClose:function(s){if(s!==a.Action.OK)return;r.getView().setBusy(true);i.deleteQuery(t.queryName).then(()=>{o.show("Deleted "+t.queryName);e.setProperty("/selectedQuery",null);r.getView().setBusy(false);r._pQueryPreviewDialog.then(function(e){e.close()});r._refreshData()}).catch(e=>{a.error("Failed to delete query: "+e.message);r.getView().setBusy(false)})}})},onExportAll:function(){this.getView().setBusy(true);i.exportAsJSON().then(e=>{let t="QueryStorage_Backup_"+Date.now()+".json";r.save(e,t,"json","application/json","utf-8");o.show("Exported all queries as JSON");this.getView().setBusy(false)}).catch(e=>{a.error("Failed to export: "+e.message);this.getView().setBusy(false)})},onImportJSON:function(){let e=this;let t=document.createElement("input");t.type="file";t.accept=".json";t.onchange=function(t){let r=t.target.files[0];if(!r)return;let o=new FileReader;o.onload=function(t){let r=t.target.result;e.getView().setBusy(true);i.importFromJSON(r,false).then(t=>{a.information("Import complete!\nImported: "+t.imported+"\nSkipped: "+t.skipped+"\nErrors: "+t.errors.length,{title:"Import Results"});e._refreshData()}).catch(t=>{a.error("Failed to import: "+t.message);e.getView().setBusy(false)})};o.readAsText(r)};t.click()},onClearAllQueries:function(){let e=this;a.confirm("Delete ALL queries from storage? This cannot be undone!",{title:"Confirm Clear All",actions:[a.Action.OK,a.Action.CANCEL],emphasizedAction:a.Action.CANCEL,onClose:function(t){if(t!==a.Action.OK)return;e.getView().setBusy(true);i.clearAll().then(()=>{let t=e.getView().getModel();t.setProperty("/selectedQuery",null);o.show("All queries deleted");e._refreshData()}).catch(t=>{a.error("Failed to clear queries: "+t.message);e.getView().setBusy(false)})}})},_formatFileSize:function(e){if(e<1024){return e+" B"}else if(e<1024*1024){return(e/1024).toFixed(1)+" KB"}else{return(e/1024/1024).toFixed(2)+" MB"}},_formatDate:function(e){if(!e)return"";let t=new Date(e);return t.toLocaleString()}})});
},
	"astrobear/abaplorer/controller/QueryManager/QueryManager.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","astrobear/abaplorer/model/QueryStorage","astrobear/abaplorer/util/Logger"],function(e,t,r,a){"use strict";const i=a.getLogger("QueryManager");return e.extend("astrobear.abaplorer.controller.QueryManager.QueryManager",{onInit:function(){i.debug("QueryManager.onInit called");let e=new t({newQuery:{queryName:"",infoProvider:"",xmlString:"",eTag:null,fetchedFromSAP:false,devclass:null},fetchStatus:{visible:false,message:"",type:"Information"},storedQueries:[],filteredQueries:[],selectedQuery:null,xmlViewMode:"tree",xmlTreeNodes:[],xmlTreeStats:"",xmlSearchMatches:[],xmlSearchIndex:0,storageUsage:{used:"0",quota:"0",percentage:"0"},statistics:{totalQueries:0,byStatus:{downloaded:0,transformed:0,uploaded:0},byInfoProvider:{},totalSize:0,totalSizeMB:"0.00",averageSize:0},bulkDownload:{queryInput:"",parsedCount:0,concurrency:1,skipExisting:true,saveToStorage:true,exportToZip:false,isRunning:false,percentage:0,displayText:"0 / 0",state:"None",currentStatus:"",statusType:"Information",succeeded:0,failed:0,skipped:0,remaining:0,total:0,failedQueries:[],skippedQueries:[]},bulkTransform:{filterInput:"",parsedFilterCount:0,filtersDisplay:"",filtersToDelete:[],availableQueries:[],filteredAvailableQueries:[],searchQuery:"",hiddenSelectedQueries:[],selectedQueries:[],selectedCount:0,skipNoFilter:true,removeFilters:true,removeRows:false,removeColumns:false,removeMembers:false,removeFree:false,isRunning:false,percentage:0,displayText:"0 / 0",state:"None",currentStatus:"",currentStage:"",statusType:"Information",filtersToDeleteDisplay:"",succeeded:0,failed:0,skipped:0,remaining:0,total:0,failedQueries:[],skippedQueries:[],succeededQueries:[]},analyze:{searchInfoObject:"",isSearching:false,searchComplete:false,totalQueriesSearched:0,matchingQueries:0,distinctDefinitions:[],statusMessage:"",statusType:"Information"}});this.getView().setModel(e);i.debug("Shared model set, initializing storage...");let a=this;r.init().then(function(){i.debug("Storage initialized, triggering initial load...");sap.ui.getCore().getEventBus().publish("QueryManager","RefreshList")}).catch(function(e){i.error("Failed to initialize storage:",e)})},onTabSelect:function(e){let t=e.getParameter("key");i.debug("Tab selected:",t)},onExit:function(){i.debug("QueryManager.onExit called")}})});
},
	"astrobear/abaplorer/controller/Rainbow.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(n,e,t){"use strict";return n.extend("astrobear.abaplorer.controller.Rainbow",{onInit:function(){const n=JSON.parse(localStorage.getItem("rainbow.systems")||"[]");const t=new e({rainbow:{targetUrl:"",connections:[],systems:n}});this.getView().setModel(t);this.rainbow=this.getOwnerComponent().rainbow;this._refreshConnections();this._fnConnListener=this._onRainbowConnectionsChanged.bind(this);this.rainbow.addConnectionsChangedListener(this._fnConnListener)},onExit:function(){if(this.rainbow&&this._fnConnListener){this.rainbow.removeConnectionsChangedListener(this._fnConnListener)}},_onRainbowConnectionsChanged:function(n){const e=this.getView().getModel();const t=n||this.rainbow?.connections||[];const o=e.getProperty("/rainbow/systems")||[];const s=(n,e)=>o.some(t=>t.name===n&&t.url===e||t.url===e||t.name===n);const i=new Map;t.forEach(n=>{const e=n.baseUrl;if(!e){return}const t=i.get(e);if(!t||!t.connected&&n.connected){i.set(e,n)}});const r=Array.from(i.values()).map(n=>{const e=n.name||"(pending)";const t=n.baseUrl;return{name:e,url:t,origin:n.origin,connected:!!n.connected,favorite:s(e,t)}});e.setProperty("/rainbow/connections",r)},_refreshConnections:function(){this._onRainbowConnectionsChanged(this.rainbow?.connections||[])},_normalizeBaseUrl:function(n){try{const e=new URL(n,window.location.href);return e.origin}catch(e){return n}},onToggleFavorite:function(n){const e=n.getSource();const t=e.getBindingContext();if(!t)return;const o=t.getObject();const s=(o?.name||"").trim();const i=(o?.url||"").trim();const r=this._normalizeBaseUrl(i);if(!s||s==="(pending)"||!r){sap.m.MessageToast.show("Connection not ready yet (missing name or URL)");return}const a=this.getView().getModel();let c=a.getProperty("/rainbow/systems")||[];const m=c.findIndex(n=>n.url===r||n.name===s);if(m===-1){c.push({name:s,url:r});sap.m.MessageToast.show("Added to favorites")}else{c.splice(m,1);sap.m.MessageToast.show("Removed from favorites")}a.setProperty("/rainbow/systems",c);localStorage.setItem("rainbow.systems",JSON.stringify(c));this._onRainbowConnectionsChanged(this.rainbow?.connections||[])},onAddSystem:function(){const n=this.getView();const e=n.getModel();const o=n.byId("systemNameInput").getValue().trim();const s=n.byId("systemUrlInput").getValue().trim();const i=this._normalizeBaseUrl(s);if(!o||!i){t.show("Please enter System Name and URL");return}const r=e.getProperty("/rainbow/systems")||[];const a=r.some(n=>n.name===o||n.url===i);if(a){t.show("System already exists");return}const c={name:o,url:i};r.push(c);e.setProperty("/rainbow/systems",r);localStorage.setItem("rainbow.systems",JSON.stringify(r));n.byId("systemNameInput").setValue("");n.byId("systemUrlInput").setValue("");t.show("System added")},onOpenRainbowTarget:function(){const n=this.getView().getModel();const e=n.getProperty("/rainbow/targetUrl");const t=this._normalizeBaseUrl(e);const o=n.getProperty("/rainbow/systems")||[];if(!e){sap.m.MessageToast.show("Missing URL");return}const s=o.find(n=>n.url===t);const i=s?.name||null;this.rainbow.connect(i,t+"/ABAPlorer"+"?ABAPlorerRainbowFrom="+encodeURIComponent(window.location.href))}})});
},
	"astrobear/abaplorer/controller/SQLConsole.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/m/MessageToast","astrobear/abaplorer/model/ADTAdapter","astrobear/abaplorer/util/DownloadHelper","astrobear/abaplorer/util/DeltaHelper"],function(e,t,o,r,s){"use strict";return e.extend("astrobear.abaplorer.controller.SQLConsole",{onInit:function(){var e=this.getView().getViewData();var t=e&&e.initialSQL?e.initialSQL:"select * from RSDIOBJ";let o=new sap.ui.model.json.JSONModel({sqlStatement:t,sqlLog:"<pre>SQL Log</pre>",sqlResult:{},local:{systemName:""},remote:{enabled:false,selectedName:"",targets:[]},remoteResult:{systemName:"",rows:[],columns:[],actualRowCount:0,totalRowCount:0,msg:"",rc:null},compare:{showDelta:false,deltaKeys:[],deltaTypeFilter:""},deltaResult:{rows:[],columns:[],visibleRowCount:0}});this.getView().setModel(o);this.rainbow=this.getOwnerComponent().rainbow;const r=this.getOwnerComponent()?.rainbow?.systemName||"Current";o.setProperty("/local/systemName",r);this._refreshRemoteTargets();this._fnConnListener=this._refreshRemoteTargets.bind(this);this.rainbow.addConnectionsChangedListener(this._fnConnListener)},onExit:function(){if(this.rainbow&&this._fnConnListener){this.rainbow.removeConnectionsChangedListener(this._fnConnListener)}s.destroy(this.getView());r.destroy(this.getView())},setRowLimitToZero:function(e){e.getSource().setValue(0)},clearConsole:function(){this.getView().getModel().setProperty("/sqlStatement","")},onToggleDelta:function(){s.updateDelta(this.getView())},onOpenKeyFieldsDialog:function(){s.openKeyFieldsDialog(this.getView())},onDeltaTypeFilterChange:function(){s.updateDelta(this.getView())},onOpenDeltaFilterInfo:function(e){s.openDeltaFilterInfo(this.getView(),e.getSource())},onOpenDownloadSheet:function(e){r.openDownloadSheet(this.getView(),e.getSource())},runSQL:function(){let e=this.getView().getModel();let r=e.getProperty("/sqlStatement");let l=this.getView().byId("inputRowLimit").getValue();if(r.trim()==""){t.show("SQL Statement is empty");return}if(e.getProperty("/remote/enabled")){const t=e.getProperty("/remote/selectedName");let o=e.getProperty("/sqlLog");o=`<pre>[REMOTE] enabled=true target=${t||"(none selected)"}</pre>`+'<p style="border-top:1px solid"></p>'+o;e.setProperty("/sqlLog",o);this._runRemoteSQL(r,l,t)}this.getView().setBusy(true);o.sqlDataPreview(r,l).then(t=>{e.setProperty("/sqlResult",t);s.updateDelta(this.getView());let o=e.getProperty("/sqlLog");o=(t.rc==0?"<pre>":'<pre style="color:red;">')+t.msg+'</pre><p style="border-top:1px solid"></p>'+o;e.setProperty("/sqlLog",o);setTimeout(()=>{let e=this.getView().byId("sqlResultTable");if(t.rc==0&&t.columns?.length>0){for(let o=t.columns.length-1;o>=0;o--){e.autoResizeColumn(o)}}this.getView().byId("sqlCE").focus();this.getView().setBusy(false)},0)}).catch(o=>{let r=e.getProperty("/sqlLog");let s=(new Date).toLocaleString();r='<pre style="color:red;">'+s+" - Unexpected error: "+(o?.message||"Unknown error")+'</pre><p style="border-top:1px solid"></p>'+r;e.setProperty("/sqlLog",r);t.show("SQL execution failed");this.getView().setBusy(false)})},_refreshRemoteTargets:function(e){const t=this.getView().getModel();const o=e||this.rainbow?.connections||[];const r=o.filter(e=>e&&e.connected&&e.name).map(e=>({name:e.name}));t.setProperty("/remote/targets",r);const s=t.getProperty("/remote/selectedName");const l=r.some(e=>e.name===s);if(!s||!l){t.setProperty("/remote/selectedName",r[0]?.name||"")}},_runRemoteSQL:function(e,t,o){const r=this.getView().getModel();const l=this.rainbow||this.getOwnerComponent()?.rainbow||window.Rainbow;if(!l||typeof l.sendCommand!=="function"){let e=r.getProperty("/sqlLog");e=`<pre style="color:red;">[REMOTE] Rainbow not available</pre>`+'<p style="border-top:1px solid"></p>'+e;r.setProperty("/sqlLog",e);return}if(!o){let e=r.getProperty("/sqlLog");e=`<pre style="color:red;">[REMOTE] No target selected</pre>`+'<p style="border-top:1px solid"></p>'+e;r.setProperty("/sqlLog",e);return}const n=(l.connections||[]).find(e=>e.connected&&e.name===o);if(!n){let e=r.getProperty("/sqlLog");e=`<pre style="color:red;">[${o}] Not connected</pre>`+'<p style="border-top:1px solid"></p>'+e;r.setProperty("/sqlLog",e);return}l.sendCommand(o,"SQL_EXEC",{sql:e,rowLimit:t},function(e){let t=r.getProperty("/sqlLog");const l=e?.system||o;r.setProperty("/remoteResult/systemName",l);if(e?.result?.rc===0){r.setProperty("/remoteResult/rc",e.result.rc);r.setProperty("/remoteResult/msg",e.result.msg||"");r.setProperty("/remoteResult/actualRowCount",e.result.actualRowCount??0);r.setProperty("/remoteResult/totalRowCount",e.result.totalRowCount??0);r.setProperty("/remoteResult/rows",e.result.rows||[]);r.setProperty("/remoteResult/columns",e.result.columns||[]);s.updateDelta(this.getView());const l=this.getView().byId("remoteSqlResultTable");if(l){l.attachEventOnce("rowsUpdated",()=>{const t=e.result.columns||[];for(let e=0;e<t.length;e++){l.autoResizeColumn(e)}})}t=`<pre>[${o}] Remote SQL executed (rows: ${e.result.actualRowCount}/${e.result.totalRowCount})</pre>`+`<pre>${e.result.msg}</pre>`+'<p style="border-top:1px solid"></p>'+t;r.setProperty("/sqlLog",t)}else{const l=e?.msg||e?.result?.msg||"Remote SQL failed";r.setProperty("/remoteResult/rc",e?.result?.rc??-1);r.setProperty("/remoteResult/msg",l);r.setProperty("/remoteResult/rows",[]);r.setProperty("/remoteResult/columns",[]);r.setProperty("/remoteResult/actualRowCount",0);r.setProperty("/remoteResult/totalRowCount",0);s.updateDelta(this.getView());t=`<pre style="color:red;">[${o}] Remote SQL failed: ${l}</pre>`+'<p style="border-top:1px solid"></p>'+t;r.setProperty("/sqlLog",t)}}.bind(this))},tableColumnFactory:function(e,t){const o=t.getObject().name;return new sap.ui.table.Column({label:o,autoResizable:true,template:o,sortProperty:o})}})});
},
	"astrobear/abaplorer/controller/Tools.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","astrobear/abaplorer/model/tools"],function(e,r,t,o,n){"use strict";return e.extend("astrobear.abaplorer.controller.Tools",{onInit:function(){var e=new r({tileItems:n.tools||[]});this.getView().setModel(e)},onSearchLiveChange:function(e){var r=(e.getParameter("newValue")||"").trim();var n=this.byId("toolsFlexBox");var a=n.getBinding("items");if(!a){return}if(!r){a.filter([]);return}var i=[new t("header",o.Contains,r),new t("subheader",o.Contains,r)];a.filter(new t({filters:i,and:false}))},onTilePress:function(e){var r=e.getSource();var t=r.getBindingContext();if(t){var o=t.getObject();this._openToolPage(o)}else{console.error("No binding context found!")}},_openToolPage:function(e){try{var r=this.getView();var t=r.getParent();while(t&&!t.getMetadata().getName().includes("TabContainer")){t=t.getParent()}if(t){var o=t.getParent();while(o&&!o.getController){o=o.getParent()}if(o&&o.getController){var n=o.getController();if(n&&n.createNewTab){n.createNewTab(e.header,e.viewName)}else{console.error("Main controller or createNewTab not found!")}}}}catch(e){console.error("Error in _openToolPage:",e)}}})});
},
	"astrobear/abaplorer/controller/TransactionList.controller.js":function(){
sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/m/MessageToast"],function(e,t){"use strict";return e.extend("astrobear.abaplorer.controller.TransactionList",{_lastClickTime:0,_lastClickedRow:null,onInit:function(){const e=new sap.ui.model.json.JSONModel({transactions:[{code:"AL11",text:"Display SAP Directories",useCase:"See mounted files and folders",category:"Common Transactions",tags:["General"],call:""},{code:"DB02",text:"Tables and Indexes Monitor",useCase:"1. See DB Info, Sizing, Monitoring  2. Execute SQL directly (Read, Write, DB Direkt, Cross-Client)",category:"Special Transactions",tags:["Database"],call:""},{code:"LISTCUBE",text:"List viewer for InfoCubes",useCase:"Show BW InfoProvider Data. Caution! BAdI Provider might not work!",category:"Common Transactions",tags:["BW"],call:""},{code:"ODQMON",text:"Monitor for Operational Delta Queue",useCase:"See running ODP Suscription, delta status, requests and data.",category:"Special Transactions",tags:["DataSource"],call:""},{code:"PFCG",text:"Role Maintenance",useCase:"Maintain Roles",category:"Common Transactions",tags:["Roles and Authorization "],call:""},{code:"RAAOE",text:"Launch Analysis Office Excel WB",useCase:"Start AfO workbook or query. Or open the excel application in Citrix environment.",category:"Special Transactions",tags:["Reporting"],call:""},{code:"RRMX",text:"Start the Business Explorer Analyzer",useCase:"Start BEx Query Analyzer in Excel",category:"Common Transactions",tags:["Reporting"],call:""},{code:"RSA1",text:"DW Workbench",useCase:"Maintain BW objects(only in BW 7.x not in BW/4HANA), Process Chain, Source Systems, Transport BW Objects, BEx Transport, Business Content and House Keeping Activities.",category:"Common Transactions",tags:["BW Modelling"],call:""},{code:"RSA1OLD",text:"BW Administrator Workbench. OBSOLETE",useCase:"Only in BW 7.x; Provide some maintainence features for old objects like InfoPackage Groups, Reporting Agent, ",category:"Special Transactions",tags:["BW Modelling"],call:""},{code:"RSA3",text:"Extractor Checker",useCase:"DataPreview for SAPI/Generic DataSource",category:"Special Transactions",tags:["DataSource"],call:""},{code:"RSA7",text:"BW Delta Queue Monitor",useCase:"Show the delta status of Generic and Export DataSource",category:"Special Transactions",tags:["DataSource"],call:""},{code:"RSA8",text:"DataSource Repository",useCase:"Batch delete DataSources",category:"Special Transactions",tags:["DataSource"],call:""},{code:"RSCUR",text:"Start: Currency Translation Type",useCase:"Maintain Currency Translation Type",category:"Special Transactions",tags:["BW"],call:""},{code:"SE37",text:"Start Process Chain",useCase:"Start Process Chain directly, specially for Process Chain with API Start Condition.",category:"Function Module",tags:["Process chains"],call:"RSPC_API_CHAIN_START"},{code:"RSRTQ",text:"Query Definition",useCase:"Show Query Definition in tree display. This is useful if your eclipse is not working and in emergency cases!",category:"Special Transactions",tags:["Reporting"],call:""},{code:"RSZC",text:"Copying Queries between InfoCubes",useCase:"Copy Queries from one InfoProvider to another",category:"Special Transactions",tags:["Reporting"],call:""},{code:"RSZDELETE",text:"Deletion of query objects",useCase:"Selective delete of 3.x or 7.x Queries; Transport Entries can be written",category:"Special Transactions",tags:["Reporting"],call:""},{code:"SA38",text:"Create Where-Used List (for All Programs)",useCase:"Update Where-Used List for all ABAP Objects; Start it in Background! If it runs into error, it can be started again to continue!",category:"Program",tags:["ABAP"],call:"SAPRSEUB "},{code:"SA38",text:"Create Where-used List (for All Customer Reports)",useCase:"Update Where-Used List for all Customer ABAP Objects(Z*/Y*); Start it in Background! If it runs into error, it can be started again to continue!",category:"Program",tags:["ABAP"],call:"SAPRSEUC "},{code:"SE01",text:"Transport Organizer (Extended)",useCase:"Create, display, edit, release Transport; Analyze Transport Log; See Transports of other Users",category:"Common Transactions",tags:["Transport"],call:""},{code:"SE11",text:"Tables for TLOGO Objects",useCase:"Show which tables and key combinations will be transported. It is great to be used to find which tables store the TLOGO object info.",category:"Table",tags:["Transport"],call:"OBJSL"},{code:"SE11",text:"BW general Where-Used List",useCase:"Analyze BW Object Where-Used / Use-What Info",category:"Table",tags:["BW"],call:"RSOOBJXREF"},{code:"SE24",text:"ABAP Class Builder",useCase:"Open ABAP Class, when the package of this ABAP class does not exist anymore.",category:"Special Transactions",tags:["ABAP"],call:""},{code:"SE93",text:"Maintain Transaction Codes",useCase:"See all Transaction Code(TCode); See, navigate to and then start the underlying program directly, if you don't have authorization for the Tcode.",category:"Special Transactions",tags:["General"],call:""},{code:"SICF",text:"Edit HTTP Service Hierarchy",useCase:"Activate Services, configure logon procedure for services, define service alias",category:"Special Transactions",tags:["General"],call:""},{code:"SM04",text:"Logons to an AS Instance",useCase:"See user sessions, kick user out of application or system to release lock.",category:"Special Transactions",tags:["User"],call:""},{code:"SM59",text:"RFC Destinations (Display/Edit)",useCase:"Define External Systems/Destination/Web Service End Point; Password of the connection is saved securely here.",category:"Special Transactions",tags:["General"],call:""},{code:"SM66",text:"Global Work Process Overview",useCase:"See which process active running or blocking; Resource consumption; Debug Process; Terminate Process; See which method takes long.",category:"Special Transactions",tags:["Monitoring and Debug"],call:""},{code:"SNUM",text:"Number Range Object",useCase:"Create, display or edit Number Range Object; Edit their Interval",category:"Common Transactions",tags:["ABAP"],call:""},{code:"ST22",text:"ABAP Dump Analysis",useCase:"See and analyze Short Dump",category:"Common Transactions",tags:["ABAP"],call:""},{code:"STMS",text:"Transport Management System",useCase:"Manually import Transports",category:"Special Transactions",tags:["Transport"],call:""},{code:"SU01",text:"User Maintenance",useCase:"Create, display or edit Users; Reset user password; Lock or unlock users; edit user authorization; edit user parameters",category:"Common Transactions",tags:["User"],call:""},{code:"SUIM",text:"User Information System",useCase:"Analyze all authorization related objects like User, Roles, Profiles, Authorizations, Authorization Objects, ",category:"Special Transactions",tags:["Authorization"],call:""},{code:"SE11",text:"BAdI Filter values",useCase:"Use this table to find out the filter value of BAdI implementation",category:"Table",tags:["ABAP"],call:"SXC_EXIT"},{code:"UCMON",text:"Consolidation Monitor",useCase:"Run BCS Tasks, Method like an End User.",category:"Common Transactions",tags:["BCS"],call:""},{code:"UCPP",text:"Change Permanent Parameters",useCase:"Change BCS Parameter; useful if the saved parameter leads to failure when openning UCMON, then change the parameter here first.",category:"Common Transactions",tags:["BCS"],call:""},{code:"UCWB",text:"Consolidation Workbench",useCase:"Configure BCS DataModel, Master Data, Method, Tasks, Monitor, ",category:"Common Transactions",tags:["BCS"],call:""},{code:"STRUST",text:"Trust Manager",useCase:"Maintain SSL Certification; Upload SSL Certification after define HTTP Connection in SM59",category:"Special Transactions",tags:["General"],call:""},{code:"ST05",text:"Performance Trace",useCase:"Trace SQL, RFC, HTTP, ; Very good for trace and debug to find out which class, method, function module, tables are called!",category:"Special Transactions",tags:["Debug and Trace"],call:""},{code:"/IWFND/MAINT_SERVICE",text:"Activate and Maintain Services",useCase:"Activate Services like OData, Web Service; Test OData Service; Assign System Alias",category:"Special Transactions",tags:["General"],call:""},{code:"SA38",text:"BW Query Inconsistence Analyzer",useCase:"Analyze BW Query Inconsistences; Repair or delete Inconsistences.",category:"Program",tags:["Reporting"],call:"RSZ_ANALYZE_TABLES"}]});this.getView().setModel(e);this._buildCategoryLists(e);const t=[];e.getProperty("/transactions").forEach(e=>{e.tags.forEach(e=>{if(!t.includes(e))t.push(e)})});const a=new sap.ui.model.json.JSONModel({tags:t.sort((e,t)=>e.localeCompare(t))});this.getView().setModel(a,"tagModel");this.oSF=this.byId("tagSearch");this._setupDoubleClickPrevention()},onTagSuggest:function(e){const t=e.getParameter("suggestValue");const a=[];if(t){a.push(new sap.ui.model.Filter(function(e){return(e||"").toUpperCase().includes(t.toUpperCase())}))}const s=this.oSF.getBinding("suggestionItems");s.filter(a);this.oSF.suggest()},_buildCategoryLists:function(e){const t=e.getProperty("/transactions");const a=t.filter(e=>e.category==="Common Transactions");const s=t.filter(e=>e.category==="Special Transactions");const o=t.filter(e=>e.category==="Program");const n=t.filter(e=>e.category==="Function Module");const r=t.filter(e=>e.category==="Table");e.setProperty("/transactions_common",a);e.setProperty("/transactions_special",s);e.setProperty("/transactions_program",o);e.setProperty("/transactions_function",n);e.setProperty("/transactions_table",r)},onTagSearch:function(e){const t=e.getSource().getValue().trim();if(!t){return}const a=this.byId("tagTokenizer");const s=a.getTokens().some(e=>e.getKey()===t.toUpperCase());if(!s){a.addToken(new sap.m.Token({key:t.toUpperCase(),text:t}))}e.getSource().setValue("");this._applyTagFilters();setTimeout(()=>this.byId("transactionSearch").focus(),0)},_applyTagFilters:function(){const e=this.byId("tagTokenizer").getTokens();const t=e.map(e=>e.getKey());const a=["transactionListSpecial","transactionListCommon","transactionListProgram","transactionListFunctionModule","transactionListTable"];a.forEach(function(e){const a=this.byId(e);if(!a){return}const s=a.getBinding("items");if(t.length===0){s.filter([]);return}const o=new sap.ui.model.Filter({path:"tags",test:function(e){if(!Array.isArray(e)){return false}return t.some(t=>e.some(e=>e.toUpperCase().includes(t)))}});s.filter([o])}.bind(this))},onTagTokenUpdate:function(){this._applyTagFilters()},onTokenDelete:function(e){var t=e.getParameter("tokens");var a=e.getSource();t.forEach(function(e){sap.m.MessageToast.show("Token deleted: "+e.getText());a.removeToken(e)});this._applyTagFilters()},startProgramView:function(e){const t=e.getParameter("listItem")||e.getSource();const a=t.getBindingContext();const s=a.getProperty("code");const o=a.getProperty("text");const n=a.getProperty("call");if(s==="SA38"){sap.m.URLHelper.redirect("/sap/bc/gui/sap/its/webgui?~transaction=*sa38%20RS38M-PROGRAMM="+encodeURIComponent(n)+"#",true)}else if(s==="SE37"){sap.m.URLHelper.redirect("/sap/bc/gui/sap/its/webgui?~transaction=*se37%20RS38L-NAME="+encodeURIComponent(n)+"#",true)}else if(s==="SE11"){sap.m.MessageToast.show("Opening "+n+"in SQL Console");this.TableSQLExecute(e)}else{sap.m.MessageToast.show("Opening "+s);sap.m.URLHelper.redirect("/sap/bc/gui/sap/its/webgui?~transaction=*"+encodeURIComponent(s),true)}},startProgramExecute:function(e){const t=e.getParameter("listItem")||e.getSource();const a=t.getBindingContext();const s=a.getProperty("code");const o=a.getProperty("text");const n=a.getProperty("call");sap.m.MessageToast.show("Opening "+s);if(n&&n.length>0){if(s==="SA38"){sap.m.MessageToast.show("Opening "+n+" via "+s);sap.m.URLHelper.redirect("/sap/bc/gui/sap/its/webgui?~transaction=*sa38%20RS38M-PROGRAMM="+encodeURIComponent(n)+";DYNP_OKCODE=STRT#",true)}else if(s==="SE37"){sap.m.MessageToast.show("Opening "+n+" via "+s);sap.m.URLHelper.redirect("/sap/bc/gui/sap/its/webgui?~transaction=*se37%20RS38L-NAME="+encodeURIComponent(n)+";DYNP_OKCODE=WB_EXEC#",true)}else if(s==="SE11"){sap.m.MessageToast.show("Opening "+n+" via "+s);this.OpenTable(e)}}else{sap.m.MessageToast.show("Opening "+s);sap.m.URLHelper.redirect("/sap/bc/gui/sap/its/webgui?~transaction=*"+encodeURIComponent(s),true)}},OpenTable:function(e){const t=e.getParameter("listItem")||e.getSource();const a=t.getBindingContext();const s=a.getProperty("code");const o=a.getProperty("call");sap.m.MessageToast.show("Opening "+o+" via "+s);sap.m.URLHelper.redirect("/sap/bc/gui/sap/its/webgui?~transaction=*se11%20RSRD1-TBMA_VAL="+encodeURIComponent(o)+";DYNP_OKCODE=WB_DISPLAY#",true)},TableSQLExecute:function(e){const a=e.getParameter("listItem")||e.getSource();const s=a.getBindingContext();const o=s.getProperty("call");const n="SELECT * FROM "+o;try{let e=this.getView().getParent();while(e&&!e.getMetadata().getName().includes("TabContainer")){e=e.getParent()}if(e){let a=e.getParent();while(a&&!a.getController){a=a.getParent()}if(a&&a.getController){const e=a.getController();if(e.createNewTab){e.createNewTab("SQL: "+o,"astrobear.abaplorer.view.SQLConsole",null,{initialSQL:n})}else{t.show("Navigation error: createNewTab not found")}}}}catch(e){console.error(e);t.show("Error opening SQL Console")}},onSearch:function(e){const t=e.getParameter("query");this._filterList(t)},onLiveSearch:function(e){const t=e.getParameter("newValue");this._filterList(t)},_setupDoubleClickPrevention:function(){var e=[this.byId("transactionListFunctionModule"),this.byId("transactionListProgram")];e.forEach(function(e){if(e){e.addEventDelegate({ondblclick:function(e){e.preventDefault();if(window.getSelection){window.getSelection().removeAllRanges()}}})}})},FlexibleClick:function(e){const t=e.getParameter("listItem")||e.getSource();if(!t){return}const a=t.getBindingContext();const s=a.getObject();const o=Date.now();const n=700;if(this._lastClickedRow===s.call&&o-this._lastClickTime<n){console.log("DOUBLE CLICK detected");this.startProgramExecute(e);this._lastClickTime=0;this._lastClickedRow=null;if(this._clickTimer){clearTimeout(this._clickTimer);this._clickTimer=null}return}this._lastClickTime=o;this._lastClickedRow=s.call;if(this._clickTimer){clearTimeout(this._clickTimer)}this._clickTimer=setTimeout(()=>{this.startProgramView(e);this._lastClickTime=o;this._lastClickedRow=s.call;this._clickTimer=null},n)},onFeedbackPress:function(){const e="Cheng.Qian@caleo.com";const t="Wael.Torjmene@caleo.com";const a=encodeURIComponent("ABAPlorer Transaction List suggestion");const s=encodeURIComponent("Hallo ABAPlorer Team,\n\n"+"ich mchte folgendes Feedback geben:\n\n"+"[Bitte schreiben Sie hier Ihr Feedback]\n\n"+"Vielen Dank!");const o=`mailto:${e}?cc=${encodeURIComponent(t)}&subject=${a}&body=${s}`;window.location.href=o},_filterList:function(e){const t=["transactionListSpecial","transactionListCommon","transactionListProgram","transactionListFunctionModule","transactionListTable"];t.forEach(function(t){const a=this.byId(t);if(!a){return}const s=a.getBinding("items");if(e&&e.length>0){const t=new sap.ui.model.Filter({filters:[new sap.ui.model.Filter("code",sap.ui.model.FilterOperator.Contains,e.toUpperCase()),new sap.ui.model.Filter("text",sap.ui.model.FilterOperator.Contains,e.toUpperCase()),new sap.ui.model.Filter("useCase",sap.ui.model.FilterOperator.Contains,e.toUpperCase()),new sap.ui.model.Filter("call",sap.ui.model.FilterOperator.Contains,e.toUpperCase())],and:false});s.filter([t])}else{s.filter([])}}.bind(this))}})});
},
	"astrobear/abaplorer/libs/JSZip.js":function(){
!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).JSZip=e()}}(function(){return function e(t,r,n){function i(a,o){if(!r[a]){if(!t[a]){var h="function"==typeof require&&require;if(!o&&h)return h(a,!0);if(s)return s(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[a]={exports:{}};t[a][0].call(l.exports,function(e){var r=t[a][1][e];return i(r||e)},l,l.exports,e,t,r,n)}return r[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)i(n[a]);return i}({1:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./support"),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";r.encode=function(e){for(var t,r,i,a,o,h,u,l=[],f=0,c=e.length,d=c,p="string"!==n.getTypeOf(e);f<e.length;)d=c-f,i=p?(t=e[f++],r=f<c?e[f++]:0,f<c?e[f++]:0):(t=e.charCodeAt(f++),r=f<c?e.charCodeAt(f++):0,f<c?e.charCodeAt(f++):0),a=t>>2,o=(3&t)<<4|r>>4,h=1<d?(15&r)<<2|i>>6:64,u=2<d?63&i:64,l.push(s.charAt(a)+s.charAt(o)+s.charAt(h)+s.charAt(u));return l.join("")},r.decode=function(e){var t,r,n,a,o,h,u=0,l=0,f="data:";if(e.substr(0,f.length)===f)throw new Error("Invalid base64 input, it looks like a data url.");var c,d=3*(e=e.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(e.charAt(e.length-1)===s.charAt(64)&&d--,e.charAt(e.length-2)===s.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(c=i.uint8array?new Uint8Array(0|d):new Array(0|d);u<e.length;)t=s.indexOf(e.charAt(u++))<<2|(a=s.indexOf(e.charAt(u++)))>>4,r=(15&a)<<4|(o=s.indexOf(e.charAt(u++)))>>2,n=(3&o)<<6|(h=s.indexOf(e.charAt(u++))),c[l++]=t,64!==o&&(c[l++]=r),64!==h&&(c[l++]=n);return c}},{"./support":30,"./utils":32}],2:[function(e,t,r){"use strict";var n=e("./external"),i=e("./stream/DataWorker"),s=e("./stream/Crc32Probe"),a=e("./stream/DataLengthProbe");function o(e,t,r,n,i){this.compressedSize=e,this.uncompressedSize=t,this.crc32=r,this.compression=n,this.compressedContent=i}o.prototype={getContentWorker:function(){var e=new i(n.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new a("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new i(n.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(e,t,r){return e.pipe(new s).pipe(new a("uncompressedSize")).pipe(t.compressWorker(r)).pipe(new a("compressedSize")).withStreamInfo("compression",t)},t.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(e,t,r){"use strict";var n=e("./stream/GenericWorker");r.STORE={magic:"\0\0",compressWorker:function(){return new n("STORE compression")},uncompressWorker:function(){return new n("STORE decompression")}},r.DEFLATE=e("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(e,t,r){"use strict";var n=e("./utils");var i=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t){return void 0!==e&&e.length?"string"!==n.getTypeOf(e)?function(e,t,r,n){var s=i,a=n+r;e^=-1;for(var o=n;o<a;o++)e=e>>>8^s[255&(e^t[o])];return-1^e}(0|t,e,e.length,0):function(e,t,r,n){var s=i,a=n+r;e^=-1;for(var o=n;o<a;o++)e=e>>>8^s[255&(e^t.charCodeAt(o))];return-1^e}(0|t,e,e.length,0):0}},{"./utils":32}],5:[function(e,t,r){"use strict";r.base64=!1,r.binary=!1,r.dir=!1,r.createFolders=!0,r.date=null,r.compression=null,r.compressionOptions=null,r.comment=null,r.unixPermissions=null,r.dosPermissions=null},{}],6:[function(e,t,r){"use strict";var n=null;n="undefined"!=typeof Promise?Promise:e("lie"),t.exports={Promise:n}},{lie:37}],7:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Uint32Array,i=e("pako"),s=e("./utils"),a=e("./stream/GenericWorker"),o=n?"uint8array":"array";function h(e,t){a.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}r.magic="\b\0",s.inherits(h,a),h.prototype.processChunk=function(e){this.meta=e.meta,null===this._pako&&this._createPako(),this._pako.push(s.transformTo(o,e.data),!1)},h.prototype.flush=function(){a.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new i[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},r.compressWorker=function(e){return new h("Deflate",e)},r.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(e,t,r){"use strict";function n(e,t){var r,n="";for(r=0;r<t;r++)n+=String.fromCharCode(255&e),e>>>=8;return n}function i(e,t,r,i,a,l){var f,c,d=e.file,p=e.compression,m=l!==o.utf8encode,_=s.transformTo("string",l(d.name)),g=s.transformTo("string",o.utf8encode(d.name)),b=d.comment,v=s.transformTo("string",l(b)),y=s.transformTo("string",o.utf8encode(b)),w=g.length!==d.name.length,k=y.length!==b.length,x="",S="",z="",C=d.dir,E=d.date,A={crc32:0,compressedSize:0,uncompressedSize:0};t&&!r||(A.crc32=e.crc32,A.compressedSize=e.compressedSize,A.uncompressedSize=e.uncompressedSize);var I=0;t&&(I|=8),m||!w&&!k||(I|=2048);var O=0,B=0;C&&(O|=16),"UNIX"===a?(B=798,O|=function(e,t){var r=e;return e||(r=t?16893:33204),(65535&r)<<16}(d.unixPermissions,C)):(B=20,O|=function(e){return 63&(e||0)}(d.dosPermissions)),f=E.getUTCHours(),f<<=6,f|=E.getUTCMinutes(),f<<=5,f|=E.getUTCSeconds()/2,c=E.getUTCFullYear()-1980,c<<=4,c|=E.getUTCMonth()+1,c<<=5,c|=E.getUTCDate(),w&&(S=n(1,1)+n(h(_),4)+g,x+="up"+n(S.length,2)+S),k&&(z=n(1,1)+n(h(v),4)+y,x+="uc"+n(z.length,2)+z);var R="";return R+="\n\0",R+=n(I,2),R+=p.magic,R+=n(f,2),R+=n(c,2),R+=n(A.crc32,4),R+=n(A.compressedSize,4),R+=n(A.uncompressedSize,4),R+=n(_.length,2),R+=n(x.length,2),{fileRecord:u.LOCAL_FILE_HEADER+R+_+x,dirRecord:u.CENTRAL_FILE_HEADER+n(B,2)+R+n(v.length,2)+"\0\0\0\0"+n(O,4)+n(i,4)+_+x+v}}var s=e("../utils"),a=e("../stream/GenericWorker"),o=e("../utf8"),h=e("../crc32"),u=e("../signature");function l(e,t,r,n){a.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=t,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=e,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}s.inherits(l,a),l.prototype.push=function(e){var t=e.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(e):(this.bytesWritten+=e.data.length,a.prototype.push.call(this,{data:e.data,meta:{currentFile:this.currentFile,percent:r?(t+100*(r-n-1))/r:100}}))},l.prototype.openedSource=function(e){this.currentSourceOffset=this.bytesWritten,this.currentFile=e.file.name;var t=this.streamFiles&&!e.file.dir;if(t){var r=i(e,t,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},l.prototype.closedSource=function(e){this.accumulate=!1;var t=this.streamFiles&&!e.file.dir,r=i(e,t,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),t)this.push({data:function(e){return u.DATA_DESCRIPTOR+n(e.crc32,4)+n(e.compressedSize,4)+n(e.uncompressedSize,4)}(e),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},l.prototype.flush=function(){for(var e=this.bytesWritten,t=0;t<this.dirRecords.length;t++)this.push({data:this.dirRecords[t],meta:{percent:100}});var r=this.bytesWritten-e,i=function(e,t,r,i,a){var o=s.transformTo("string",a(i));return u.CENTRAL_DIRECTORY_END+"\0\0\0\0"+n(e,2)+n(e,2)+n(t,4)+n(r,4)+n(o.length,2)+o}(this.dirRecords.length,r,e,this.zipComment,this.encodeFileName);this.push({data:i,meta:{percent:100}})},l.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},l.prototype.registerPrevious=function(e){this._sources.push(e);var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.closedSource(t.previous.streamInfo),t._sources.length?t.prepareNextSource():t.end()}),e.on("error",function(e){t.error(e)}),this},l.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},l.prototype.error=function(e){var t=this._sources;if(!a.prototype.error.call(this,e))return!1;for(var r=0;r<t.length;r++)try{t[r].error(e)}catch(e){}return!0},l.prototype.lock=function(){a.prototype.lock.call(this);for(var e=this._sources,t=0;t<e.length;t++)e[t].lock()},t.exports=l},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(e,t,r){"use strict";var n=e("../compressions"),i=e("./ZipFileWorker");r.generateWorker=function(e,t,r){var s=new i(t.streamFiles,r,t.platform,t.encodeFileName),a=0;try{e.forEach(function(e,r){a++;var i=function(e,t){var r=e||t,i=n[r];if(!i)throw new Error(r+" is not a valid compression method !");return i}(r.options.compression,t.compression),o=r.options.compressionOptions||t.compressionOptions||{},h=r.dir,u=r.date;r._compressWorker(i,o).withStreamInfo("file",{name:e,dir:h,date:u,comment:r.comment||"",unixPermissions:r.unixPermissions,dosPermissions:r.dosPermissions}).pipe(s)}),s.entriesCount=a}catch(e){s.error(e)}return s}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(e,t,r){"use strict";function n(){if(!(this instanceof n))return new n;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var e=new n;for(var t in this)"function"!=typeof this[t]&&(e[t]=this[t]);return e}}(n.prototype=e("./object")).loadAsync=e("./load"),n.support=e("./support"),n.defaults=e("./defaults"),n.version="3.10.1",n.loadAsync=function(e,t){return(new n).loadAsync(e,t)},n.external=e("./external"),t.exports=n},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(e,t,r){"use strict";var n=e("./utils"),i=e("./external"),s=e("./utf8"),a=e("./zipEntries"),o=e("./stream/Crc32Probe"),h=e("./nodejsUtils");function u(e){return new i.Promise(function(t,r){var n=e.decompressed.getContentWorker().pipe(new o);n.on("error",function(e){r(e)}).on("end",function(){n.streamInfo.crc32!==e.decompressed.crc32?r(new Error("Corrupted zip : CRC32 mismatch")):t()}).resume()})}t.exports=function(e,t){var r=this;return t=n.extend(t||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:s.utf8decode}),h.isNode&&h.isStream(e)?i.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):n.prepareContent("the loaded zip file",e,!0,t.optimizedBinaryString,t.base64).then(function(e){var r=new a(t);return r.load(e),r}).then(function(e){var r=[i.Promise.resolve(e)],n=e.files;if(t.checkCRC32)for(var s=0;s<n.length;s++)r.push(u(n[s]));return i.Promise.all(r)}).then(function(e){for(var i=e.shift(),s=i.files,a=0;a<s.length;a++){var o=s[a],h=o.fileNameStr,u=n.resolve(o.fileNameStr);r.file(u,o.decompressed,{binary:!0,optimizedBinaryString:!0,date:o.date,dir:o.dir,comment:o.fileCommentStr.length?o.fileCommentStr:null,unixPermissions:o.unixPermissions,dosPermissions:o.dosPermissions,createFolders:t.createFolders}),o.dir||(r.file(u).unsafeOriginalName=h)}return i.zipComment.length&&(r.comment=i.zipComment),r})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../stream/GenericWorker");function s(e,t){i.call(this,"Nodejs stream input adapter for "+e),this._upstreamEnded=!1,this._bindStream(t)}n.inherits(s,i),s.prototype._bindStream=function(e){var t=this;(this._stream=e).pause(),e.on("data",function(e){t.push({data:e,meta:{percent:0}})}).on("error",function(e){t.isPaused?this.generatedError=e:t.error(e)}).on("end",function(){t.isPaused?t._upstreamEnded=!0:t.end()})},s.prototype.pause=function(){return!!i.prototype.pause.call(this)&&(this._stream.pause(),!0)},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},t.exports=s},{"../stream/GenericWorker":28,"../utils":32}],13:[function(e,t,r){"use strict";var n=e("readable-stream").Readable;function i(e,t,r){n.call(this,t),this._helper=e;var i=this;e.on("data",function(e,t){i.push(e)||i._helper.pause(),r&&r(t)}).on("error",function(e){i.emit("error",e)}).on("end",function(){i.push(null)})}e("../utils").inherits(i,n),i.prototype._read=function(){this._helper.resume()},t.exports=i},{"../utils":32,"readable-stream":16}],14:[function(e,t,r){"use strict";t.exports={isNode:"undefined"!=typeof Buffer,newBufferFrom:function(e,t){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(e,t);if("number"==typeof e)throw new Error('The "data" argument must not be a number');return new Buffer(e,t)},allocBuffer:function(e){if(Buffer.alloc)return Buffer.alloc(e);var t=new Buffer(e);return t.fill(0),t},isBuffer:function(e){return Buffer.isBuffer(e)},isStream:function(e){return e&&"function"==typeof e.on&&"function"==typeof e.pause&&"function"==typeof e.resume}}},{}],15:[function(e,t,r){"use strict";function n(e,t,r){var n,i=s.getTypeOf(t),o=s.extend(r||{},h);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),"string"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(e=m(e)),o.createFolders&&(n=p(e))&&_.call(this,n,!0);var f="string"===i&&!1===o.binary&&!1===o.base64;r&&void 0!==r.binary||(o.binary=!f),(t instanceof u&&0===t.uncompressedSize||o.dir||!t||0===t.length)&&(o.base64=!1,o.binary=!0,t="",o.compression="STORE",i="string");var g=null;g=t instanceof u||t instanceof a?t:c.isNode&&c.isStream(t)?new d(e,t):s.prepareContent(e,t,o.binary,o.optimizedBinaryString,o.base64);var b=new l(e,g,o);this.files[e]=b}var i=e("./utf8"),s=e("./utils"),a=e("./stream/GenericWorker"),o=e("./stream/StreamHelper"),h=e("./defaults"),u=e("./compressedObject"),l=e("./zipObject"),f=e("./generate"),c=e("./nodejsUtils"),d=e("./nodejs/NodejsStreamInputAdapter"),p=function(e){"/"===e.slice(-1)&&(e=e.substring(0,e.length-1));var t=e.lastIndexOf("/");return 0<t?e.substring(0,t):""},m=function(e){return"/"!==e.slice(-1)&&(e+="/"),e},_=function(e,t){return t=void 0!==t?t:h.createFolders,e=m(e),this.files[e]||n.call(this,e,null,{dir:!0,createFolders:t}),this.files[e]};function g(e){return"[object RegExp]"===Object.prototype.toString.call(e)}var b={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(e){var t,r,n;for(t in this.files)n=this.files[t],(r=t.slice(this.root.length,t.length))&&t.slice(0,this.root.length)===this.root&&e(r,n)},filter:function(e){var t=[];return this.forEach(function(r,n){e(r,n)&&t.push(n)}),t},file:function(e,t,r){if(1!==arguments.length)return e=this.root+e,n.call(this,e,t,r),this;if(g(e)){var i=e;return this.filter(function(e,t){return!t.dir&&i.test(e)})}var s=this.files[this.root+e];return s&&!s.dir?s:null},folder:function(e){if(!e)return this;if(g(e))return this.filter(function(t,r){return r.dir&&e.test(t)});var t=this.root+e,r=_.call(this,t),n=this.clone();return n.root=r.name,n},remove:function(e){e=this.root+e;var t=this.files[e];if(t||("/"!==e.slice(-1)&&(e+="/"),t=this.files[e]),t&&!t.dir)delete this.files[e];else for(var r=this.filter(function(t,r){return r.name.slice(0,e.length)===e}),n=0;n<r.length;n++)delete this.files[r[n].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(e){var t,r={};try{if((r=s.extend(e||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:i.utf8encode})).type=r.type.toLowerCase(),r.compression=r.compression.toUpperCase(),"binarystring"===r.type&&(r.type="string"),!r.type)throw new Error("No output type specified.");s.checkSupport(r.type),"darwin"!==r.platform&&"freebsd"!==r.platform&&"linux"!==r.platform&&"sunos"!==r.platform||(r.platform="UNIX"),"win32"===r.platform&&(r.platform="DOS");var n=r.comment||this.comment||"";t=f.generateWorker(this,r,n)}catch(e){(t=new a("error")).error(e)}return new o(t,r.type||"string",r.mimeType)},generateAsync:function(e,t){return this.generateInternalStream(e).accumulate(t)},generateNodeStream:function(e,t){return(e=e||{}).type||(e.type="nodebuffer"),this.generateInternalStream(e).toNodejsStream(t)}};t.exports=b},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(e,t,r){"use strict";t.exports=e("stream")},{stream:void 0}],17:[function(e,t,r){"use strict";var n=e("./DataReader");function i(e){n.call(this,e);for(var t=0;t<this.data.length;t++)e[t]=255&e[t]}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data[this.zero+e]},i.prototype.lastIndexOfSignature=function(e){for(var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.length-4;0<=s;--s)if(this.data[s]===t&&this.data[s+1]===r&&this.data[s+2]===n&&this.data[s+3]===i)return s-this.zero;return-1},i.prototype.readAndCheckSignature=function(e){var t=e.charCodeAt(0),r=e.charCodeAt(1),n=e.charCodeAt(2),i=e.charCodeAt(3),s=this.readData(4);return t===s[0]&&r===s[1]&&n===s[2]&&i===s[3]},i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return[];var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],18:[function(e,t,r){"use strict";var n=e("../utils");function i(e){this.data=e,this.length=e.length,this.index=0,this.zero=0}i.prototype={checkOffset:function(e){this.checkIndex(this.index+e)},checkIndex:function(e){if(this.length<this.zero+e||e<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+e+"). Corrupted zip ?")},setIndex:function(e){this.checkIndex(e),this.index=e},skip:function(e){this.setIndex(this.index+e)},byteAt:function(){},readInt:function(e){var t,r=0;for(this.checkOffset(e),t=this.index+e-1;t>=this.index;t--)r=(r<<8)+this.byteAt(t);return this.index+=e,r},readString:function(e){return n.transformTo("string",this.readData(e))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var e=this.readInt(4);return new Date(Date.UTC(1980+(e>>25&127),(e>>21&15)-1,e>>16&31,e>>11&31,e>>5&63,(31&e)<<1))}},t.exports=i},{"../utils":32}],19:[function(e,t,r){"use strict";var n=e("./Uint8ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(e,t,r){"use strict";var n=e("./DataReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.byteAt=function(e){return this.data.charCodeAt(this.zero+e)},i.prototype.lastIndexOfSignature=function(e){return this.data.lastIndexOf(e)-this.zero},i.prototype.readAndCheckSignature=function(e){return e===this.readData(4)},i.prototype.readData=function(e){this.checkOffset(e);var t=this.data.slice(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./DataReader":18}],21:[function(e,t,r){"use strict";var n=e("./ArrayReader");function i(e){n.call(this,e)}e("../utils").inherits(i,n),i.prototype.readData=function(e){if(this.checkOffset(e),0===e)return new Uint8Array(0);var t=this.data.subarray(this.zero+this.index,this.zero+this.index+e);return this.index+=e,t},t.exports=i},{"../utils":32,"./ArrayReader":17}],22:[function(e,t,r){"use strict";var n=e("../utils"),i=e("../support"),s=e("./ArrayReader"),a=e("./StringReader"),o=e("./NodeBufferReader"),h=e("./Uint8ArrayReader");t.exports=function(e){var t=n.getTypeOf(e);return n.checkSupport(t),"string"!==t||i.uint8array?"nodebuffer"===t?new o(e):i.uint8array?new h(n.transformTo("uint8array",e)):new s(n.transformTo("array",e)):new a(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(e,t,r){"use strict";r.LOCAL_FILE_HEADER="PK",r.CENTRAL_FILE_HEADER="PK",r.CENTRAL_DIRECTORY_END="PK",r.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK",r.ZIP64_CENTRAL_DIRECTORY_END="PK",r.DATA_DESCRIPTOR="PK\b"},{}],24:[function(e,t,r){"use strict";var n=e("./GenericWorker"),i=e("../utils");function s(e){n.call(this,"ConvertWorker to "+e),this.destType=e}i.inherits(s,n),s.prototype.processChunk=function(e){this.push({data:i.transformTo(this.destType,e.data),meta:e.meta})},t.exports=s},{"../utils":32,"./GenericWorker":28}],25:[function(e,t,r){"use strict";var n=e("./GenericWorker"),i=e("../crc32");function s(){n.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}e("../utils").inherits(s,n),s.prototype.processChunk=function(e){this.streamInfo.crc32=i(e.data,this.streamInfo.crc32||0),this.push(e)},t.exports=s},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./GenericWorker");function s(e){i.call(this,"DataLengthProbe for "+e),this.propName=e,this.withStreamInfo(e,0)}n.inherits(s,i),s.prototype.processChunk=function(e){if(e){var t=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=t+e.data.length}i.prototype.processChunk.call(this,e)},t.exports=s},{"../utils":32,"./GenericWorker":28}],27:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./GenericWorker");function s(e){i.call(this,"DataWorker");var t=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,e.then(function(e){t.dataIsReady=!0,t.data=e,t.max=e&&e.length||0,t.type=n.getTypeOf(e),t.isPaused||t._tickAndRepeat()},function(e){t.error(e)})}n.inherits(s,i),s.prototype.cleanUp=function(){i.prototype.cleanUp.call(this),this.data=null},s.prototype.resume=function(){return!!i.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,n.delay(this._tickAndRepeat,[],this)),!0)},s.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(n.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},s.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var e=null,t=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":e=this.data.substring(this.index,t);break;case"uint8array":e=this.data.subarray(this.index,t);break;case"array":case"nodebuffer":e=this.data.slice(this.index,t)}return this.index=t,this.push({data:e,meta:{percent:this.max?this.index/this.max*100:0}})},t.exports=s},{"../utils":32,"./GenericWorker":28}],28:[function(e,t,r){"use strict";function n(e){this.name=e||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}n.prototype={push:function(e){this.emit("data",e)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit("error",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit("error",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(e,t){return this._listeners[e].push(t),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(e,t){if(this._listeners[e])for(var r=0;r<this._listeners[e].length;r++)this._listeners[e][r].call(this,t)},pipe:function(e){return e.registerPrevious(this)},registerPrevious:function(e){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=e.streamInfo,this.mergeStreamInfo(),this.previous=e;var t=this;return e.on("data",function(e){t.processChunk(e)}),e.on("end",function(){t.end()}),e.on("error",function(e){t.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var e=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),e=!0),this.previous&&this.previous.resume(),!e},flush:function(){},processChunk:function(e){this.push(e)},withStreamInfo:function(e,t){return this.extraStreamInfo[e]=t,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var e in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,e)&&(this.streamInfo[e]=this.extraStreamInfo[e])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var e="Worker "+this.name;return this.previous?this.previous+" -> "+e:e}},t.exports=n},{}],29:[function(e,t,r){"use strict";var n=e("../utils"),i=e("./ConvertWorker"),s=e("./GenericWorker"),a=e("../base64"),o=e("../support"),h=e("../external"),u=null;if(o.nodestream)try{u=e("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function l(e,t){return new h.Promise(function(r,i){var s=[],o=e._internalType,h=e._outputType,u=e._mimeType;e.on("data",function(e,r){s.push(e),t&&t(r)}).on("error",function(e){s=[],i(e)}).on("end",function(){try{var e=function(e,t,r){switch(e){case"blob":return n.newBlob(n.transformTo("arraybuffer",t),r);case"base64":return a.encode(t);default:return n.transformTo(e,t)}}(h,function(e,t){var r,n=0,i=null,s=0;for(r=0;r<t.length;r++)s+=t[r].length;switch(e){case"string":return t.join("");case"array":return Array.prototype.concat.apply([],t);case"uint8array":for(i=new Uint8Array(s),r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i;case"nodebuffer":return Buffer.concat(t);default:throw new Error("concat : unsupported type '"+e+"'")}}(o,s),u);r(e)}catch(e){i(e)}s=[]}).resume()})}function f(e,t,r){var a=t;switch(t){case"blob":case"arraybuffer":a="uint8array";break;case"base64":a="string"}try{this._internalType=a,this._outputType=t,this._mimeType=r,n.checkSupport(a),this._worker=e.pipe(new i(a)),e.lock()}catch(e){this._worker=new s("error"),this._worker.error(e)}}f.prototype={accumulate:function(e){return l(this,e)},on:function(e,t){var r=this;return"data"===e?this._worker.on(e,function(e){t.call(r,e.data,e.meta)}):this._worker.on(e,function(){n.delay(t,arguments,r)}),this},resume:function(){return n.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(e){if(n.checkSupport("nodestream"),"nodebuffer"!==this._outputType)throw new Error(this._outputType+" is not supported by this method");return new u(this,{objectMode:"nodebuffer"!==this._outputType},e)}},t.exports=f},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(e,t,r){"use strict";if(r.base64=!0,r.array=!0,r.string=!0,r.arraybuffer="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array,r.nodebuffer="undefined"!=typeof Buffer,r.uint8array="undefined"!=typeof Uint8Array,"undefined"==typeof ArrayBuffer)r.blob=!1;else{var n=new ArrayBuffer(0);try{r.blob=0===new Blob([n],{type:"application/zip"}).size}catch(e){try{var i=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);i.append(n),r.blob=0===i.getBlob("application/zip").size}catch(e){r.blob=!1}}}try{r.nodestream=!!e("readable-stream").Readable}catch(e){r.nodestream=!1}},{"readable-stream":16}],31:[function(e,t,r){"use strict";for(var n=e("./utils"),i=e("./support"),s=e("./nodejsUtils"),a=e("./stream/GenericWorker"),o=new Array(256),h=0;h<256;h++)o[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;o[254]=o[254]=1;function u(){a.call(this,"utf-8 decode"),this.leftOver=null}function l(){a.call(this,"utf-8 encode")}r.utf8encode=function(e){return i.nodebuffer?s.newBufferFrom(e,"utf-8"):function(e){var t,r,n,s,a,o=e.length,h=0;for(s=0;s<o;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(n-56320),s++),h+=r<128?1:r<2048?2:r<65536?3:4;for(t=i.uint8array?new Uint8Array(h):new Array(h),s=a=0;a<h;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(n=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(n-56320),s++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t}(e)},r.utf8decode=function(e){return i.nodebuffer?n.transformTo("nodebuffer",e).toString("utf-8"):function(e){var t,r,i,s,a=e.length,h=new Array(2*a);for(t=r=0;t<a;)if((i=e[t++])<128)h[r++]=i;else if(4<(s=o[i]))h[r++]=65533,t+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&t<a;)i=i<<6|63&e[t++],s--;1<s?h[r++]=65533:i<65536?h[r++]=i:(i-=65536,h[r++]=55296|i>>10&1023,h[r++]=56320|1023&i)}return h.length!==r&&(h.subarray?h=h.subarray(0,r):h.length=r),n.applyFromCharCode(h)}(e=n.transformTo(i.uint8array?"uint8array":"array",e))},n.inherits(u,a),u.prototype.processChunk=function(e){var t=n.transformTo(i.uint8array?"uint8array":"array",e.data);if(this.leftOver&&this.leftOver.length){if(i.uint8array){var s=t;(t=new Uint8Array(s.length+this.leftOver.length)).set(this.leftOver,0),t.set(s,this.leftOver.length)}else t=this.leftOver.concat(t);this.leftOver=null}var a=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+o[e[r]]>t?r:t}(t),h=t;a!==t.length&&(i.uint8array?(h=t.subarray(0,a),this.leftOver=t.subarray(a,t.length)):(h=t.slice(0,a),this.leftOver=t.slice(a,t.length))),this.push({data:r.utf8decode(h),meta:e.meta})},u.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:r.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},r.Utf8DecodeWorker=u,n.inherits(l,a),l.prototype.processChunk=function(e){this.push({data:r.utf8encode(e.data),meta:e.meta})},r.Utf8EncodeWorker=l},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(e,t,r){"use strict";var n=e("./support"),i=e("./base64"),s=e("./nodejsUtils"),a=e("./external");function o(e){return e}function h(e,t){for(var r=0;r<e.length;++r)t[r]=255&e.charCodeAt(r);return t}e("setimmediate"),r.newBlob=function(e,t){r.checkSupport("blob");try{return new Blob([e],{type:t})}catch(r){try{var n=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return n.append(e),n.getBlob(t)}catch(e){throw new Error("Bug : can't construct the Blob.")}}};var u={stringifyByChunk:function(e,t,r){var n=[],i=0,s=e.length;if(s<=r)return String.fromCharCode.apply(null,e);for(;i<s;)"array"===t||"nodebuffer"===t?n.push(String.fromCharCode.apply(null,e.slice(i,Math.min(i+r,s)))):n.push(String.fromCharCode.apply(null,e.subarray(i,Math.min(i+r,s)))),i+=r;return n.join("")},stringifyByChar:function(e){for(var t="",r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},applyCanBeUsed:{uint8array:function(){try{return n.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return n.nodebuffer&&1===String.fromCharCode.apply(null,s.allocBuffer(1)).length}catch(e){return!1}}()}};function l(e){var t=65536,n=r.getTypeOf(e),i=!0;if("uint8array"===n?i=u.applyCanBeUsed.uint8array:"nodebuffer"===n&&(i=u.applyCanBeUsed.nodebuffer),i)for(;1<t;)try{return u.stringifyByChunk(e,n,t)}catch(e){t=Math.floor(t/2)}return u.stringifyByChar(e)}function f(e,t){for(var r=0;r<e.length;r++)t[r]=e[r];return t}r.applyFromCharCode=l;var c={};c.string={string:o,array:function(e){return h(e,new Array(e.length))},arraybuffer:function(e){return c.string.uint8array(e).buffer},uint8array:function(e){return h(e,new Uint8Array(e.length))},nodebuffer:function(e){return h(e,s.allocBuffer(e.length))}},c.array={string:l,array:o,arraybuffer:function(e){return new Uint8Array(e).buffer},uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(e)}},c.arraybuffer={string:function(e){return l(new Uint8Array(e))},array:function(e){return f(new Uint8Array(e),new Array(e.byteLength))},arraybuffer:o,uint8array:function(e){return new Uint8Array(e)},nodebuffer:function(e){return s.newBufferFrom(new Uint8Array(e))}},c.uint8array={string:l,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return e.buffer},uint8array:o,nodebuffer:function(e){return s.newBufferFrom(e)}},c.nodebuffer={string:l,array:function(e){return f(e,new Array(e.length))},arraybuffer:function(e){return c.nodebuffer.uint8array(e).buffer},uint8array:function(e){return f(e,new Uint8Array(e.length))},nodebuffer:o},r.transformTo=function(e,t){if(t=t||"",!e)return t;r.checkSupport(e);var n=r.getTypeOf(t);return c[n][e](t)},r.resolve=function(e){for(var t=e.split("/"),r=[],n=0;n<t.length;n++){var i=t[n];"."===i||""===i&&0!==n&&n!==t.length-1||(".."===i?r.pop():r.push(i))}return r.join("/")},r.getTypeOf=function(e){return"string"==typeof e?"string":"[object Array]"===Object.prototype.toString.call(e)?"array":n.nodebuffer&&s.isBuffer(e)?"nodebuffer":n.uint8array&&e instanceof Uint8Array?"uint8array":n.arraybuffer&&e instanceof ArrayBuffer?"arraybuffer":void 0},r.checkSupport=function(e){if(!n[e.toLowerCase()])throw new Error(e+" is not supported by this platform")},r.MAX_VALUE_16BITS=65535,r.MAX_VALUE_32BITS=-1,r.pretty=function(e){var t,r,n="";for(r=0;r<(e||"").length;r++)n+="\\x"+((t=e.charCodeAt(r))<16?"0":"")+t.toString(16).toUpperCase();return n},r.delay=function(e,t,r){setImmediate(function(){e.apply(r||null,t||[])})},r.inherits=function(e,t){function r(){}r.prototype=t.prototype,e.prototype=new r},r.extend=function(){var e,t,r={};for(e=0;e<arguments.length;e++)for(t in arguments[e])Object.prototype.hasOwnProperty.call(arguments[e],t)&&void 0===r[t]&&(r[t]=arguments[e][t]);return r},r.prepareContent=function(e,t,s,o,u){return a.Promise.resolve(t).then(function(e){return n.blob&&(e instanceof Blob||-1!==["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(e)))&&"undefined"!=typeof FileReader?new a.Promise(function(t,r){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.onerror=function(e){r(e.target.error)},n.readAsArrayBuffer(e)}):e}).then(function(t){var l=r.getTypeOf(t);return l?("arraybuffer"===l?t=r.transformTo("uint8array",t):"string"===l&&(u?t=i.decode(t):s&&!0!==o&&(t=function(e){return h(e,n.uint8array?new Uint8Array(e.length):new Array(e.length))}(t))),t):a.Promise.reject(new Error("Can't read the data of '"+e+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),i=e("./utils"),s=e("./signature"),a=e("./zipEntry"),o=e("./support");function h(e){this.files=[],this.loadOptions=e}h.prototype={checkSignature:function(e){if(!this.reader.readAndCheckSignature(e)){this.reader.index-=4;var t=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+i.pretty(t)+", expected "+i.pretty(e)+")")}},isSignature:function(e,t){var r=this.reader.index;this.reader.setIndex(e);var n=this.reader.readString(4)===t;return this.reader.setIndex(r),n},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var e=this.reader.readData(this.zipCommentLength),t=o.uint8array?"uint8array":"array",r=i.transformTo(t,e);this.zipComment=this.loadOptions.decodeFileName(r)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var e,t,r,n=this.zip64EndOfCentralSize-44;0<n;)e=this.reader.readInt(2),t=this.reader.readInt(4),r=this.reader.readData(t),this.zip64ExtensibleData[e]={id:e,length:t,value:r}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var e,t;for(e=0;e<this.files.length;e++)t=this.files[e],this.reader.setIndex(t.localHeaderOffset),this.checkSignature(s.LOCAL_FILE_HEADER),t.readLocalPart(this.reader),t.handleUTF8(),t.processAttributes()},readCentralDir:function(){var e;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(s.CENTRAL_FILE_HEADER);)(e=new a({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(e);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var e=this.reader.lastIndexOfSignature(s.CENTRAL_DIRECTORY_END);if(e<0)throw!this.isSignature(0,s.LOCAL_FILE_HEADER)?new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html"):new Error("Corrupted zip: can't find end of central directory");this.reader.setIndex(e);var t=e;if(this.checkSignature(s.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===i.MAX_VALUE_16BITS||this.diskWithCentralDirStart===i.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===i.MAX_VALUE_16BITS||this.centralDirRecords===i.MAX_VALUE_16BITS||this.centralDirSize===i.MAX_VALUE_32BITS||this.centralDirOffset===i.MAX_VALUE_32BITS){if(this.zip64=!0,(e=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(e),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,s.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(s.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var r=this.centralDirOffset+this.centralDirSize;this.zip64&&(r+=20,r+=12+this.zip64EndOfCentralSize);var n=t-r;if(0<n)this.isSignature(t,s.CENTRAL_FILE_HEADER)||(this.reader.zero=n);else if(n<0)throw new Error("Corrupted zip: missing "+Math.abs(n)+" bytes.")},prepareReader:function(e){this.reader=n(e)},load:function(e){this.prepareReader(e),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},t.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(e,t,r){"use strict";var n=e("./reader/readerFor"),i=e("./utils"),s=e("./compressedObject"),a=e("./crc32"),o=e("./utf8"),h=e("./compressions"),u=e("./support");function l(e,t){this.options=e,this.loadOptions=t}l.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(e){var t,r;if(e.skip(22),this.fileNameLength=e.readInt(2),r=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(r),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if(null===(t=function(e){for(var t in h)if(Object.prototype.hasOwnProperty.call(h,t)&&h[t].magic===e)return h[t];return null}(this.compressionMethod)))throw new Error("Corrupted zip : compression "+i.pretty(this.compressionMethod)+" unknown (inner file : "+i.transformTo("string",this.fileName)+")");this.decompressed=new s(this.compressedSize,this.uncompressedSize,this.crc32,t,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var t=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(t),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0==e&&(this.dosPermissions=63&this.externalFileAttributes),3==e&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||"/"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=n(this.extraFields[1].value);this.uncompressedSize===i.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===i.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===i.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===i.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var t,r,n,i=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<i;)t=e.readInt(2),r=e.readInt(2),n=e.readData(r),this.extraFields[t]={id:t,length:r,value:n};e.setIndex(i)},handleUTF8:function(){var e=u.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var t=this.findExtraFieldUnicodePath();if(null!==t)this.fileNameStr=t;else{var r=i.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(r)}var n=this.findExtraFieldUnicodeComment();if(null!==n)this.fileCommentStr=n;else{var s=i.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(s)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileName)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var t=n(e.value);return 1!==t.readInt(1)?null:a(this.fileComment)!==t.readInt(4)?null:o.utf8decode(t.readData(e.length-5))}return null}},t.exports=l},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(e,t,r){"use strict";function n(e,t,r){this.name=e,this.dir=r.dir,this.date=r.date,this.comment=r.comment,this.unixPermissions=r.unixPermissions,this.dosPermissions=r.dosPermissions,this._data=t,this._dataBinary=r.binary,this.options={compression:r.compression,compressionOptions:r.compressionOptions}}var i=e("./stream/StreamHelper"),s=e("./stream/DataWorker"),a=e("./utf8"),o=e("./compressedObject"),h=e("./stream/GenericWorker");n.prototype={internalStream:function(e){var t=null,r="string";try{if(!e)throw new Error("No output type specified.");var n="string"===(r=e.toLowerCase())||"text"===r;"binarystring"!==r&&"text"!==r||(r="string"),t=this._decompressWorker();var s=!this._dataBinary;s&&!n&&(t=t.pipe(new a.Utf8EncodeWorker)),!s&&n&&(t=t.pipe(new a.Utf8DecodeWorker))}catch(e){(t=new h("error")).error(e)}return new i(t,r,"")},async:function(e,t){return this.internalStream(e).accumulate(t)},nodeStream:function(e,t){return this.internalStream(e||"nodebuffer").toNodejsStream(t)},_compressWorker:function(e,t){if(this._data instanceof o&&this._data.compression.magic===e.magic)return this._data.getCompressedWorker();var r=this._decompressWorker();return this._dataBinary||(r=r.pipe(new a.Utf8EncodeWorker)),o.createWorkerFrom(r,e,t)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof h?this._data:new s(this._data)}};for(var u=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],l=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},f=0;f<u.length;f++)n.prototype[u[f]]=l;t.exports=n},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(e,t,r){(function(e){"use strict";var r,n,i=e.MutationObserver||e.WebKitMutationObserver;if(i){var s=0,a=new i(l),o=e.document.createTextNode("");a.observe(o,{characterData:!0}),r=function(){o.data=s=++s%2}}else if(e.setImmediate||void 0===e.MessageChannel)r="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var h=new e.MessageChannel;h.port1.onmessage=l,r=function(){h.port2.postMessage(0)}}var u=[];function l(){var e,t;n=!0;for(var r=u.length;r;){for(t=u,u=[],e=-1;++e<r;)t[e]();r=u.length}n=!1}t.exports=function(e){1!==u.push(e)||n||r()}}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],37:[function(e,t,r){"use strict";var n=e("immediate");function i(){}var s={},a=["REJECTED"],o=["FULFILLED"],h=["PENDING"];function u(e){if("function"!=typeof e)throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,e!==i&&d(this,e)}function l(e,t,r){this.promise=e,"function"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),"function"==typeof r&&(this.onRejected=r,this.callRejected=this.otherCallRejected)}function f(e,t,r){n(function(){var n;try{n=t(r)}catch(n){return s.reject(e,n)}n===e?s.reject(e,new TypeError("Cannot resolve promise with itself")):s.resolve(e,n)})}function c(e){var t=e&&e.then;if(e&&("object"==typeof e||"function"==typeof e)&&"function"==typeof t)return function(){t.apply(e,arguments)}}function d(e,t){var r=!1;function n(t){r||(r=!0,s.reject(e,t))}function i(t){r||(r=!0,s.resolve(e,t))}var a=p(function(){t(i,n)});"error"===a.status&&n(a.value)}function p(e,t){var r={};try{r.value=e(t),r.status="success"}catch(e){r.status="error",r.value=e}return r}(t.exports=u).prototype.finally=function(e){if("function"!=typeof e)return this;var t=this.constructor;return this.then(function(r){return t.resolve(e()).then(function(){return r})},function(r){return t.resolve(e()).then(function(){throw r})})},u.prototype.catch=function(e){return this.then(null,e)},u.prototype.then=function(e,t){if("function"!=typeof e&&this.state===o||"function"!=typeof t&&this.state===a)return this;var r=new this.constructor(i);this.state!==h?f(r,this.state===o?e:t,this.outcome):this.queue.push(new l(r,e,t));return r},l.prototype.callFulfilled=function(e){s.resolve(this.promise,e)},l.prototype.otherCallFulfilled=function(e){f(this.promise,this.onFulfilled,e)},l.prototype.callRejected=function(e){s.reject(this.promise,e)},l.prototype.otherCallRejected=function(e){f(this.promise,this.onRejected,e)},s.resolve=function(e,t){var r=p(c,t);if("error"===r.status)return s.reject(e,r.value);var n=r.value;if(n)d(e,n);else{e.state=o,e.outcome=t;for(var i=-1,a=e.queue.length;++i<a;)e.queue[i].callFulfilled(t)}return e},s.reject=function(e,t){e.state=a,e.outcome=t;for(var r=-1,n=e.queue.length;++r<n;)e.queue[r].callRejected(t);return e},u.resolve=function(e){if(e instanceof this)return e;return s.resolve(new this(i),e)},u.reject=function(e){var t=new this(i);return s.reject(t,e)},u.all=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);var a=new Array(r),o=0,h=-1,u=new this(i);for(;++h<r;)l(e[h],h);return u;function l(e,i){t.resolve(e).then(function(e){a[i]=e,++o!==r||n||(n=!0,s.resolve(u,a))},function(e){n||(n=!0,s.reject(u,e))})}},u.race=function(e){var t=this;if("[object Array]"!==Object.prototype.toString.call(e))return this.reject(new TypeError("must be an array"));var r=e.length,n=!1;if(!r)return this.resolve([]);var a=-1,o=new this(i);for(;++a<r;)h=e[a],t.resolve(h).then(function(e){n||(n=!0,s.resolve(o,e))},function(e){n||(n=!0,s.reject(o,e))});var h;return o}},{immediate:36}],38:[function(e,t,r){"use strict";var n={};(0,e("./lib/utils/common").assign)(n,e("./lib/deflate"),e("./lib/inflate"),e("./lib/zlib/constants")),t.exports=n},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(e,t,r){"use strict";var n=e("./zlib/deflate"),i=e("./utils/common"),s=e("./utils/strings"),a=e("./zlib/messages"),o=e("./zlib/zstream"),h=Object.prototype.toString,u=0,l=-1,f=0,c=8;function d(e){if(!(this instanceof d))return new d(e);this.options=i.assign({level:l,method:c,chunkSize:16384,windowBits:15,memLevel:8,strategy:f,to:""},e||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var r=n.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(r!==u)throw new Error(a[r]);if(t.header&&n.deflateSetHeader(this.strm,t.header),t.dictionary){var p;if(p="string"==typeof t.dictionary?s.string2buf(t.dictionary):"[object ArrayBuffer]"===h.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,(r=n.deflateSetDictionary(this.strm,p))!==u)throw new Error(a[r]);this._dict_set=!0}}function p(e,t){var r=new d(t);if(r.push(e,!0),r.err)throw r.msg||a[r.err];return r.result}d.prototype.push=function(e,t){var r,a,o=this.strm,l=this.options.chunkSize;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?o.input=s.string2buf(e):"[object ArrayBuffer]"===h.call(e)?o.input=new Uint8Array(e):o.input=e,o.next_in=0,o.avail_in=o.input.length;do{if(0===o.avail_out&&(o.output=new i.Buf8(l),o.next_out=0,o.avail_out=l),1!==(r=n.deflate(o,a))&&r!==u)return this.onEnd(r),!(this.ended=!0);0!==o.avail_out&&(0!==o.avail_in||4!==a&&2!==a)||("string"===this.options.to?this.onData(s.buf2binstring(i.shrinkBuf(o.output,o.next_out))):this.onData(i.shrinkBuf(o.output,o.next_out)))}while((0<o.avail_in||0===o.avail_out)&&1!==r);return 4===a?(r=n.deflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===u):2!==a||(this.onEnd(u),!(o.avail_out=0))},d.prototype.onData=function(e){this.chunks.push(e)},d.prototype.onEnd=function(e){e===u&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Deflate=d,r.deflate=p,r.deflateRaw=function(e,t){return(t=t||{}).raw=!0,p(e,t)},r.gzip=function(e,t){return(t=t||{}).gzip=!0,p(e,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(e,t,r){"use strict";var n=e("./zlib/inflate"),i=e("./utils/common"),s=e("./utils/strings"),a=e("./zlib/constants"),o=e("./zlib/messages"),h=e("./zlib/zstream"),u=e("./zlib/gzheader"),l=Object.prototype.toString;function f(e){if(!(this instanceof f))return new f(e);this.options=i.assign({chunkSize:16384,windowBits:0,to:""},e||{});var t=this.options;t.raw&&0<=t.windowBits&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(0<=t.windowBits&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),15<t.windowBits&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var r=n.inflateInit2(this.strm,t.windowBits);if(r!==a.Z_OK)throw new Error(o[r]);this.header=new u,n.inflateGetHeader(this.strm,this.header)}function c(e,t){var r=new f(t);if(r.push(e,!0),r.err)throw r.msg||o[r.err];return r.result}f.prototype.push=function(e,t){var r,o,h,u,f,c,d=this.strm,p=this.options.chunkSize,m=this.options.dictionary,_=!1;if(this.ended)return!1;o=t===~~t?t:!0===t?a.Z_FINISH:a.Z_NO_FLUSH,"string"==typeof e?d.input=s.binstring2buf(e):"[object ArrayBuffer]"===l.call(e)?d.input=new Uint8Array(e):d.input=e,d.next_in=0,d.avail_in=d.input.length;do{if(0===d.avail_out&&(d.output=new i.Buf8(p),d.next_out=0,d.avail_out=p),(r=n.inflate(d,a.Z_NO_FLUSH))===a.Z_NEED_DICT&&m&&(c="string"==typeof m?s.string2buf(m):"[object ArrayBuffer]"===l.call(m)?new Uint8Array(m):m,r=n.inflateSetDictionary(this.strm,c)),r===a.Z_BUF_ERROR&&!0===_&&(r=a.Z_OK,_=!1),r!==a.Z_STREAM_END&&r!==a.Z_OK)return this.onEnd(r),!(this.ended=!0);d.next_out&&(0!==d.avail_out&&r!==a.Z_STREAM_END&&(0!==d.avail_in||o!==a.Z_FINISH&&o!==a.Z_SYNC_FLUSH)||("string"===this.options.to?(h=s.utf8border(d.output,d.next_out),u=d.next_out-h,f=s.buf2string(d.output,h),d.next_out=u,d.avail_out=p-u,u&&i.arraySet(d.output,d.output,h,u,0),this.onData(f)):this.onData(i.shrinkBuf(d.output,d.next_out)))),0===d.avail_in&&0===d.avail_out&&(_=!0)}while((0<d.avail_in||0===d.avail_out)&&r!==a.Z_STREAM_END);return r===a.Z_STREAM_END&&(o=a.Z_FINISH),o===a.Z_FINISH?(r=n.inflateEnd(this.strm),this.onEnd(r),this.ended=!0,r===a.Z_OK):o!==a.Z_SYNC_FLUSH||(this.onEnd(a.Z_OK),!(d.avail_out=0))},f.prototype.onData=function(e){this.chunks.push(e)},f.prototype.onEnd=function(e){e===a.Z_OK&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=i.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg},r.Inflate=f,r.inflate=c,r.inflateRaw=function(e,t){return(t=t||{}).raw=!0,c(e,t)},r.ungzip=c},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(e,t,r){"use strict";var n="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;r.assign=function(e){for(var t=Array.prototype.slice.call(arguments,1);t.length;){var r=t.shift();if(r){if("object"!=typeof r)throw new TypeError(r+"must be non-object");for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])}}return e},r.shrinkBuf=function(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)};var i={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){var t,r,n,i,s,a;for(t=n=0,r=e.length;t<r;t++)n+=e[t].length;for(a=new Uint8Array(n),t=i=0,r=e.length;t<r;t++)s=e[t],a.set(s,i),i+=s.length;return a}},s={arraySet:function(e,t,r,n,i){for(var s=0;s<n;s++)e[i+s]=t[r+s]},flattenChunks:function(e){return[].concat.apply([],e)}};r.setTyped=function(e){e?(r.Buf8=Uint8Array,r.Buf16=Uint16Array,r.Buf32=Int32Array,r.assign(r,i)):(r.Buf8=Array,r.Buf16=Array,r.Buf32=Array,r.assign(r,s))},r.setTyped(n)},{}],42:[function(e,t,r){"use strict";var n=e("./common"),i=!0,s=!0;try{String.fromCharCode.apply(null,[0])}catch(e){i=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){s=!1}for(var a=new n.Buf8(256),o=0;o<256;o++)a[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function h(e,t){if(t<65537&&(e.subarray&&s||!e.subarray&&i))return String.fromCharCode.apply(null,n.shrinkBuf(e,t));for(var r="",a=0;a<t;a++)r+=String.fromCharCode(e[a]);return r}a[254]=a[254]=1,r.string2buf=function(e){var t,r,i,s,a,o=e.length,h=0;for(s=0;s<o;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),h+=r<128?1:r<2048?2:r<65536?3:4;for(t=new n.Buf8(h),s=a=0;a<h;s++)55296==(64512&(r=e.charCodeAt(s)))&&s+1<o&&56320==(64512&(i=e.charCodeAt(s+1)))&&(r=65536+(r-55296<<10)+(i-56320),s++),r<128?t[a++]=r:(r<2048?t[a++]=192|r>>>6:(r<65536?t[a++]=224|r>>>12:(t[a++]=240|r>>>18,t[a++]=128|r>>>12&63),t[a++]=128|r>>>6&63),t[a++]=128|63&r);return t},r.buf2binstring=function(e){return h(e,e.length)},r.binstring2buf=function(e){for(var t=new n.Buf8(e.length),r=0,i=t.length;r<i;r++)t[r]=e.charCodeAt(r);return t},r.buf2string=function(e,t){var r,n,i,s,o=t||e.length,u=new Array(2*o);for(r=n=0;r<o;)if((i=e[r++])<128)u[n++]=i;else if(4<(s=a[i]))u[n++]=65533,r+=s-1;else{for(i&=2===s?31:3===s?15:7;1<s&&r<o;)i=i<<6|63&e[r++],s--;1<s?u[n++]=65533:i<65536?u[n++]=i:(i-=65536,u[n++]=55296|i>>10&1023,u[n++]=56320|1023&i)}return h(u,n)},r.utf8border=function(e,t){var r;for((t=t||e.length)>e.length&&(t=e.length),r=t-1;0<=r&&128==(192&e[r]);)r--;return r<0?t:0===r?t:r+a[e[r]]>t?r:t}},{"./common":41}],43:[function(e,t,r){"use strict";t.exports=function(e,t,r,n){for(var i=65535&e|0,s=e>>>16&65535|0,a=0;0!==r;){for(r-=a=2e3<r?2e3:r;s=s+(i=i+t[n++]|0)|0,--a;);i%=65521,s%=65521}return i|s<<16|0}},{}],44:[function(e,t,r){"use strict";t.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(e,t,r){"use strict";var n=function(){for(var e,t=[],r=0;r<256;r++){e=r;for(var n=0;n<8;n++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();t.exports=function(e,t,r,i){var s=n,a=i+r;e^=-1;for(var o=i;o<a;o++)e=e>>>8^s[255&(e^t[o])];return-1^e}},{}],46:[function(e,t,r){"use strict";var n,i=e("../utils/common"),s=e("./trees"),a=e("./adler32"),o=e("./crc32"),h=e("./messages"),u=0,l=4,f=0,c=-2,d=-1,p=4,m=2,_=8,g=9,b=286,v=30,y=19,w=2*b+1,k=15,x=3,S=258,z=S+x+1,C=42,E=113,A=1,I=2,O=3,B=4;function R(e,t){return e.msg=h[t],t}function T(e){return(e<<1)-(4<e?9:0)}function D(e){for(var t=e.length;0<=--t;)e[t]=0}function F(e){var t=e.state,r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(i.arraySet(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function N(e,t){s._tr_flush_block(e,0<=e.block_start?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,F(e.strm)}function U(e,t){e.pending_buf[e.pending++]=t}function P(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function L(e,t){var r,n,i=e.max_chain_length,s=e.strstart,a=e.prev_length,o=e.nice_match,h=e.strstart>e.w_size-z?e.strstart-(e.w_size-z):0,u=e.window,l=e.w_mask,f=e.prev,c=e.strstart+S,d=u[s+a-1],p=u[s+a];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(u[(r=t)+a]===p&&u[r+a-1]===d&&u[r]===u[s]&&u[++r]===u[s+1]){s+=2,r++;do{}while(u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&u[++s]===u[++r]&&s<c);if(n=S-(c-s),s=c-S,a<n){if(e.match_start=t,o<=(a=n))break;d=u[s+a-1],p=u[s+a]}}}while((t=f[t&l])>h&&0!=--i);return a<=e.lookahead?a:e.lookahead}function j(e){var t,r,n,s,h,u,l,f,c,d,p=e.w_size;do{if(s=e.window_size-e.lookahead-e.strstart,e.strstart>=p+(p-z)){for(i.arraySet(e.window,e.window,p,p,0),e.match_start-=p,e.strstart-=p,e.block_start-=p,t=r=e.hash_size;n=e.head[--t],e.head[t]=p<=n?n-p:0,--r;);for(t=r=p;n=e.prev[--t],e.prev[t]=p<=n?n-p:0,--r;);s+=p}if(0===e.strm.avail_in)break;if(u=e.strm,l=e.window,f=e.strstart+e.lookahead,c=s,d=void 0,d=u.avail_in,c<d&&(d=c),r=0===d?0:(u.avail_in-=d,i.arraySet(l,u.input,u.next_in,d,f),1===u.state.wrap?u.adler=a(u.adler,l,d,f):2===u.state.wrap&&(u.adler=o(u.adler,l,d,f)),u.next_in+=d,u.total_in+=d,d),e.lookahead+=r,e.lookahead+e.insert>=x)for(h=e.strstart-e.insert,e.ins_h=e.window[h],e.ins_h=(e.ins_h<<e.hash_shift^e.window[h+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[h+x-1])&e.hash_mask,e.prev[h&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=h,h++,e.insert--,!(e.lookahead+e.insert<x)););}while(e.lookahead<z&&0!==e.strm.avail_in)}function Z(e,t){for(var r,n;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===u)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r)),e.match_length>=x)if(n=s._tr_tally(e,e.strstart-e.match_start,e.match_length-x),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=x){for(e.match_length--;e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart,0!=--e.match_length;);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=e.strstart<x-1?e.strstart:x-1,t===l?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function W(e,t){for(var r,n,i;;){if(e.lookahead<z){if(j(e),e.lookahead<z&&t===u)return A;if(0===e.lookahead)break}if(r=0,e.lookahead>=x&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=x-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-z&&(e.match_length=L(e,r),e.match_length<=5&&(1===e.strategy||e.match_length===x&&4096<e.strstart-e.match_start)&&(e.match_length=x-1)),e.prev_length>=x&&e.match_length<=e.prev_length){for(i=e.strstart+e.lookahead-x,n=s._tr_tally(e,e.strstart-1-e.prev_match,e.prev_length-x),e.lookahead-=e.prev_length-1,e.prev_length-=2;++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+x-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!=--e.prev_length;);if(e.match_available=0,e.match_length=x-1,e.strstart++,n&&(N(e,!1),0===e.strm.avail_out))return A}else if(e.match_available){if((n=s._tr_tally(e,0,e.window[e.strstart-1]))&&N(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return A}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=s._tr_tally(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<x-1?e.strstart:x-1,t===l?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}function M(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}function H(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new i.Buf16(2*w),this.dyn_dtree=new i.Buf16(2*(2*v+1)),this.bl_tree=new i.Buf16(2*(2*y+1)),D(this.dyn_ltree),D(this.dyn_dtree),D(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new i.Buf16(k+1),this.heap=new i.Buf16(2*b+1),D(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new i.Buf16(2*b+1),D(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function G(e){var t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=m,(t=e.state).pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?C:E,e.adler=2===t.wrap?0:1,t.last_flush=u,s._tr_init(t),f):R(e,c)}function K(e){var t=G(e);return t===f&&function(e){e.window_size=2*e.w_size,D(e.head),e.max_lazy_match=n[e.level].max_lazy,e.good_match=n[e.level].good_length,e.nice_match=n[e.level].nice_length,e.max_chain_length=n[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=x-1,e.match_available=0,e.ins_h=0}(e.state),t}function Y(e,t,r,n,s,a){if(!e)return c;var o=1;if(t===d&&(t=6),n<0?(o=0,n=-n):15<n&&(o=2,n-=16),s<1||g<s||r!==_||n<8||15<n||t<0||9<t||a<0||p<a)return R(e,c);8===n&&(n=9);var h=new H;return(e.state=h).strm=e,h.wrap=o,h.gzhead=null,h.w_bits=n,h.w_size=1<<h.w_bits,h.w_mask=h.w_size-1,h.hash_bits=s+7,h.hash_size=1<<h.hash_bits,h.hash_mask=h.hash_size-1,h.hash_shift=~~((h.hash_bits+x-1)/x),h.window=new i.Buf8(2*h.w_size),h.head=new i.Buf16(h.hash_size),h.prev=new i.Buf16(h.w_size),h.lit_bufsize=1<<s+6,h.pending_buf_size=4*h.lit_bufsize,h.pending_buf=new i.Buf8(h.pending_buf_size),h.d_buf=1*h.lit_bufsize,h.l_buf=3*h.lit_bufsize,h.level=t,h.strategy=a,h.method=r,K(e)}n=[new M(0,0,0,0,function(e,t){var r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(j(e),0===e.lookahead&&t===u)return A;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;var n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,N(e,!1),0===e.strm.avail_out))return A;if(e.strstart-e.block_start>=e.w_size-z&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===l?(N(e,!0),0===e.strm.avail_out?O:B):(e.strstart>e.block_start&&(N(e,!1),e.strm.avail_out),A)}),new M(4,4,8,4,Z),new M(4,5,16,8,Z),new M(4,6,32,32,Z),new M(4,4,16,16,W),new M(8,16,32,32,W),new M(8,16,128,128,W),new M(8,32,128,256,W),new M(32,128,258,1024,W),new M(32,258,258,4096,W)],r.deflateInit=function(e,t){return Y(e,t,_,15,8,0)},r.deflateInit2=Y,r.deflateReset=K,r.deflateResetKeep=G,r.deflateSetHeader=function(e,t){return e&&e.state?2!==e.state.wrap?c:(e.state.gzhead=t,f):c},r.deflate=function(e,t){var r,i,a,h;if(!e||!e.state||5<t||t<0)return e?R(e,c):c;if(i=e.state,!e.output||!e.input&&0!==e.avail_in||666===i.status&&t!==l)return R(e,0===e.avail_out?-5:c);if(i.strm=e,r=i.last_flush,i.last_flush=t,i.status===C)if(2===i.wrap)e.adler=0,U(i,31),U(i,139),U(i,8),i.gzhead?(U(i,(i.gzhead.text?1:0)+(i.gzhead.hcrc?2:0)+(i.gzhead.extra?4:0)+(i.gzhead.name?8:0)+(i.gzhead.comment?16:0)),U(i,255&i.gzhead.time),U(i,i.gzhead.time>>8&255),U(i,i.gzhead.time>>16&255),U(i,i.gzhead.time>>24&255),U(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),U(i,255&i.gzhead.os),i.gzhead.extra&&i.gzhead.extra.length&&(U(i,255&i.gzhead.extra.length),U(i,i.gzhead.extra.length>>8&255)),i.gzhead.hcrc&&(e.adler=o(e.adler,i.pending_buf,i.pending,0)),i.gzindex=0,i.status=69):(U(i,0),U(i,0),U(i,0),U(i,0),U(i,0),U(i,9===i.level?2:2<=i.strategy||i.level<2?4:0),U(i,3),i.status=E);else{var d=_+(i.w_bits-8<<4)<<8;d|=(2<=i.strategy||i.level<2?0:i.level<6?1:6===i.level?2:3)<<6,0!==i.strstart&&(d|=32),d+=31-d%31,i.status=E,P(i,d),0!==i.strstart&&(P(i,e.adler>>>16),P(i,65535&e.adler)),e.adler=1}if(69===i.status)if(i.gzhead.extra){for(a=i.pending;i.gzindex<(65535&i.gzhead.extra.length)&&(i.pending!==i.pending_buf_size||(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),F(e),a=i.pending,i.pending!==i.pending_buf_size));)U(i,255&i.gzhead.extra[i.gzindex]),i.gzindex++;i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),i.gzindex===i.gzhead.extra.length&&(i.gzindex=0,i.status=73)}else i.status=73;if(73===i.status)if(i.gzhead.name){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),F(e),a=i.pending,i.pending===i.pending_buf_size)){h=1;break}h=i.gzindex<i.gzhead.name.length?255&i.gzhead.name.charCodeAt(i.gzindex++):0,U(i,h)}while(0!==h);i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),0===h&&(i.gzindex=0,i.status=91)}else i.status=91;if(91===i.status)if(i.gzhead.comment){a=i.pending;do{if(i.pending===i.pending_buf_size&&(i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),F(e),a=i.pending,i.pending===i.pending_buf_size)){h=1;break}h=i.gzindex<i.gzhead.comment.length?255&i.gzhead.comment.charCodeAt(i.gzindex++):0,U(i,h)}while(0!==h);i.gzhead.hcrc&&i.pending>a&&(e.adler=o(e.adler,i.pending_buf,i.pending-a,a)),0===h&&(i.status=103)}else i.status=103;if(103===i.status&&(i.gzhead.hcrc?(i.pending+2>i.pending_buf_size&&F(e),i.pending+2<=i.pending_buf_size&&(U(i,255&e.adler),U(i,e.adler>>8&255),e.adler=0,i.status=E)):i.status=E),0!==i.pending){if(F(e),0===e.avail_out)return i.last_flush=-1,f}else if(0===e.avail_in&&T(t)<=T(r)&&t!==l)return R(e,-5);if(666===i.status&&0!==e.avail_in)return R(e,-5);if(0!==e.avail_in||0!==i.lookahead||t!==u&&666!==i.status){var p=2===i.strategy?function(e,t){for(var r;;){if(0===e.lookahead&&(j(e),0===e.lookahead)){if(t===u)return A;break}if(e.match_length=0,r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===l?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(i,t):3===i.strategy?function(e,t){for(var r,n,i,a,o=e.window;;){if(e.lookahead<=S){if(j(e),e.lookahead<=S&&t===u)return A;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=x&&0<e.strstart&&(n=o[i=e.strstart-1])===o[++i]&&n===o[++i]&&n===o[++i]){a=e.strstart+S;do{}while(n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&n===o[++i]&&i<a);e.match_length=S-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=x?(r=s._tr_tally(e,1,e.match_length-x),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=s._tr_tally(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(N(e,!1),0===e.strm.avail_out))return A}return e.insert=0,t===l?(N(e,!0),0===e.strm.avail_out?O:B):e.last_lit&&(N(e,!1),0===e.strm.avail_out)?A:I}(i,t):n[i.level].func(i,t);if(p!==O&&p!==B||(i.status=666),p===A||p===O)return 0===e.avail_out&&(i.last_flush=-1),f;if(p===I&&(1===t?s._tr_align(i):5!==t&&(s._tr_stored_block(i,0,0,!1),3===t&&(D(i.head),0===i.lookahead&&(i.strstart=0,i.block_start=0,i.insert=0))),F(e),0===e.avail_out))return i.last_flush=-1,f}return t!==l?f:i.wrap<=0?1:(2===i.wrap?(U(i,255&e.adler),U(i,e.adler>>8&255),U(i,e.adler>>16&255),U(i,e.adler>>24&255),U(i,255&e.total_in),U(i,e.total_in>>8&255),U(i,e.total_in>>16&255),U(i,e.total_in>>24&255)):(P(i,e.adler>>>16),P(i,65535&e.adler)),F(e),0<i.wrap&&(i.wrap=-i.wrap),0!==i.pending?f:1)},r.deflateEnd=function(e){var t;return e&&e.state?(t=e.state.status)!==C&&69!==t&&73!==t&&91!==t&&103!==t&&t!==E&&666!==t?R(e,c):(e.state=null,t===E?R(e,-3):f):c},r.deflateSetDictionary=function(e,t){var r,n,s,o,h,u,l,d,p=t.length;if(!e||!e.state)return c;if(2===(o=(r=e.state).wrap)||1===o&&r.status!==C||r.lookahead)return c;for(1===o&&(e.adler=a(e.adler,t,p,0)),r.wrap=0,p>=r.w_size&&(0===o&&(D(r.head),r.strstart=0,r.block_start=0,r.insert=0),d=new i.Buf8(r.w_size),i.arraySet(d,t,p-r.w_size,r.w_size,0),t=d,p=r.w_size),h=e.avail_in,u=e.next_in,l=e.input,e.avail_in=p,e.next_in=0,e.input=t,j(r);r.lookahead>=x;){for(n=r.strstart,s=r.lookahead-(x-1);r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+x-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++,--s;);r.strstart=n,r.lookahead=x-1,j(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=x-1,r.match_available=0,e.next_in=u,e.input=l,e.avail_in=h,r.wrap=o,f},r.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(e,t,r){"use strict";t.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(e,t,r){"use strict";t.exports=function(e,t){var r,n,i,s,a,o,h,u,l,f,c,d,p,m,_,g,b,v,y,w,k,x,S,z,C;r=e.state,n=e.next_in,z=e.input,i=n+(e.avail_in-5),s=e.next_out,C=e.output,a=s-(t-e.avail_out),o=s+(e.avail_out-257),h=r.dmax,u=r.wsize,l=r.whave,f=r.wnext,c=r.window,d=r.hold,p=r.bits,m=r.lencode,_=r.distcode,g=(1<<r.lenbits)-1,b=(1<<r.distbits)-1;e:do{p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=m[d&g];t:for(;;){if(d>>>=y=v>>>24,p-=y,0===(y=v>>>16&255))C[s++]=65535&v;else{if(!(16&y)){if(0==(64&y)){v=m[(65535&v)+(d&(1<<y)-1)];continue t}if(32&y){r.mode=12;break e}e.msg="invalid literal/length code",r.mode=30;break e}w=65535&v,(y&=15)&&(p<y&&(d+=z[n++]<<p,p+=8),w+=d&(1<<y)-1,d>>>=y,p-=y),p<15&&(d+=z[n++]<<p,p+=8,d+=z[n++]<<p,p+=8),v=_[d&b];r:for(;;){if(d>>>=y=v>>>24,p-=y,!(16&(y=v>>>16&255))){if(0==(64&y)){v=_[(65535&v)+(d&(1<<y)-1)];continue r}e.msg="invalid distance code",r.mode=30;break e}if(k=65535&v,p<(y&=15)&&(d+=z[n++]<<p,(p+=8)<y&&(d+=z[n++]<<p,p+=8)),h<(k+=d&(1<<y)-1)){e.msg="invalid distance too far back",r.mode=30;break e}if(d>>>=y,p-=y,(y=s-a)<k){if(l<(y=k-y)&&r.sane){e.msg="invalid distance too far back",r.mode=30;break e}if(S=c,(x=0)===f){if(x+=u-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}}else if(f<y){if(x+=u+f-y,(y-=f)<w){for(w-=y;C[s++]=c[x++],--y;);if(x=0,f<w){for(w-=y=f;C[s++]=c[x++],--y;);x=s-k,S=C}}}else if(x+=f-y,y<w){for(w-=y;C[s++]=c[x++],--y;);x=s-k,S=C}for(;2<w;)C[s++]=S[x++],C[s++]=S[x++],C[s++]=S[x++],w-=3;w&&(C[s++]=S[x++],1<w&&(C[s++]=S[x++]))}else{for(x=s-k;C[s++]=C[x++],C[s++]=C[x++],C[s++]=C[x++],2<(w-=3););w&&(C[s++]=C[x++],1<w&&(C[s++]=C[x++]))}break}}break}}while(n<i&&s<o);n-=w=p>>3,d&=(1<<(p-=w<<3))-1,e.next_in=n,e.next_out=s,e.avail_in=n<i?i-n+5:5-(n-i),e.avail_out=s<o?o-s+257:257-(s-o),r.hold=d,r.bits=p}},{}],49:[function(e,t,r){"use strict";var n=e("../utils/common"),i=e("./adler32"),s=e("./crc32"),a=e("./inffast"),o=e("./inftrees"),h=1,u=2,l=0,f=-2,c=1,d=852,p=592;function m(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new n.Buf16(320),this.work=new n.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function g(e){var t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=c,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new n.Buf32(d),t.distcode=t.distdyn=new n.Buf32(p),t.sane=1,t.back=-1,l):f}function b(e){var t;return e&&e.state?((t=e.state).wsize=0,t.whave=0,t.wnext=0,g(e)):f}function v(e,t){var r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||15<t)?f:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,b(e))):f}function y(e,t){var r,n;return e?(n=new _,(e.state=n).window=null,(r=v(e,t))!==l&&(e.state=null),r):f}var w,k,x=!0;function S(e){if(x){var t;for(w=new n.Buf32(512),k=new n.Buf32(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(o(h,e.lens,0,288,w,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;o(u,e.lens,0,32,k,0,e.work,{bits:5}),x=!1}e.lencode=w,e.lenbits=9,e.distcode=k,e.distbits=5}function z(e,t,r,i){var s,a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new n.Buf8(a.wsize)),i>=a.wsize?(n.arraySet(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i<(s=a.wsize-a.wnext)&&(s=i),n.arraySet(a.window,t,r-i,s,a.wnext),(i-=s)?(n.arraySet(a.window,t,r-i,i,0),a.wnext=i,a.whave=a.wsize):(a.wnext+=s,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=s))),0}r.inflateReset=b,r.inflateReset2=v,r.inflateResetKeep=g,r.inflateInit=function(e){return y(e,15)},r.inflateInit2=y,r.inflate=function(e,t){var r,d,p,_,g,b,v,y,w,k,x,C,E,A,I,O,B,R,T,D,F,N,U,P,L=0,j=new n.Buf8(4),Z=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return f;12===(r=e.state).mode&&(r.mode=13),g=e.next_out,p=e.output,v=e.avail_out,_=e.next_in,d=e.input,b=e.avail_in,y=r.hold,w=r.bits,k=b,x=v,N=l;e:for(;;)switch(r.mode){case c:if(0===r.wrap){r.mode=13;break}for(;w<16;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}if(2&r.wrap&&35615===y){j[r.check=0]=255&y,j[1]=y>>>8&255,r.check=s(r.check,j,2,0),w=y=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&y)<<8)+(y>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&y)){e.msg="unknown compression method",r.mode=30;break}if(w-=4,F=8+(15&(y>>>=4)),0===r.wbits)r.wbits=F;else if(F>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<F,e.adler=r.check=1,r.mode=512&y?10:12,w=y=0;break;case 2:for(;w<16;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}if(r.flags=y,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=y>>8&1),512&r.flags&&(j[0]=255&y,j[1]=y>>>8&255,r.check=s(r.check,j,2,0)),w=y=0,r.mode=3;case 3:for(;w<32;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}r.head&&(r.head.time=y),512&r.flags&&(j[0]=255&y,j[1]=y>>>8&255,j[2]=y>>>16&255,j[3]=y>>>24&255,r.check=s(r.check,j,4,0)),w=y=0,r.mode=4;case 4:for(;w<16;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}r.head&&(r.head.xflags=255&y,r.head.os=y>>8),512&r.flags&&(j[0]=255&y,j[1]=y>>>8&255,r.check=s(r.check,j,2,0)),w=y=0,r.mode=5;case 5:if(1024&r.flags){for(;w<16;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}r.length=y,r.head&&(r.head.extra_len=y),512&r.flags&&(j[0]=255&y,j[1]=y>>>8&255,r.check=s(r.check,j,2,0)),w=y=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(b<(C=r.length)&&(C=b),C&&(r.head&&(F=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),n.arraySet(r.head.extra,d,_,C,F)),512&r.flags&&(r.check=s(r.check,d,C,_)),b-=C,_+=C,r.length-=C),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===b)break e;for(C=0;F=d[_+C++],r.head&&F&&r.length<65536&&(r.head.name+=String.fromCharCode(F)),F&&C<b;);if(512&r.flags&&(r.check=s(r.check,d,C,_)),b-=C,_+=C,F)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===b)break e;for(C=0;F=d[_+C++],r.head&&F&&r.length<65536&&(r.head.comment+=String.fromCharCode(F)),F&&C<b;);if(512&r.flags&&(r.check=s(r.check,d,C,_)),b-=C,_+=C,F)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;w<16;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}if(y!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}w=y=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;w<32;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}e.adler=r.check=m(y),w=y=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=g,e.avail_out=v,e.next_in=_,e.avail_in=b,r.hold=y,r.bits=w,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){y>>>=7&w,w-=7&w,r.mode=27;break}for(;w<3;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}switch(r.last=1&y,w-=1,3&(y>>>=1)){case 0:r.mode=14;break;case 1:if(S(r),r.mode=20,6!==t)break;y>>>=2,w-=2;break e;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}y>>>=2,w-=2;break;case 14:for(y>>>=7&w,w-=7&w;w<32;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}if((65535&y)!=(y>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&y,w=y=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(C=r.length){if(b<C&&(C=b),v<C&&(C=v),0===C)break e;n.arraySet(p,d,_,C,g),b-=C,_+=C,v-=C,g+=C,r.length-=C;break}r.mode=12;break;case 17:for(;w<14;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}if(r.nlen=257+(31&y),y>>>=5,w-=5,r.ndist=1+(31&y),y>>>=5,w-=5,r.ncode=4+(15&y),y>>>=4,w-=4,286<r.nlen||30<r.ndist){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;w<3;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}r.lens[Z[r.have++]]=7&y,y>>>=3,w-=3}for(;r.have<19;)r.lens[Z[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,U={bits:r.lenbits},N=o(0,r.lens,0,19,r.lencode,0,r.work,U),r.lenbits=U.bits,N){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;O=(L=r.lencode[y&(1<<r.lenbits)-1])>>>16&255,B=65535&L,!((I=L>>>24)<=w);){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}if(B<16)y>>>=I,w-=I,r.lens[r.have++]=B;else{if(16===B){for(P=I+2;w<P;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}if(y>>>=I,w-=I,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}F=r.lens[r.have-1],C=3+(3&y),y>>>=2,w-=2}else if(17===B){for(P=I+3;w<P;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}w-=I,F=0,C=3+(7&(y>>>=I)),y>>>=3,w-=3}else{for(P=I+7;w<P;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}w-=I,F=0,C=11+(127&(y>>>=I)),y>>>=7,w-=7}if(r.have+C>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;C--;)r.lens[r.have++]=F}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,U={bits:r.lenbits},N=o(h,r.lens,0,r.nlen,r.lencode,0,r.work,U),r.lenbits=U.bits,N){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,U={bits:r.distbits},N=o(u,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,U),r.distbits=U.bits,N){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(6<=b&&258<=v){e.next_out=g,e.avail_out=v,e.next_in=_,e.avail_in=b,r.hold=y,r.bits=w,a(e,x),g=e.next_out,p=e.output,v=e.avail_out,_=e.next_in,d=e.input,b=e.avail_in,y=r.hold,w=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;O=(L=r.lencode[y&(1<<r.lenbits)-1])>>>16&255,B=65535&L,!((I=L>>>24)<=w);){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}if(O&&0==(240&O)){for(R=I,T=O,D=B;O=(L=r.lencode[D+((y&(1<<R+T)-1)>>R)])>>>16&255,B=65535&L,!(R+(I=L>>>24)<=w);){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}y>>>=R,w-=R,r.back+=R}if(y>>>=I,w-=I,r.back+=I,r.length=B,0===O){r.mode=26;break}if(32&O){r.back=-1,r.mode=12;break}if(64&O){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&O,r.mode=22;case 22:if(r.extra){for(P=r.extra;w<P;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}r.length+=y&(1<<r.extra)-1,y>>>=r.extra,w-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;O=(L=r.distcode[y&(1<<r.distbits)-1])>>>16&255,B=65535&L,!((I=L>>>24)<=w);){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}if(0==(240&O)){for(R=I,T=O,D=B;O=(L=r.distcode[D+((y&(1<<R+T)-1)>>R)])>>>16&255,B=65535&L,!(R+(I=L>>>24)<=w);){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}y>>>=R,w-=R,r.back+=R}if(y>>>=I,w-=I,r.back+=I,64&O){e.msg="invalid distance code",r.mode=30;break}r.offset=B,r.extra=15&O,r.mode=24;case 24:if(r.extra){for(P=r.extra;w<P;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}r.offset+=y&(1<<r.extra)-1,y>>>=r.extra,w-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===v)break e;if(C=x-v,r.offset>C){if((C=r.offset-C)>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}E=C>r.wnext?(C-=r.wnext,r.wsize-C):r.wnext-C,C>r.length&&(C=r.length),A=r.window}else A=p,E=g-r.offset,C=r.length;for(v<C&&(C=v),v-=C,r.length-=C;p[g++]=A[E++],--C;);0===r.length&&(r.mode=21);break;case 26:if(0===v)break e;p[g++]=r.length,v--,r.mode=21;break;case 27:if(r.wrap){for(;w<32;){if(0===b)break e;b--,y|=d[_++]<<w,w+=8}if(x-=v,e.total_out+=x,r.total+=x,x&&(e.adler=r.check=r.flags?s(r.check,p,x,g-x):i(r.check,p,x,g-x)),x=v,(r.flags?y:m(y))!==r.check){e.msg="incorrect data check",r.mode=30;break}w=y=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;w<32;){if(0===b)break e;b--,y+=d[_++]<<w,w+=8}if(y!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}w=y=0}r.mode=29;case 29:N=1;break e;case 30:N=-3;break e;case 31:return-4;case 32:default:return f}return e.next_out=g,e.avail_out=v,e.next_in=_,e.avail_in=b,r.hold=y,r.bits=w,(r.wsize||x!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&z(e,e.output,e.next_out,x-e.avail_out)?(r.mode=31,-4):(k-=e.avail_in,x-=e.avail_out,e.total_in+=k,e.total_out+=x,r.total+=x,r.wrap&&x&&(e.adler=r.check=r.flags?s(r.check,p,x,e.next_out-x):i(r.check,p,x,e.next_out-x)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0==k&&0===x||4===t)&&N===l&&(N=-5),N)},r.inflateEnd=function(e){if(!e||!e.state)return f;var t=e.state;return t.window&&(t.window=null),e.state=null,l},r.inflateGetHeader=function(e,t){var r;return e&&e.state?0==(2&(r=e.state).wrap)?f:((r.head=t).done=!1,l):f},r.inflateSetDictionary=function(e,t){var r,n=t.length;return e&&e.state?0!==(r=e.state).wrap&&11!==r.mode?f:11===r.mode&&i(1,t,n,0)!==r.check?-3:z(e,t,n,n)?(r.mode=31,-4):(r.havedict=1,l):f},r.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(e,t,r){"use strict";var n=e("../utils/common"),i=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],s=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],a=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];t.exports=function(e,t,r,h,u,l,f,c){var d,p,m,_,g,b,v,y,w,k=c.bits,x=0,S=0,z=0,C=0,E=0,A=0,I=0,O=0,B=0,R=0,T=null,D=0,F=new n.Buf16(16),N=new n.Buf16(16),U=null,P=0;for(x=0;x<=15;x++)F[x]=0;for(S=0;S<h;S++)F[t[r+S]]++;for(E=k,C=15;1<=C&&0===F[C];C--);if(C<E&&(E=C),0===C)return u[l++]=20971520,u[l++]=20971520,c.bits=1,0;for(z=1;z<C&&0===F[z];z++);for(E<z&&(E=z),x=O=1;x<=15;x++)if(O<<=1,(O-=F[x])<0)return-1;if(0<O&&(0===e||1!==C))return-1;for(N[1]=0,x=1;x<15;x++)N[x+1]=N[x]+F[x];for(S=0;S<h;S++)0!==t[r+S]&&(f[N[t[r+S]]++]=S);if(b=0===e?(T=U=f,19):1===e?(T=i,D-=257,U=s,P-=257,256):(T=a,U=o,-1),x=z,g=l,I=S=R=0,m=-1,_=(B=1<<(A=E))-1,1===e&&852<B||2===e&&592<B)return 1;for(;;){for(v=x-I,w=f[S]<b?(y=0,f[S]):f[S]>b?(y=U[P+f[S]],T[D+f[S]]):(y=96,0),d=1<<x-I,z=p=1<<A;u[g+(R>>I)+(p-=d)]=v<<24|y<<16|w|0,0!==p;);for(d=1<<x-1;R&d;)d>>=1;if(0!==d?(R&=d-1,R+=d):R=0,S++,0==--F[x]){if(x===C)break;x=t[r+f[S]]}if(E<x&&(R&_)!==m){for(0===I&&(I=E),g+=z,O=1<<(A=x-I);A+I<C&&!((O-=F[A+I])<=0);)A++,O<<=1;if(B+=1<<A,1===e&&852<B||2===e&&592<B)return 1;u[m=R&_]=E<<24|A<<16|g-l|0}}return 0!==R&&(u[g+R]=x-I<<24|64<<16|0),c.bits=E,0}},{"../utils/common":41}],51:[function(e,t,r){"use strict";t.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(e,t,r){"use strict";var n=e("../utils/common"),i=0,s=1;function a(e){for(var t=e.length;0<=--t;)e[t]=0}var o=0,h=29,u=256,l=u+1+h,f=30,c=19,d=2*l+1,p=15,m=16,_=7,g=256,b=16,v=17,y=18,w=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],k=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],x=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],S=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(l+2));a(z);var C=new Array(2*f);a(C);var E=new Array(512);a(E);var A=new Array(256);a(A);var I=new Array(h);a(I);var O,B,R,T=new Array(f);function D(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}function F(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function N(e){return e<256?E[e]:E[256+(e>>>7)]}function U(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function P(e,t,r){e.bi_valid>m-r?(e.bi_buf|=t<<e.bi_valid&65535,U(e,e.bi_buf),e.bi_buf=t>>m-e.bi_valid,e.bi_valid+=r-m):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function L(e,t,r){P(e,r[2*t],r[2*t+1])}function j(e,t){for(var r=0;r|=1&e,e>>>=1,r<<=1,0<--t;);return r>>>1}function Z(e,t,r){var n,i,s=new Array(p+1),a=0;for(n=1;n<=p;n++)s[n]=a=a+r[n-1]<<1;for(i=0;i<=t;i++){var o=e[2*i+1];0!==o&&(e[2*i]=j(s[o]++,o))}}function W(e){var t;for(t=0;t<l;t++)e.dyn_ltree[2*t]=0;for(t=0;t<f;t++)e.dyn_dtree[2*t]=0;for(t=0;t<c;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*g]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function M(e){8<e.bi_valid?U(e,e.bi_buf):0<e.bi_valid&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function H(e,t,r,n){var i=2*t,s=2*r;return e[i]<e[s]||e[i]===e[s]&&n[t]<=n[r]}function G(e,t,r){for(var n=e.heap[r],i=r<<1;i<=e.heap_len&&(i<e.heap_len&&H(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!H(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function K(e,t,r){var n,i,s,a,o=0;if(0!==e.last_lit)for(;n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?L(e,i,t):(L(e,(s=A[i])+u+1,t),0!==(a=w[s])&&P(e,i-=I[s],a),L(e,s=N(--n),r),0!==(a=k[s])&&P(e,n-=T[s],a)),o<e.last_lit;);L(e,g,t)}function Y(e,t){var r,n,i,s=t.dyn_tree,a=t.stat_desc.static_tree,o=t.stat_desc.has_stree,h=t.stat_desc.elems,u=-1;for(e.heap_len=0,e.heap_max=d,r=0;r<h;r++)0!==s[2*r]?(e.heap[++e.heap_len]=u=r,e.depth[r]=0):s[2*r+1]=0;for(;e.heap_len<2;)s[2*(i=e.heap[++e.heap_len]=u<2?++u:0)]=1,e.depth[i]=0,e.opt_len--,o&&(e.static_len-=a[2*i+1]);for(t.max_code=u,r=e.heap_len>>1;1<=r;r--)G(e,s,r);for(i=h;r=e.heap[1],e.heap[1]=e.heap[e.heap_len--],G(e,s,1),n=e.heap[1],e.heap[--e.heap_max]=r,e.heap[--e.heap_max]=n,s[2*i]=s[2*r]+s[2*n],e.depth[i]=(e.depth[r]>=e.depth[n]?e.depth[r]:e.depth[n])+1,s[2*r+1]=s[2*n+1]=i,e.heap[1]=i++,G(e,s,1),2<=e.heap_len;);e.heap[--e.heap_max]=e.heap[1],function(e,t){var r,n,i,s,a,o,h=t.dyn_tree,u=t.max_code,l=t.stat_desc.static_tree,f=t.stat_desc.has_stree,c=t.stat_desc.extra_bits,m=t.stat_desc.extra_base,_=t.stat_desc.max_length,g=0;for(s=0;s<=p;s++)e.bl_count[s]=0;for(h[2*e.heap[e.heap_max]+1]=0,r=e.heap_max+1;r<d;r++)_<(s=h[2*h[2*(n=e.heap[r])+1]+1]+1)&&(s=_,g++),h[2*n+1]=s,u<n||(e.bl_count[s]++,a=0,m<=n&&(a=c[n-m]),o=h[2*n],e.opt_len+=o*(s+a),f&&(e.static_len+=o*(l[2*n+1]+a)));if(0!==g){do{for(s=_-1;0===e.bl_count[s];)s--;e.bl_count[s]--,e.bl_count[s+1]+=2,e.bl_count[_]--,g-=2}while(0<g);for(s=_;0!==s;s--)for(n=e.bl_count[s];0!==n;)u<(i=e.heap[--r])||(h[2*i+1]!==s&&(e.opt_len+=(s-h[2*i+1])*h[2*i],h[2*i+1]=s),n--)}}(e,t),Z(s,u,e.bl_count)}function X(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=a,a=t[2*(n+1)+1],++o<h&&i===a||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==s&&e.bl_tree[2*i]++,e.bl_tree[2*b]++):o<=10?e.bl_tree[2*v]++:e.bl_tree[2*y]++,s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4))}function V(e,t,r){var n,i,s=-1,a=t[1],o=0,h=7,u=4;for(0===a&&(h=138,u=3),n=0;n<=r;n++)if(i=a,a=t[2*(n+1)+1],!(++o<h&&i===a)){if(o<u)for(;L(e,i,e.bl_tree),0!=--o;);else 0!==i?(i!==s&&(L(e,i,e.bl_tree),o--),L(e,b,e.bl_tree),P(e,o-3,2)):o<=10?(L(e,v,e.bl_tree),P(e,o-3,3)):(L(e,y,e.bl_tree),P(e,o-11,7));s=i,u=(o=0)===a?(h=138,3):i===a?(h=6,3):(h=7,4)}}a(T);var q=!1;function J(e,t,r,i){P(e,(o<<1)+(i?1:0),3),function(e,t,r,i){M(e),i&&(U(e,r),U(e,~r)),n.arraySet(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}r._tr_init=function(e){q||(function(){var e,t,r,n,i,s=new Array(p+1);for(n=r=0;n<h-1;n++)for(I[n]=r,e=0;e<1<<w[n];e++)A[r++]=n;for(A[r-1]=n,n=i=0;n<16;n++)for(T[n]=i,e=0;e<1<<k[n];e++)E[i++]=n;for(i>>=7;n<f;n++)for(T[n]=i<<7,e=0;e<1<<k[n]-7;e++)E[256+i++]=n;for(t=0;t<=p;t++)s[t]=0;for(e=0;e<=143;)z[2*e+1]=8,e++,s[8]++;for(;e<=255;)z[2*e+1]=9,e++,s[9]++;for(;e<=279;)z[2*e+1]=7,e++,s[7]++;for(;e<=287;)z[2*e+1]=8,e++,s[8]++;for(Z(z,l+1,s),e=0;e<f;e++)C[2*e+1]=5,C[2*e]=j(e,5);O=new D(z,w,u+1,l,p),B=new D(C,k,0,f,p),R=new D(new Array(0),x,0,c,_)}(),q=!0),e.l_desc=new F(e.dyn_ltree,O),e.d_desc=new F(e.dyn_dtree,B),e.bl_desc=new F(e.bl_tree,R),e.bi_buf=0,e.bi_valid=0,W(e)},r._tr_stored_block=J,r._tr_flush_block=function(e,t,r,n){var a,o,h=0;0<e.level?(2===e.strm.data_type&&(e.strm.data_type=function(e){var t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return i;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return s;for(t=32;t<u;t++)if(0!==e.dyn_ltree[2*t])return s;return i}(e)),Y(e,e.l_desc),Y(e,e.d_desc),h=function(e){var t;for(X(e,e.dyn_ltree,e.l_desc.max_code),X(e,e.dyn_dtree,e.d_desc.max_code),Y(e,e.bl_desc),t=c-1;3<=t&&0===e.bl_tree[2*S[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),a=e.opt_len+3+7>>>3,(o=e.static_len+3+7>>>3)<=a&&(a=o)):a=o=r+5,r+4<=a&&-1!==t?J(e,t,r,n):4===e.strategy||o===a?(P(e,2+(n?1:0),3),K(e,z,C)):(P(e,4+(n?1:0),3),function(e,t,r,n){var i;for(P(e,t-257,5),P(e,r-1,5),P(e,n-4,4),i=0;i<n;i++)P(e,e.bl_tree[2*S[i]+1],3);V(e,e.dyn_ltree,t-1),V(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,h+1),K(e,e.dyn_ltree,e.dyn_dtree)),W(e),n&&M(e)},r._tr_tally=function(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(A[r]+u+1)]++,e.dyn_dtree[2*N(t)]++),e.last_lit===e.lit_bufsize-1},r._tr_align=function(e){P(e,2,3),L(e,g,z),function(e){16===e.bi_valid?(U(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):8<=e.bi_valid&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}},{"../utils/common":41}],53:[function(e,t,r){"use strict";t.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(e,t,r){(function(e){!function(e,t){"use strict";if(!e.setImmediate){var r,n,i,s,a=1,o={},h=!1,u=e.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(e);l=l&&l.setTimeout?l:e,r="[object process]"==={}.toString.call(e.process)?function(e){process.nextTick(function(){c(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,r=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=r,t}}()?(s="setImmediate$"+Math.random()+"$",e.addEventListener?e.addEventListener("message",d,!1):e.attachEvent("onmessage",d),function(t){e.postMessage(s+t,"*")}):e.MessageChannel?((i=new MessageChannel).port1.onmessage=function(e){c(e.data)},function(e){i.port2.postMessage(e)}):u&&"onreadystatechange"in u.createElement("script")?(n=u.documentElement,function(e){var t=u.createElement("script");t.onreadystatechange=function(){c(e),t.onreadystatechange=null,n.removeChild(t),t=null},n.appendChild(t)}):function(e){setTimeout(c,0,e)},l.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var i={callback:e,args:t};return o[a]=i,r(a),a++},l.clearImmediate=f}function f(e){delete o[e]}function c(e){if(h)setTimeout(c,0,e);else{var r=o[e];if(r){h=!0;try{!function(e){var r=e.callback,n=e.args;switch(n.length){case 0:r();break;case 1:r(n[0]);break;case 2:r(n[0],n[1]);break;case 3:r(n[0],n[1],n[2]);break;default:r.apply(t,n)}}(r)}finally{f(e),h=!1}}}}function d(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(s)&&c(+t.data.slice(s.length))}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[10])(10)});
},
	"astrobear/abaplorer/manifest.json":'{"_version":"1.59.0","sap.app":{"id":"astrobear.abaplorer","type":"application","applicationVersion":{"version":"1.0.1"},"title":"ABAPlorer","description":"ABAP Explorer","resources":"resources.json","sourceTemplate":{"id":"@sap/generator-fiori:basic","version":"1.12.3","toolsId":"16ea46e9-2dbe-45dd-80d6-5a1d3da4ec7e"}},"sap.ui":{"technology":"UI5","icons":{"icon":"","favIcon":"","phone":"","phone@2":"","tablet":"","tablet@2":""},"deviceTypes":{"desktop":true,"tablet":true,"phone":true}},"sap.ui5":{"flexEnabled":false,"dependencies":{"minUI5Version":"1.120.6","libs":{"sap.m":{},"sap.ui.core":{},"sap.f":{},"sap.suite.ui.generic.template":{},"sap.ui.comp":{},"sap.ui.generic.app":{},"sap.ui.table":{},"sap.ushell":{},"sap.tnt":{}}},"contentDensities":{"compact":true,"cozy":true},"models":{},"resources":{"css":[]},"config":{"sample":{"files":["view/Tools.view.xml","controller/Tools.controller.js","css/style.css","manifest.json"]}},"appPages":[{"viewName":"astrobear.abaplorer.view.SQLConsole","title":"SQL Console","icon":"sap-icon://table-view"},{"viewName":"astrobear.abaplorer.view.BWDisplayIOBJ","title":"Display IOBJ","icon":"sap-icon://program-triangles"},{"viewName":"astrobear.abaplorer.view.LisasTest","title":"Lisas Test","icon":"sap-icon://activities"}],"rootView":{"viewName":"astrobear.abaplorer.view.Main","type":"XML","async":true,"id":"Main"}}}',
	"astrobear/abaplorer/model/ADTAdapter.js":function(){
sap.ui.define(["astrobear/abaplorer/util/SoapRfcAdapter","astrobear/abaplorer/util/Logger"],function(e,t){"use strict";const r=t.getLogger("ADTAdapter");let i={_csrf_parameter:{token:"",timestamp:new Date},_MAX_ROW_COUNT_LIMIT:2147483646,formatter:{convertToNameSafe:e=>e.replaceAll("/"," ").trim().replaceAll(" ","_"),convertToNameRef:e=>e.replaceAll("/","$")},fnErrorGeneral:function(e){return{rc:1,msg:e.xhr.statusText}},SoapRfcAdapter:e,adtCall:e.call,updateCSRFToken:function(){let e=function(e,t,r){this._csrf_parameter.token=r.getResponseHeader("X-CSRF-Token");this._csrf_parameter.timestamp=new Date}.bind(this);let t=function(e,t,i){r.warn("Failed to load X-CSRF-Token:",i)}.bind(this);$.ajax({type:"GET",url:"/sap/bc/adt/checkruns/reporters",headers:{"x-csrf-token":"fetch"},success:e,error:t})},sqlDataPreview:function(e,t){let r=(new Date).toLocaleString();let i=function(e){let t=parseInt(e.querySelector("totalRows").textContent);let i=Array.from(e.querySelectorAll("columns")).map(function(e){return{column:e,name:e.querySelector("metadata").getAttribute("dataPreview:name"),dataSet:e.querySelector("dataSet")}});let a=i[0].dataSet.childNodes.length;let n=[...Array(a).keys()];let o=r+" - Query successfully executed in "+e.querySelector("queryExecutionTime").textContent+" ms (server processing time)<br>"+e.querySelector("executedQueryString").textContent;let l={rc:0,msg:o,totalRowCount:t,actualRowCount:a,columns:i.map(e=>{let t={};Array.from(e.column.querySelector("metadata").attributes).forEach(e=>{t[e.name.replace("dataPreview:","")]=e.value});return t}),rows:n.map(e=>{let t={};i.forEach(r=>{t[r.name]=r.dataSet.childNodes[e].textContent});return t})};return l}.bind(this);let a=function(t){if(t.xhr.status==400){let i=t.xhr.responseXML;if(i){if(i.querySelector("exception")){return{rc:2,msg:r+" - Query execution failed<br>"+i.querySelector("message").textContent+"<br>"+e}}}}return{rc:1,msg:r+" - Query execution failed<br>HTTP request faild: "+t.xhr.statusText+"<br>"}}.bind(this);let n=function(r,i){$.ajax({type:"POST",data:e,url:"/sap/bc/adt/datapreview/freestyle?rowNumber="+(t!=0?Math.min(Math.abs(t),this._MAX_ROW_COUNT_LIMIT):this._MAX_ROW_COUNT_LIMIT),headers:{"X-CSRF-Token":this._csrf_parameter.token,Accept:"application/xml, application/vnd.sap.adt.datapreview.table.v1+xml","Content-Type":"text/plain"},success:r,error:i})}.bind(this);let o=new Promise(function(e,t){let r=function(e,r,i){t({xhr:e,status:r,errorText:i})};n(e,r)});return o.then(i,a)},getIOBJMetadata:function(e){let t=function(e){return Array.from(e.querySelectorAll("[name][status]")).map(e=>({description:e.nodeName,name:e.getAttribute("name"),status:e.getAttribute("status")}))};let r=function(e){let r="Successfully loaded";let i=e.querySelector("infoObject");let a=i.querySelector("tlogoProperties");let n=i.querySelector("masterDataProperties");let o=i.querySelector("textProperties");let l=i.querySelector("hierarchyProperties");let s={rc:0,msg:r,iobj:{name:i.getAttribute("name"),fieldName:i.getAttribute("fieldName"),attributeOnly:i.getAttribute("attributeOnly")=="true",shortDescriptionSet:i.getAttribute("shortDescriptionSet")=="true",withLowerCaseLetters:i.getAttribute("withLowerCaseLetters")=="true",highCardinality:i.querySelector("highCardinality")&&i.querySelector("highCardinality").textContent=="true",conversionRoutine:i.getAttribute("conversionRoutine"),length:parseInt(i.querySelector("length").textContent),outputLength:parseInt(i.getAttribute("outputLength")),infoObjectType:i.querySelector("infoObjectType").textContent,dataElement:i.querySelector("dataElement").getAttribute("name"),dataType:i.querySelector("dataType").textContent,longDescription:i.querySelector("longDescription").textContent,shortDescription:i.querySelector("shortDescription").textContent,tlogoProperties:{infoArea:a.querySelector("infoArea").textContent,objectVersion:a.querySelector("objectVersion").textContent,objectStatus:a.querySelector("objectStatus").textContent,contentState:a.querySelector("contentState").textContent,changedAt:new Date(a.getAttribute("adtcore:changedAt")),createdAt:new Date(a.getAttribute("adtcore:createdAt")),changedBy:a.getAttribute("adtcore:changedBy"),createdBy:a.getAttribute("adtcore:createdBy")},sid:{ddic:[{description:"sidTable",name:i.querySelector("sidTable").getAttribute("name"),status:i.querySelector("sidTable").getAttribute("status")}]},masterDataProperties:{withMasterData:n.getAttribute("withMasterData")=="true",ddic:t(n)},textProperties:{withTexts:o.getAttribute("withTexts")=="true",shortTextAvailable:o.getAttribute("shortTextAvailable")=="true",mediumTextAvailable:o.getAttribute("mediumTextAvailable")=="true",longTextAvailable:o.getAttribute("longTextAvailable")=="true",languageDependentTextAvailable:o.getAttribute("languageDependentTextAvailable")=="true",timeDependentTextAvailable:o.getAttribute("timeDependentTextAvailable")=="true",longTextXLAvailable:o.getAttribute("longTextXLAvailable")=="true",inputable:o.getAttribute("inputable")=="true",ddic:t(o)},hierarchyProperties:{withHierarchies:l.getAttribute("withHierarchies")=="true",versionDependent:l.getAttribute("versionDependent")=="true",timeDependent:l.getAttribute("timeDependency")=="TIME_DEPENDENT",timeDependentStructure:l.getAttribute("timeDependency")=="TIME_DEPENDENT_STRUCTURE",temporalHierarchyJoin:l.getAttribute("temporalHierarchyJoin")=="true",type:l.getAttribute("type"),invervalsPermitted:l.getAttribute("invervalsPermitted")=="true",reverseSignForNodes:l.getAttribute("reverseSignForNodes")=="true",hierarchyClass:l.getAttribute("hierarchyClass"),biaStatus:l.getAttribute("biaStatus"),ddic:t(l)},compoundParent:Array.from(i.querySelectorAll("compoundParent")).map(e=>({type:e.getAttribute("type"),constant:e.getAttribute("constant"),dataType:e.getAttribute("dataType"),length:parseInt(e.getAttribute("length")),ref:e.getAttribute("ref"),name:e.getAttribute("name"),infoObjectType:e.getAttribute("infoObjectType"),description:e.getAttribute("description"),shortDescription:e.getAttribute("shortDescription")})),attributeN:Array.from(i.querySelectorAll("attributeN")).map(e=>({ref:e.getAttribute("ref"),name:e.getAttribute("name"),infoObjectType:e.getAttribute("infoObjectType"),description:e.getAttribute("description"),shortDescription:e.getAttribute("shortDescription"),dataType:e.getAttribute("dataType"),length:parseInt(e.getAttribute("length")),type:e.getAttribute("type"),timeDependent:e.getAttribute("timeDependent"),partOfIndex:e.getAttribute("partOfIndex"),f4HelpOrder:e.getAttribute("f4HelpOrder"),authorizationRelevant:e.getAttribute("authorizationRelevant"),useTextOfOriginalCharacteristic:e.getAttribute("useTextOfOriginalCharacteristic"),derivedPath:e.getAttribute("derivedPath"),displayInQuery:e.getAttribute("displayInQuery")=="true",navigationAttributeDescription:e.getAttribute("navigationAttributeDescription"),navigationAttributeShortDescription:e.getAttribute("navigationAttributeShortDescription"),shortDescriptionSet:e.getAttribute("shortDescriptionSet"),calculationScenarioNavigationAttribute:e.getAttribute("calculationScenarioNavigationAttribute")=="true",navigationAttributeName:e.getAttribute("navigationAttributeName"),hasAttributes:e.getAttribute("hasAttributes"),hasNavigationAttributes:e.getAttribute("hasNavigationAttributes"),sidKeyFigure:e.getAttribute("sidKeyFigure")}))},originalXML:e};s.iobj.nameSafe=this.formatter.convertToNameSafe(s.iobj.name);return s}.bind(this);let i=function(t,r){$.ajax({type:"GET",url:"/sap/bw/modeling/iobj/"+this.formatter.convertToNameRef(e)+"/m",headers:{Accept:"application/vnd.sap-bw-modeling.iobj-v1_0_0+xml, application/vnd.sap-bw-modeling.iobj-v1_1_0+xml, application/vnd.sap-bw-modeling.iobj-v1_2_0+xml, application/vnd.sap-bw-modeling.iobj-v1_3_0+xml, application/vnd.sap-bw-modeling.iobj-v1_4_0+xml, application/vnd.sap-bw-modeling.iobj-v1_5_0+xml, application/vnd.sap-bw-modeling.iobj-v1_6_0+xml, application/vnd.sap-bw-modeling.iobj-v1_7_0+xml, application/vnd.sap-bw-modeling.iobj-v1_8_0+xml, application/vnd.sap-bw-modeling.iobj-v1_9_0+xml, application/vnd.sap-bw-modeling.iobj-v2_0_0+xml, application/vnd.sap-bw-modeling.iobj-v2_1_0+xml, application/vnd.sap-bw-modeling.iobj-v2_2_0+xml"},success:t,error:r})}.bind(this);let a=new Promise(function(e,t){let r=function(e,r,i){t({xhr:e,status:r,errorText:i})};i(e,r)});return a.then(r,this.fnErrorGeneral)},getBWQuery:function(t){let r=(new Date).toLocaleString();let i=this.formatter.convertToNameRef(t);let a="/sap/bw/modeling/query/"+i+"/A";let n={Accept:"application/vnd.sap.bw.modeling.query-v1_8_0+xml, application/vnd.sap.bw.modeling.query-v1_9_0+xml, application/vnd.sap.bw.modeling.query-v1_10_0+xml, application/vnd.sap.bw.modeling.query-v1_11_0+xml"};return e.get(a,n).then(e=>{if(!e.ok){let t=r+" - Failed to get query: ";if(e.statusCode===404){t+="Query not found. Check the technical name."}else if(e.statusCode===403){t+="Access denied. Check S_RS_COMP authorization."}else{t+=e.statusReason+" (Status: "+e.statusCode+")"}return{rc:1,msg:t,xmlDoc:null,xmlString:null,eTag:null,metadata:null}}let i=new DOMParser;let a=i.parseFromString(e.body,"application/xml");let n=a.querySelector("parsererror");if(n){return{rc:1,msg:r+" - XML parsing error: "+n.textContent,xmlDoc:null,xmlString:null,eTag:null,metadata:null}}let o=e.headers["ETag"]||e.headers["etag"]||null;let l=a.querySelector("query, Query, Qry\\:query");let s={name:t,description:"",changedBy:"",changedAt:"",infoProvider:""};if(l){s.description=l.getAttribute("description")||l.querySelector("description")?.getAttribute("value")||"";let e=l.getAttributeNS("http://www.sap.com/adt/core","changedBy");let t=l.getAttributeNS("http://www.sap.com/adt/core","changedAt");s.changedBy=e||"";s.changedAt=t||"";let r=l.querySelector("infoProvider, InfoProvider");if(r){s.infoProvider=r.getAttribute("name")||r.getAttribute("id")||r.textContent||""}}return{rc:0,msg:r+" - Query loaded successfully",xmlDoc:a,xmlString:e.body,eTag:o,metadata:s}}).catch(e=>({rc:1,msg:r+" - Error loading query: "+e.message,xmlDoc:null,xmlString:null,eTag:null,metadata:null}))},putBWQuery:function(t,r,i){let a=(new Date).toLocaleString();let n=this.formatter.convertToNameRef(t);let o="/sap/bw/modeling/query/"+n+"/A";let l;if(typeof r==="string"){l=r}else{let e=new XMLSerializer;l=e.serializeToString(r)}let s={"X-CSRF-Token":this._csrf_parameter.token,"Content-Type":"application/vnd.sap.bw.modeling.query-v1_11_0+xml",Accept:"application/vnd.sap.bw.modeling.query-v1_8_0+xml, application/vnd.sap.bw.modeling.query-v1_9_0+xml, application/vnd.sap.bw.modeling.query-v1_10_0+xml, application/vnd.sap.bw.modeling.query-v1_11_0+xml"};if(i){s["If-Match"]=i}return e.put(o,s,l).then(e=>{if(!e.ok){let t=a+" - Failed to save query: ";if(e.statusCode===412){t+="Precondition failed. Query was modified by another user. Reload and try again."}else if(e.statusCode===403){t+="Access denied. Check S_RS_COMP authorization with change permission."}else if(e.statusCode===400){if(e.body){try{let r=(new DOMParser).parseFromString(e.body,"application/xml");let i=r.querySelector("message")?.textContent;if(i){t=a+" - "+i}}catch(r){t+=e.statusReason+" (Status: "+e.statusCode+")"}}else{t+=e.statusReason+" (Status: "+e.statusCode+")"}}else{t+=e.statusReason+" (Status: "+e.statusCode+")"}return{rc:1,msg:t,newETag:null}}let t=e.headers["ETag"]||e.headers["etag"]||null;return{rc:0,msg:a+" - Query saved successfully",newETag:t}}).catch(e=>({rc:1,msg:a+" - Error saving query: "+e.message,newETag:null}))},getQueryList:function(t){let i=(new Date).toLocaleString();let a="/sap/bw/modeling/query/catalog";if(t){let e=[];if(t.infoProvider)e.push("infoProvider="+encodeURIComponent(t.infoProvider));if(t.name)e.push("name="+encodeURIComponent(t.name));if(e.length>0){a+="?"+e.join("&")}}let n={Accept:"application/json, application/xml"};return e.get(a,n).then(e=>{if(!e.ok){return{rc:1,msg:i+" - Failed to get query list: "+e.statusReason,queries:[]}}let t=[];try{let r=JSON.parse(e.body);if(r.queries&&Array.isArray(r.queries)){t=r.queries}}catch(i){try{let r=new DOMParser;let i=r.parseFromString(e.body,"application/xml");let a=i.querySelectorAll("query, Query");t=Array.from(a).map(e=>({name:e.getAttribute("name")||e.getAttribute("id")||"",description:e.getAttribute("description")||"",infoProvider:e.getAttribute("infoProvider")||"",changedBy:e.getAttribute("changedBy")||"",changedAt:e.getAttribute("changedAt")||""}))}catch(e){r.error("Failed to parse query list:",e)}}return{rc:0,msg:i+" - Loaded "+t.length+" queries",queries:t}}).catch(e=>({rc:1,msg:i+" - Error loading query list: "+e.message,queries:[]}))},extractQueryUID:function(e){try{let t=new DOMParser;let i=t.parseFromString(e,"application/xml");let a=i.querySelector("parsererror");if(a){r.warn("XML parse error in extractQueryUID:",a.textContent);return null}let n=i.getElementsByTagNameNS("http://www.sap.com/bw/Query.ecore","mainComponent")[0];if(!n){n=i.querySelector("mainComponent, Qry\\:mainComponent")}return n?n.getAttribute("id"):null}catch(e){r.error("Error extracting query UID:",e);return null}},getTADIRDevclass:function(e){let t=(new Date).toLocaleString();if(!e){return Promise.resolve({rc:1,devclass:null,msg:t+" - No UID provided"})}let r="SELECT DEVCLASS FROM TADIR "+"WHERE PGMID = 'R3TR' AND OBJECT = 'ELEM' "+"AND OBJ_NAME = '"+e+"'";return this.sqlDataPreview(r,1).then(function(r){if(r.rc===0&&r.rows&&r.rows.length>0){return{rc:0,devclass:r.rows[0].DEVCLASS,msg:t+" - Package found: "+r.rows[0].DEVCLASS}}if(r.rc===0&&(!r.rows||r.rows.length===0)){return{rc:1,devclass:null,msg:t+" - No package found in TADIR for UID: "+e}}return{rc:1,devclass:null,msg:r.msg||t+" - TADIR lookup failed"}}).catch(function(e){return{rc:1,devclass:null,msg:t+" - Error querying TADIR: "+(e.message||e)}})},BW:{moveIOBJToInfoArea:function(t,r,i){var a="";t.forEach(function(e){a+=`<atom:entry>\n               <atom:content type="application/xml">\n                 <bwModel:moveProperties targetObjectType="AREA" targetObjectName="${r}" movePosition="CHILD" version="inactive" lockHandle=""/>\n               </atom:content>\n               <atom:link href="/sap/bw/modeling/iobj/${e}/m" type="application/*" rel="self"/>\n             </atom:entry>`});var n=`<?xml version="1.0" encoding="UTF-8"?>\n           <atom:feed xmlns:atom="http://www.w3.org/2005/Atom"\n                      xmlns:bwModel="http://www.sap.com/bw/modeling">\n             ${a}\n           </atom:feed>`.trim();let o=`/sap/bw/modeling/move_requests?corrNr=${i}`;return e.call("POST",o,{},n)}}};i.updateCSRFToken();i._intervalCSRF=setInterval(i.updateCSRFToken.bind(i),1e3*60*10);i.destroy=function(){if(i._intervalCSRF){clearInterval(i._intervalCSRF);i._intervalCSRF=null}};return i});
},
	"astrobear/abaplorer/model/BWQueryTransformer.js":function(){
sap.ui.define(["astrobear/abaplorer/util/Logger"],function(e){"use strict";const t=e.getLogger("BWQueryTransformer");const r={Qry:"http://www.sap.com/bw/Query.ecore",xsi:"http://www.w3.org/2001/XMLSchema-instance",adtCore:"http://www.sap.com/adt/core",atom:"http://www.w3.org/2005/Atom",bwCore:"http://www.sap.com/bw/modeling/BwCore.ecore"};let n=null;let o={q:function(e){if(!e.includes(":")){return e}const[t,n]=e.split(":",2);const o=r[t];if(!o){throw new Error(`Unknown namespace prefix: ${t}`)}return`${t}\\:${n}`},nsAttr:function(e,t){return r[e]+":"+t},findMainComponent:function(e){let o=null;if(n==="getElementsByTagNameNS"){const t=e.getElementsByTagNameNS(r.Qry,"mainComponent");if(t.length>0)return t[0]}else if(n==="querySelector"){o=e.querySelector(this.q("Qry:mainComponent"));if(o)return o}t.debug("findMainComponent: Starting search...");const l=e.getElementsByTagNameNS(r.Qry,"mainComponent");if(l.length>0){n="getElementsByTagNameNS";t.debug("findMainComponent: Found via getElementsByTagNameNS (cached)");return l[0]}o=e.querySelector(this.q("Qry:mainComponent"));if(o){n="querySelector";t.debug("findMainComponent: Found via querySelector (cached)");return o}const s=e.getElementsByTagName("*");for(let e=0;e<s.length;e++){const r=s[e];if(r.localName==="mainComponent"||r.tagName==="Qry:mainComponent"){t.debug("findMainComponent: Found via iteration, tagName:",r.tagName);return r}}t.error("BWQueryTransformer.findMainComponent: NOT FOUND");t.error("  Document element:",e.documentElement?e.documentElement.tagName:"null");if(e.documentElement){const r=e.documentElement.children;t.error("  Children count:",r.length);for(let e=0;e<Math.min(r.length,5);e++){t.error("    - "+r[e].tagName+" (localName: "+r[e].localName+")")}}throw new Error("Could not find Qry:mainComponent in XML. Document root: "+(e.documentElement?e.documentElement.tagName:"null"))},setFlags:function(e,t){const n={resultPosition:false,zeroSuppression:false};if(!t||typeof t!=="object"){return n}if(t.onLeft!==null&&t.onLeft!==undefined){let o=e.querySelector(this.q("Qry:resultPosition"));if(!o){o=document.createElementNS(r.Qry,"Qry:resultPosition");e.appendChild(o)}o.setAttribute("onLeft",t.onLeft?"true":"false");n.resultPosition=true}if(t.zeroRows!==null&&t.zeroRows!==undefined||t.zeroCols!==null&&t.zeroCols!==undefined){let o=e.querySelector(this.q("Qry:zeroSuppression"));if(!o){o=document.createElementNS(r.Qry,"Qry:zeroSuppression");e.appendChild(o)}if(t.zeroRows!==null&&t.zeroRows!==undefined){o.setAttribute("rows",t.zeroRows?"true":"false")}if(t.zeroCols!==null&&t.zeroCols!==undefined){o.setAttribute("columns",t.zeroCols?"true":"false")}n.zeroSuppression=true}return n},changeFormulaConstant:function(e,t,n){let o=0;const l=e.querySelectorAll(this.q("Qry:members"));for(let e of l){const l=e.getAttributeNS(r.xsi,"type");if(l!=="Qry:MemberFormula"){continue}if(n){const t=e.querySelector(this.q("Qry:description"));if(!t||t.getAttribute("value")!==n){continue}}const s=e.querySelectorAll(this.q("Qry:childToken"));for(let e of s){const n=e.getAttributeNS(r.xsi,"type");if(n==="Qry:FormulaConstant"){e.setAttribute("value",String(t));o++;return o}}}return o},deleteFilterSelections:function(e,n){const o=new Set(n.map(e=>e.toUpperCase()));t.debug("deleteFilterSelections: Looking for filters:",Array.from(o));let l=e.getElementsByTagNameNS(r.Qry,"filter")[0];if(!l){l=e.querySelector(this.q("Qry:filter"))}if(!l){t.debug("deleteFilterSelections: No filter element found in mainComponent");return 0}let s=Array.from(l.getElementsByTagNameNS(r.Qry,"selections"));if(s.length===0){s=Array.from(l.querySelectorAll(this.q("Qry:selections")))}t.debug("deleteFilterSelections: Found",s.length,"selections");const i=[];for(let e of s){const n=e.getAttribute("infoObject");const l=e.getElementsByTagNameNS(r.Qry,"localDimension");const s=l.length>0?l[0].getAttribute("infoObjectName"):null;if(n&&o.has(n.toUpperCase())||s&&o.has(s.toUpperCase())){i.push(e);t.debug("  - MATCH: infoObject=",n,"localDimension=",s)}}for(let e of i){l.removeChild(e)}t.debug("deleteFilterSelections: Removed",i.length,"selections");return i.length},deleteRows:function(e,n){const o=new Set(n.map(e=>e.toUpperCase()));t.debug("deleteRows: Looking for rows:",Array.from(o));let l=Array.from(e.getElementsByTagNameNS(r.Qry,"rows"));if(l.length===0){l=Array.from(e.querySelectorAll(this.q("Qry:rows")))}t.debug("deleteRows: Found",l.length,"rows elements");const s=[];for(let e of l){const r=e.getAttribute("infoObjectName");if(r&&o.has(r.toUpperCase())){s.push(e);t.debug("  - MATCH row: infoObjectName=",r)}}for(let e of s){e.parentNode.removeChild(e)}t.debug("deleteRows: Removed",s.length,"rows");return s.length},deleteFree:function(e,n){const o=new Set(n.map(e=>e.toUpperCase()));t.debug("deleteFree: Looking for free:",Array.from(o));let l=Array.from(e.getElementsByTagNameNS(r.Qry,"free"));if(l.length===0){l=Array.from(e.querySelectorAll(this.q("Qry:free")))}t.debug("deleteFree: Found",l.length,"free elements");const s=[];for(let e of l){const r=e.getAttribute("infoObjectName");if(r&&o.has(r.toUpperCase())){s.push(e);t.debug("  - MATCH free: infoObjectName=",r)}}for(let e of s){e.parentNode.removeChild(e)}t.debug("deleteFree: Removed",s.length,"free elements");return s.length},deleteColumns:function(e,n){const o=new Set(n.map(e=>e.toUpperCase()));t.debug("deleteColumns: Looking for columns:",Array.from(o));let l=Array.from(e.getElementsByTagNameNS(r.Qry,"columns"));if(l.length===0){l=Array.from(e.querySelectorAll(this.q("Qry:columns")))}t.debug("deleteColumns: Found",l.length,"columns elements");const s=[];for(let e of l){const r=e.getAttribute("infoObjectName");if(r&&o.has(r.toUpperCase())){s.push(e);t.debug("  - MATCH column: infoObjectName=",r)}}for(let e of s){e.parentNode.removeChild(e)}t.debug("deleteColumns: Removed",s.length,"columns");return s.length},deleteMembers:function(e,n){const o=new Set(n.map(e=>e.toUpperCase()));t.debug("deleteMembers: Looking for members with defaultHint:",Array.from(o));let l=Array.from(e.getElementsByTagNameNS(r.Qry,"members"));if(l.length===0){l=Array.from(e.querySelectorAll(this.q("Qry:members")))}t.debug("deleteMembers: Found",l.length,"members elements");const s=[];for(let e of l){let n=e.getElementsByTagNameNS(r.Qry,"defaultHint")[0];if(!n){n=e.querySelector(this.q("Qry:defaultHint"))}if(n){let l=n.getElementsByTagNameNS(r.Qry,"value")[0];if(!l){l=n.querySelector(this.q("Qry:value"))}if(l&&l.textContent){const r=l.textContent.trim().toUpperCase();if(o.has(r)){s.push(e);t.debug("  - MATCH member: defaultHint/value=",l.textContent)}}}}for(let e of s){e.parentNode.removeChild(e)}t.debug("deleteMembers: Removed",s.length,"members");return s.length},setDimensionMasterdata:function(e,n){if(!n||typeof n!=="string"){t.error("setDimensionMasterdata: infoObjectName is required");return 0}let o=0;const l=`${this.q("Qry:localDimension")}[infoObjectName="${n}"]`;const s=e.querySelectorAll(l);t.debug("setDimensionMasterdata: Looking for",n,"found",s.length,"matches");for(let e of s){let t=e.querySelector(this.q("Qry:readMode"));if(!t){t=document.createElementNS(r.Qry,"Qry:readMode");e.appendChild(t)}t.setAttribute("type","masterdata");let n=e.querySelector(this.q("Qry:f4accessVariables"));if(!n){n=document.createElementNS(r.Qry,"Qry:f4accessVariables");e.appendChild(n)}n.setAttribute("type","masterdata");o++}t.debug("setDimensionMasterdata: Updated",o,"dimension(s)");return o},removeMessagesElements:function(e){let r=0;let n=[];const o=e.getElementsByTagName("*");for(let e=0;e<o.length;e++){const r=o[e];if(r.localName==="messages"||r.tagName==="Qry:messages"||r.tagName.endsWith(":messages")){n.push(r);t.debug("removeMessagesElements: Found element with tagName:",r.tagName)}}t.debug("removeMessagesElements: Total found:",n.length);for(let e of n){if(e.parentNode){e.parentNode.removeChild(e);r++}}if(r>0){t.info("removeMessagesElements: Removed "+r+" Qry:messages element(s)")}return r},serializeXML:function(e){const t=new XMLSerializer;return t.serializeToString(e)},parseXML:function(e){t.debug("parseXML: Input length:",e?e.length:0);t.debug("parseXML: First 100 chars:",e?e.substring(0,100):"null");if(!e||typeof e!=="string"){throw new Error("XML string is empty or not a string")}e=e.trim();const r=new DOMParser;const n=r.parseFromString(e,"application/xml");const o=n.querySelector("parsererror");if(o){t.error("BWQueryTransformer.parseXML: Parse error:",o.textContent);throw new Error("XML parsing error: "+o.textContent)}t.debug("parseXML: Successfully parsed, root element:",n.documentElement?n.documentElement.tagName:"null");return n}};return o});
},
	"astrobear/abaplorer/model/LogStorage.js":function(){
sap.ui.define([],function(){"use strict";const e={_dbName:"ABAPlorer_LogStorage",_dbVersion:1,_storeName:"logs",_db:null,_initPromise:null,MAX_ENTRIES:1e4,MAX_AGE_DAYS:7,init:function(){if(this._initPromise){return this._initPromise}this._initPromise=new Promise((e,t)=>{if(!window.indexedDB){t(new Error("IndexedDB is not supported by this browser"));return}const s=indexedDB.open(this._dbName,this._dbVersion);s.onerror=()=>{console.error("[LogStorage] IndexedDB error:",s.error);t(s.error)};s.onsuccess=()=>{this._db=s.result;console.info("[LogStorage] Initialized successfully");this.cleanup().catch(e=>{console.warn("[LogStorage] Cleanup on init failed:",e)});e(this._db)};s.onupgradeneeded=e=>{const t=e.target.result;if(!t.objectStoreNames.contains(this._storeName)){const e=t.createObjectStore(this._storeName,{keyPath:"id",autoIncrement:false});e.createIndex("timestamp","timestamp",{unique:false});e.createIndex("level","level",{unique:false});e.createIndex("levelNum","levelNum",{unique:false});e.createIndex("module","module",{unique:false});e.createIndex("sessionId","sessionId",{unique:false});console.info("[LogStorage] Object store created")}}});return this._initPromise},_ensureInit:function(){if(!this._db){throw new Error("LogStorage not initialized. Call LogStorage.init() first.")}},_generateId:function(){return Date.now().toString(36)+Math.random().toString(36).substr(2,9)},addLogs:function(e){return new Promise((t,s)=>{try{this._ensureInit()}catch(e){return s(e)}if(!e||e.length===0){return t(0)}try{const r=this._db.transaction([this._storeName],"readwrite");const n=r.objectStore(this._storeName);let o=0;e.forEach(e=>{const t={id:e.id||this._generateId(),timestamp:e.timestamp||new Date,level:e.level||"INFO",levelNum:e.levelNum!==undefined?e.levelNum:1,module:e.module||"Unknown",message:e.message||"",sessionId:e.sessionId||""};const s=n.add(t);s.onsuccess=()=>{o++};s.onerror=()=>{}});r.oncomplete=()=>{t(o)};r.onerror=()=>{s(r.error)}}catch(e){s(e)}})},getLogs:function(e){return new Promise((t,s)=>{try{this._ensureInit()}catch(e){return s(e)}e=e||{};try{const r=this._db.transaction([this._storeName],"readonly");const n=r.objectStore(this._storeName);const o=n.getAll();o.onsuccess=()=>{let s=o.result||[];if(e.level){s=s.filter(t=>t.level===e.level)}if(e.module){s=s.filter(t=>t.module===e.module)}if(e.sessionId){s=s.filter(t=>t.sessionId===e.sessionId)}if(e.startTime){const t=new Date(e.startTime).getTime();s=s.filter(e=>new Date(e.timestamp).getTime()>=t)}if(e.endTime){const t=new Date(e.endTime).getTime();s=s.filter(e=>new Date(e.timestamp).getTime()<=t)}if(e.search){const t=e.search.toLowerCase();s=s.filter(e=>e.message.toLowerCase().includes(t)||e.module.toLowerCase().includes(t))}s.sort((e,t)=>{const s=new Date(e.timestamp).getTime();const r=new Date(t.timestamp).getTime();return r-s});const r=e.offset||0;const n=e.limit||s.length;s=s.slice(r,r+n);t(s)};o.onerror=()=>{s(o.error)}}catch(e){s(e)}})},getLogCount:function(e){return new Promise((t,s)=>{try{this._ensureInit()}catch(e){return s(e)}e=e||{};try{const r=this._db.transaction([this._storeName],"readonly");const n=r.objectStore(this._storeName);const o=n.getAll();o.onsuccess=()=>{let s=o.result||[];if(e.level){s=s.filter(t=>t.level===e.level)}if(e.module){s=s.filter(t=>t.module===e.module)}if(e.sessionId){s=s.filter(t=>t.sessionId===e.sessionId)}if(e.startTime){const t=new Date(e.startTime).getTime();s=s.filter(e=>new Date(e.timestamp).getTime()>=t)}if(e.endTime){const t=new Date(e.endTime).getTime();s=s.filter(e=>new Date(e.timestamp).getTime()<=t)}if(e.search){const t=e.search.toLowerCase();s=s.filter(e=>e.message.toLowerCase().includes(t)||e.module.toLowerCase().includes(t))}t(s.length)};o.onerror=()=>{s(o.error)}}catch(e){s(e)}})},getModules:function(){return new Promise((e,t)=>{try{this._ensureInit()}catch(e){return t(e)}try{const s=this._db.transaction([this._storeName],"readonly");const r=s.objectStore(this._storeName);const n=r.getAll();n.onsuccess=()=>{const t=n.result||[];const s=[...new Set(t.map(e=>e.module))];s.sort();e(s)};n.onerror=()=>{t(n.error)}}catch(e){t(e)}})},getSessions:function(){return new Promise((e,t)=>{try{this._ensureInit()}catch(e){return t(e)}try{const s=this._db.transaction([this._storeName],"readonly");const r=s.objectStore(this._storeName);const n=r.getAll();n.onsuccess=()=>{const t=n.result||[];const s=[...new Set(t.map(e=>e.sessionId).filter(e=>e))];s.sort().reverse();e(s)};n.onerror=()=>{t(n.error)}}catch(e){t(e)}})},getStatistics:function(){return new Promise((e,t)=>{try{this._ensureInit()}catch(e){return t(e)}try{const s=this._db.transaction([this._storeName],"readonly");const r=s.objectStore(this._storeName);const n=r.getAll();n.onsuccess=()=>{const t=n.result||[];const s={totalLogs:t.length,byLevel:{DEBUG:0,INFO:0,WARN:0,ERROR:0},byModule:{},oldestEntry:null,newestEntry:null};t.forEach(e=>{if(s.byLevel.hasOwnProperty(e.level)){s.byLevel[e.level]++}s.byModule[e.module]=(s.byModule[e.module]||0)+1;const t=new Date(e.timestamp).getTime();if(!s.oldestEntry||t<new Date(s.oldestEntry).getTime()){s.oldestEntry=e.timestamp}if(!s.newestEntry||t>new Date(s.newestEntry).getTime()){s.newestEntry=e.timestamp}});e(s)};n.onerror=()=>{t(n.error)}}catch(e){t(e)}})},exportAsJSON:async function(e){const t=await this.getLogs(e);return JSON.stringify({exportDate:(new Date).toISOString(),version:this._dbVersion,logCount:t.length,filters:e||{},logs:t},null,2)},clearLogs:function(e){return new Promise(async(t,s)=>{try{this._ensureInit()}catch(e){return s(e)}e=e||{};if(!e.level&&!e.module&&!e.sessionId&&!e.startTime&&!e.endTime){return this.clearAll().then(()=>t(-1)).catch(s)}try{const r=await this.getLogs(e);const n=r.map(e=>e.id);if(n.length===0){return t(0)}const o=this._db.transaction([this._storeName],"readwrite");const i=o.objectStore(this._storeName);let c=0;n.forEach(e=>{const t=i.delete(e);t.onsuccess=()=>{c++}});o.oncomplete=()=>{t(c)};o.onerror=()=>{s(o.error)}}catch(e){s(e)}})},clearAll:function(){return new Promise((e,t)=>{try{this._ensureInit()}catch(e){return t(e)}try{const s=this._db.transaction([this._storeName],"readwrite");const r=s.objectStore(this._storeName);const n=r.clear();n.onsuccess=()=>{console.info("[LogStorage] All logs cleared");e()};n.onerror=()=>{t(n.error)}}catch(e){t(e)}})},cleanup:function(){return new Promise(async(e,t)=>{try{this._ensureInit()}catch(e){return t(e)}try{const s=this._db.transaction([this._storeName],"readwrite");const r=s.objectStore(this._storeName);const n=r.getAll();n.onsuccess=()=>{let s=n.result||[];const r=[];const o=new Date;o.setDate(o.getDate()-this.MAX_AGE_DAYS);const i=o.getTime();s.forEach(e=>{const t=new Date(e.timestamp).getTime();if(t<i){r.push(e.id)}});const c=s.filter(e=>!r.includes(e.id));if(c.length>this.MAX_ENTRIES){c.sort((e,t)=>{const s=new Date(e.timestamp).getTime();const r=new Date(t.timestamp).getTime();return s-r});const e=c.length-this.MAX_ENTRIES;for(let t=0;t<e;t++){r.push(c[t].id)}}if(r.length===0){return e(0)}const a=this._db.transaction([this._storeName],"readwrite");const l=a.objectStore(this._storeName);let m=0;r.forEach(e=>{const t=l.delete(e);t.onsuccess=()=>{m++}});a.oncomplete=()=>{if(m>0){console.info("[LogStorage] Cleanup removed",m,"entries")}e(m)};a.onerror=()=>{t(a.error)}};n.onerror=()=>{t(n.error)}}catch(e){t(e)}})}};return e});
},
	"astrobear/abaplorer/model/QueryStorage.js":function(){
sap.ui.define(["astrobear/abaplorer/util/Logger"],function(e){"use strict";const t=e.getLogger("QueryStorage");let r={_dbName:"ABAPlorer_QueryStorage",_dbVersion:1,_db:null,_initPromise:null,init:function(){if(this._initPromise){return this._initPromise}this._initPromise=new Promise((e,r)=>{if(!window.indexedDB){r(new Error("IndexedDB is not supported by this browser"));return}let i=indexedDB.open(this._dbName,this._dbVersion);i.onerror=()=>{t.error("IndexedDB error:",i.error);r(i.error)};i.onsuccess=()=>{this._db=i.result;t.info("QueryStorage initialized successfully");e(this._db)};i.onupgradeneeded=e=>{let r=e.target.result;if(!r.objectStoreNames.contains("queries")){let e=r.createObjectStore("queries",{keyPath:"queryName"});e.createIndex("timestamp","timestamp",{unique:false});e.createIndex("status","status",{unique:false});e.createIndex("infoProvider","metadata.infoProvider",{unique:false});t.info("QueryStorage object store created")}}});return this._initPromise},_ensureInit:function(){if(!this._db){throw new Error("Database not initialized. Call QueryStorage.init() first.")}},saveQuery:function(e){return new Promise((r,i)=>{try{this._ensureInit()}catch(e){return i(e)}if(!e.queryName){return i(new Error("queryName is required"))}if(!e.xmlString){return i(new Error("xmlString is required"))}if(!e.timestamp){e.timestamp=new Date}e.metadata=e.metadata||{};e.status=e.status||"downloaded";e.metadata.fileSize=e.xmlString.length;try{let s=this._db.transaction(["queries"],"readwrite");let a=s.objectStore("queries");let o=a.put(e);o.onsuccess=()=>{t.debug(`Query saved: ${e.queryName}`);r(o.result)};o.onerror=()=>{t.error("Save error:",o.error);i(o.error)};s.onerror=()=>{t.error("Transaction error:",s.error);i(s.error)}}catch(e){i(e)}})},getQuery:function(e){return new Promise((r,i)=>{try{this._ensureInit()}catch(e){return i(e)}if(!e){return i(new Error("queryName is required"))}try{let s=this._db.transaction(["queries"],"readonly");let a=s.objectStore("queries");let o=a.get(e);o.onsuccess=()=>{r(o.result)};o.onerror=()=>{t.error("Get error:",o.error);i(o.error)}}catch(e){i(e)}})},listQueries:function(e){return new Promise((r,i)=>{try{this._ensureInit()}catch(e){return i(e)}e=e||{};try{let s=this._db.transaction(["queries"],"readonly");let a=s.objectStore("queries");let o;if(e.status){let t=a.index("status");o=t.getAll(e.status)}else if(e.infoProvider){let t=a.index("infoProvider");o=t.getAll(e.infoProvider)}else{o=a.getAll()}o.onsuccess=()=>{let t=o.result||[];if(e.sortBy){t.sort((t,r)=>{let i=this._getNestedProperty(t,e.sortBy);let s=this._getNestedProperty(r,e.sortBy);if(i<s)return e.sortOrder==="desc"?1:-1;if(i>s)return e.sortOrder==="desc"?-1:1;return 0})}else{t.sort((e,t)=>{let r=e.timestamp?new Date(e.timestamp).getTime():0;let i=t.timestamp?new Date(t.timestamp).getTime():0;return i-r})}r(t)};o.onerror=()=>{t.error("List error:",o.error);i(o.error)}}catch(e){i(e)}})},_getNestedProperty:function(e,t){return t.split(".").reduce((e,t)=>e?e[t]:undefined,e)},listQueriesMetadata:function(e){return new Promise((r,i)=>{try{this._ensureInit()}catch(e){return i(e)}e=e||{};try{let s=this._db.transaction(["queries"],"readonly");let a=s.objectStore("queries");let o;if(e.status){let t=a.index("status");o=t.getAll(e.status)}else if(e.infoProvider){let t=a.index("infoProvider");o=t.getAll(e.infoProvider)}else{o=a.getAll()}o.onsuccess=()=>{let t=o.result||[];t=t.map(e=>({queryName:e.queryName,timestamp:e.timestamp,metadata:e.metadata,status:e.status,transformationProfile:e.transformationProfile,transformationParams:e.transformationParams,eTag:e.eTag,uploadResult:e.uploadResult,hasXml:e.xmlString&&e.xmlString.length>0}));if(e.sortBy){t.sort((t,r)=>{let i=this._getNestedProperty(t,e.sortBy);let s=this._getNestedProperty(r,e.sortBy);if(i<s)return e.sortOrder==="desc"?1:-1;if(i>s)return e.sortOrder==="desc"?-1:1;return 0})}else{t.sort((e,t)=>{let r=e.timestamp?new Date(e.timestamp).getTime():0;let i=t.timestamp?new Date(t.timestamp).getTime():0;return i-r})}r(t)};o.onerror=()=>{t.error("List metadata error:",o.error);i(o.error)}}catch(e){i(e)}})},deleteQuery:function(e){return new Promise((r,i)=>{try{this._ensureInit()}catch(e){return i(e)}if(!e){return i(new Error("queryName is required"))}try{let s=this._db.transaction(["queries"],"readwrite");let a=s.objectStore("queries");let o=a.delete(e);o.onsuccess=()=>{t.debug(`Query deleted: ${e}`);r()};o.onerror=()=>{t.error("Delete error:",o.error);i(o.error)}}catch(e){i(e)}})},deleteMultiple:function(e){let t={success:0,failed:0,errors:[]};let r=e.map(e=>this.deleteQuery(e).then(()=>{t.success++}).catch(r=>{t.failed++;t.errors.push({queryName:e,error:r.message})}));return Promise.all(r).then(()=>t)},clearAll:function(){return new Promise((e,r)=>{try{this._ensureInit()}catch(e){return r(e)}try{let i=this._db.transaction(["queries"],"readwrite");let s=i.objectStore("queries");let a=s.clear();a.onsuccess=()=>{t.info("All queries cleared from storage");e()};a.onerror=()=>{t.error("Clear error:",a.error);r(a.error)}}catch(e){r(e)}})},updateStatus:function(e,t,r){return this.getQuery(e).then(i=>{if(!i){throw new Error(`Query not found: ${e}`)}i.status=t;if(r){Object.assign(i,r)}return this.saveQuery(i)})},getStorageUsage:async function(){try{if(navigator.storage&&navigator.storage.estimate){let e=await navigator.storage.estimate();return{used:(e.usage/1024/1024).toFixed(2),quota:(e.quota/1024/1024).toFixed(2),usedBytes:e.usage,quotaBytes:e.quota,percentage:(e.usage/e.quota*100).toFixed(1)}}}catch(e){t.warn("Storage estimate not supported:",e)}try{let e=await this.listQueries();let t=e.reduce((e,t)=>e+(t.xmlString?t.xmlString.length:0),0);return{used:(t/1024/1024).toFixed(2),quota:"Unknown",usedBytes:t,quotaBytes:0,percentage:0}}catch(e){return{used:0,quota:0,usedBytes:0,quotaBytes:0,percentage:0}}},getStatistics:async function(){try{let e=await this.listQueries();let t={totalQueries:e.length,byStatus:{},byInfoProvider:{},totalSize:0,averageSize:0};e.forEach(e=>{t.byStatus[e.status]=(t.byStatus[e.status]||0)+1;let r=e.metadata?.infoProvider||"Unknown";t.byInfoProvider[r]=(t.byInfoProvider[r]||0)+1;if(e.xmlString){t.totalSize+=e.xmlString.length}});t.averageSize=e.length>0?Math.round(t.totalSize/e.length):0;t.totalSizeMB=(t.totalSize/1024/1024).toFixed(2);return t}catch(e){t.error("Error getting statistics:",e);return{totalQueries:0,byStatus:{},byInfoProvider:{},totalSize:0,totalSizeMB:"0.00",averageSize:0}}},exportAsJSON:async function(){let e=await this.listQueries();return JSON.stringify({exportDate:(new Date).toISOString(),version:this._dbVersion,queryCount:e.length,queries:e},null,2)},importFromJSON:async function(e,t){let r={imported:0,skipped:0,errors:[]};try{let i=JSON.parse(e);if(!i.queries||!Array.isArray(i.queries)){throw new Error("Invalid JSON format: missing queries array")}for(let e of i.queries){try{if(!t){let t=await this.getQuery(e.queryName);if(t){r.skipped++;continue}}if(e.timestamp){e.timestamp=new Date(e.timestamp)}if(e.uploadResult?.timestamp){e.uploadResult.timestamp=new Date(e.uploadResult.timestamp)}await this.saveQuery(e);r.imported++}catch(t){r.errors.push({queryName:e.queryName,error:t.message})}}return r}catch(e){throw new Error("Failed to import JSON: "+e.message)}},exists:async function(e){let t=await this.getQuery(e);return t!==undefined},getByStatus:function(e){return this.listQueries({status:e})},search:async function(e){let t=await this.listQueries();let r=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/\\\*/g,".*");let i=new RegExp(r,"i");return t.filter(e=>i.test(e.queryName))}};r.init().catch(e=>{t.error("Failed to initialize QueryStorage:",e)});return r});
},
	"astrobear/abaplorer/model/Rainbow.js":function(){
sap.ui.define(["astrobear/abaplorer/model/ADTAdapter"],function(n){"use strict";const e={systemName:null,connections:[],requests:[],onConnectionsChanged:null,_allowedOpenerOrigin:null,handler:function(n){let t=n.origin;let i=e.connections.find(n=>n.origin===t);if(!i){if(e._allowedOpenerOrigin&&t===e._allowedOpenerOrigin){e.addConnection(t);i=e.connections.find(n=>n.origin===t)}else{console.warn("[Rainbow] Unknown origin:",t);return}}let o;try{o=typeof n.data==="string"?JSON.parse(n.data):n.data}catch(n){return}if(!o||!o.command){return}const r=o.command;const a=o.data;let s=o.reqID;let c=null;switch(r){case"PING":i.window=n.source;i.connected=true;if(a?.from){i.name=a.from}e.notifyConnectionsChanged();c={command:"PING_BACK",data:{from:e.systemName}};break;case"PING_BACK":i.connected=true;if(a?.from){i.name=a.from}if(i.pingIntervalId){clearInterval(i.pingIntervalId);i.pingIntervalId=null}e._startSysNameRefreshLoop(i);e.notifyConnectionsChanged();console.log("[Rainbow] Connection established to:",t);break;case"GET_SYSNAME":i.window=n.source;c={command:"GET_SYSNAME_BACK",data:{from:e.systemName}};break;case"GET_SYSNAME_BACK":if(a&&a.from){i.name=a.from;if(e._isValidName(i.name)&&i.rePingIntervalId){clearInterval(i.rePingIntervalId);i.rePingIntervalId=null}e.notifyConnectionsChanged();console.log("[Rainbow] Name refreshed for:",t,"->",i.name)}break;case"DISCONNECT":i.connected=false;i.window=null;if(i.rePingTimeoutId){clearTimeout(i.rePingTimeoutId);i.rePingTimeoutId=null}if(i.rePingIntervalId){clearInterval(i.rePingIntervalId);i.rePingIntervalId=null}i.rePingTries=0;e.notifyConnectionsChanged();console.log("[Rainbow] Remote disconnected:",t);break;case"SQL_EXEC":{e.handleSqlExec(a,function(e){n.source.postMessage(JSON.stringify({command:"SQL_RESULT",reqID:s,data:e}),n.origin)});break}case"SQL_RESULT":{const n=e.requests.findIndex(n=>n.reqID===s);if(n!==-1){const t=e.requests[n];if(typeof t.callback==="function"){t.callback(a)}e.requests.splice(n,1)}break}default:console.warn("[Rainbow] Unknown command:",r);break}if(c){n.source.postMessage(JSON.stringify({command:c.command,reqID:s,data:c.data}),n.origin)}},handleSqlExec:function(t,i){if(!n||typeof n.sqlDataPreview!=="function"){i({system:e.systemName,rc:1,msg:"ADTAdapter not available"});return}n.sqlDataPreview(t.sql,t.rowLimit).then(n=>{i({system:e.systemName,result:n})}).catch(n=>{i({system:e.systemName,rc:1,msg:n?.message||"Remote SQL execution failed"})})},connect:function(n,t){let i;try{i=new URL(t,window.location.href)}catch(n){console.warn("[Rainbow] Invalid target URL:",t);return}const o=i.origin+i.pathname;const r=i.origin;let a=this.connections.find(e=>e.name===n&&e.origin===r);const s=window.open(t,"_blank");if(!s){console.warn("[Rainbow] Popup blocked");return}if(!a){a={name:n,url:t,baseUrl:o,window:s,origin:r,connected:false,pingIntervalId:null,rePingTimeoutId:null,repPingTries:0};this.connections.push(a)}else{a.url=t;a.baseUrl=o;a.origin=r;a.window=s;a.connected=false;if(a.pingIntervalId){clearInterval(a.pingIntervalId);a.pingIntervalId=null}if(a.rePingTimeoutId){clearTimeout(a.rePingTimeoutId);a.rePingTimeoutId=null}a.repPingTries=0}this.notifyConnectionsChanged();a.pingIntervalId=setInterval(()=>{try{a.window?.postMessage(JSON.stringify({command:"PING",data:{from:e.systemName}}),a.origin)}catch(n){}},1e3)},addConnection:function(n){if(!n){return}let e;try{e=new URL(n).origin}catch(e){console.warn("[Rainbow] addConnection: invalid URL:",n);return}const t=this.connections.some(n=>n.origin===e);if(t){return}console.log("[Rainbow] Adding connection to:",e);this.connections.push({name:null,url:n,window:null,origin:new URL(e).origin,connected:false,pingIntervalId:null});this.notifyConnectionsChanged()},sendCommand:function(n,e,t,i){let o=this.getGUID();let r={reqID:o,command:e,data:t};let a={reqID:o,command:r,callback:i};this.requests.push(a);const s=this.connections.find(e=>e.name===n&&e.connected===true);if(!s){console.warn("[Rainbow] No connected connection found for:",n);return null}s.window.postMessage(JSON.stringify(r),s.origin);return o},notifyConnectionsChanged:function(){if(typeof this.onConnectionsChanged==="function"){this.onConnectionsChanged(this.connections)}this._connectionListeners.forEach(n=>{try{n(this.connections)}catch(n){console.warn("[Rainbow] Listener error:",n)}})},_isValidName:function(n){return typeof n==="string"&&n.length===3},_startSysNameRefreshLoop:function(n){if(n.rePingIntervalId){clearInterval(n.rePingIntervalId);n.rePingIntervalId=null}n.rePingTries=0;var t=60;var i=1e3;n.rePingIntervalId=setInterval(function(){n.rePingTries++;if(e._isValidName(n.name)){clearInterval(n.rePingIntervalId);n.rePingIntervalId=null;return}try{if(n.window){n.window.postMessage(JSON.stringify({command:"GET_SYSNAME",data:{}}),n.origin)}}catch(n){}if(n.rePingTries>=t){clearInterval(n.rePingIntervalId);n.rePingIntervalId=null}},i)},_connectionListeners:[],addConnectionsChangedListener:function(n){if(typeof n!=="function"){return}if(!this._connectionListeners.includes(n)){this._connectionListeners.push(n)}},removeConnectionsChangedListener:function(n){this._connectionListeners=this._connectionListeners.filter(e=>e!==n)},getGUID:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(n){const e=Math.random()*16|0,t=n==="x"?e:e&3|8;return t.toString(16)})}};(function t(){try{n?.updateCSRFToken?.()}catch(n){}const i=t=>{if(!n||typeof n.sqlDataPreview!=="function"){return}const o="SELECT SYSNAME FROM TPFBA WHERE SYSNAME <> ''";n.sqlDataPreview(o,1).then(n=>{if(n?.rc===0&&n.rows?.length>0){const t=n.rows[0]||{};const i=t.SYSNAME??t.sysname??t.Sysname??Object.values(t).find(n=>typeof n==="string"&&n.trim()!=="");if(i){e.systemName=String(i).trim().toUpperCase();console.log("[Rainbow] Detected system name:",e.systemName);return}}if(t<10){setTimeout(()=>i(t+1),500)}}).catch(()=>{if(t<10){setTimeout(()=>i(t+1),500)}})};i(1)})();(function(){try{const n=new URLSearchParams(window.location.search);const t=n.get("ABAPlorerRainbowFrom");if(!t){return}const i=new URL(decodeURIComponent(t)).origin;e._allowedOpenerOrigin=i;e.addConnection(i);const o=e.connections.find(n=>n.origin===i);if(o){o.window=window.opener}window.addEventListener("beforeunload",function(){if(!window.opener){return}window.opener.postMessage(JSON.stringify({command:"DISCONNECT",data:{name:e.systemName}}),i)})}catch(n){}})();return e});
},
	"astrobear/abaplorer/model/formatter.js":function(){
sap.ui.define([],()=>{"use strict";return{lowerCamelCaseToNormal:e=>e.replace(/([a-z])([A-Z])/g,"$1 $2").replace(/^./,e=>e.toUpperCase())}});
},
	"astrobear/abaplorer/model/models.js":function(){
sap.ui.define(["sap/ui/model/json/JSONModel","sap/ui/Device"],function(e,n){"use strict";return{createDeviceModel:function(){var i=new e(n);i.setDefaultBindingMode("OneWay");return i}}});
},
	"astrobear/abaplorer/model/tools.js":function(){
sap.ui.define([],function(){"use strict";return{tools:[{header:"SQL Console",subheader:"Execute SQL statements",icon:"sap-icon://table-view",viewName:"astrobear.abaplorer.view.SQLConsole",functionality:`Execute SQL statements directly on your ABAP system, view results instantly, and analyze database tables without leaving the browser.\n        Features include exploring table contents, syntax highlighting and extracting data.`,usecase:"Execute SQL statements such as SELECT * FROM TADIR."},{header:"DDIC Table Full Text Search",subheader:"DDIC Text Search",icon:"sap-icon://detail-view",viewName:"astrobear.abaplorer.view.DDICSearch.DDICSearch",functionality:`Search for text values across SAP Data Dictionary (DDIC) tables.\n        Enter a table name pattern (e.g., Z*, RSDI*) and search terms to find matching records across multiple tables.\n        Supports wildcard patterns (*Contains*, StartsWith*, *EndsWith), concurrent batch execution, and displays results with table preview capabilities.`,usecase:`You have the name of an object but want to know in which tables the object is included, use this tool to identify all relevant tables.`},{header:"Query Manager",subheader:"Manage BW Queries",icon:"sap-icon://chart-table-view",viewName:"astrobear.abaplorer.view.QueryManager.QueryManager",functionality:`Manage SAP BW query definitions locally.\n        Download queries from SAP (individually or in bulk), store them in browser storage, visualize XML structure as a tree, and track processing status.\n        Supports bulk transformation workflows for filter deletion and re-upload to SAP, with import/export functionality for sharing query collections.`,usecase:"Export query definition before major changes. Alternatively, delete filter across all queries."},{header:"Move IOBJ to InfoArea",subheader:"Change InfoArea of IOBJ",icon:"sap-icon://forward",viewName:"astrobear.abaplorer.view.MoveIOBJToInfoArea",functionality:`Automated function for movement of SAP BW data objects between InfoAreas to efficiently and reliably support reorganizations, restructurings, and cleanup of the BW model structure.`,usecase:"Move InfoObjects to different InfoAreas to reorganize your BW model structure."},{header:"Rainbow Bridge",subheader:"Connect diff. System",icon:"sap-icon://connected",viewName:"astrobear.abaplorer.view.Rainbow",functionality:`Creates a connection to different SAP systems to explore and analyze table contents across multiple landscapes from a single interface.`,usecase:`Execute a query in System A, automatically transmit it via Rainbow to another ABAPlorer tab connected to System B, run the same query there, and return the results to System A.`},{header:"Transaction List",subheader:"Find and Run Transactions and other useful modules",icon:"sap-icon://list",viewName:"astrobear.abaplorer.view.TransactionList",functionality:`Lists different transactions, programs, and other useful function modules using smart searching and filtering functions to allow running them in a new tab. \n        Allows to provide feedback or suggest new transactions/programs to be added to the list by the Abaplorer Team using Outlook and a given email address and template.`,usecase:`Filter the list using suggested tags such as "ABAP Development" or "SAP GUI". Click on a transaction to open it or a program to run it directly.`},{header:"Find Tables By TLogo",subheader:"Find DDIC Tables by TLogo",icon:"sap-icon://table-column",viewName:"astrobear.abaplorer.view.FindTablesByTLogo",functionality:`Provides a specialized search for T-Logo objects (e.g., ADSO, HCPR) and their underlying database tables. \n  It features a smart suggestion input that displays descriptions for the selected objects. \n  The results are displayed in a stabilized, high-performance table with automated column resizing and deep integration into the Abaplorer ecosystem.`,usecase:`Type a T-Logo name like "ADSO" into the search field and select a suggestion to see all related tables. \n  Single-click a table row to generate and run a SELECT statement in the SQL Console, or double-click to open the table directly in the SAP WebGUI (SE11).`}]}});
},
	"astrobear/abaplorer/util/BulkDownloadManager.js":function(){
sap.ui.define(["sap/ui/core/util/File","astrobear/abaplorer/model/ADTAdapter","astrobear/abaplorer/model/QueryStorage","astrobear/abaplorer/util/Logger","astrobear/abaplorer/libs/JSZip"],function(e,t,s,r,n){"use strict";const i=r.getLogger("BulkDownloadManager");let a={_config:{maxConcurrency:1,delayBetweenRequests:500,retryAttempts:1,retryDelay:1e3,skipExisting:true},_state:{isRunning:false,isCancelled:false,queue:[],currentIndex:0,activeRequests:0,results:{total:0,succeeded:[],failed:[],skipped:[]}},_callbacks:{onProgress:null,onComplete:null,onError:null},_resolvePromise:null,configure:function(e){if(e){if(typeof e.maxConcurrency==="number"){this._config.maxConcurrency=Math.max(1,Math.min(5,e.maxConcurrency))}if(typeof e.delayBetweenRequests==="number"){this._config.delayBetweenRequests=Math.max(0,e.delayBetweenRequests)}if(typeof e.retryAttempts==="number"){this._config.retryAttempts=Math.max(0,e.retryAttempts)}if(typeof e.skipExisting==="boolean"){this._config.skipExisting=e.skipExisting}}return this},parseQueryNames:function(e){if(!e||typeof e!=="string"){return[]}let t=e.split(/[,;\n\r\t]+/).map(function(e){return e.trim().toUpperCase()}).filter(function(e){return e.length>0});let s={};return t.filter(function(e){if(s[e]){return false}s[e]=true;return true})},startBulkDownload:function(e,t){let s=this;return new Promise(function(r,n){if(!e||e.length===0){n(new Error("No query names provided"));return}if(s._state.isRunning){n(new Error("Bulk download already in progress"));return}s._reset();s._state.isRunning=true;s._state.queue=e.slice();s._state.results.total=e.length;s._callbacks=t||{};s._resolvePromise=r;i.info("Starting bulk download of "+e.length+" queries");i.debug("Config:",s._config);s._processQueue()})},cancel:function(){if(!this._state.isRunning){return false}i.info("Cancellation requested");this._state.isCancelled=true;return true},retry:function(e,t){let s=e.map(function(e){return e.queryName});return this.startBulkDownload(s,t)},getStatus:function(){let e=this._state.results.succeeded.length+this._state.results.failed.length+this._state.results.skipped.length;return{isRunning:this._state.isRunning,isCancelled:this._state.isCancelled,total:this._state.results.total,processed:e,succeeded:this._state.results.succeeded.length,failed:this._state.results.failed.length,skipped:this._state.results.skipped.length,currentQuery:this._state.currentIndex>0?this._state.queue[this._state.currentIndex-1]:null,percentage:this._state.results.total>0?Math.round(e/this._state.results.total*100):0}},_reset:function(){this._state={isRunning:false,isCancelled:false,queue:[],currentIndex:0,activeRequests:0,results:{total:0,succeeded:[],failed:[],skipped:[]}};this._callbacks={onProgress:null,onComplete:null,onError:null};this._resolvePromise=null},_processQueue:function(){let e=this;if(this._state.isCancelled){this._finalize();return}if(this._state.currentIndex>=this._state.queue.length&&this._state.activeRequests===0){this._finalize();return}while(this._state.activeRequests<this._config.maxConcurrency&&this._state.currentIndex<this._state.queue.length&&!this._state.isCancelled){let t=this._state.queue[this._state.currentIndex];let s=this._state.currentIndex;this._state.currentIndex++;this._state.activeRequests++;if(this._callbacks.onProgress){this._callbacks.onProgress(t,s+1,this._state.results.total,"downloading")}this._downloadSingleQuery(t,0).then(function(r){e._state.activeRequests--;if(r.skipped){e._state.results.skipped.push({queryName:t,reason:"Already exists in storage"});if(e._callbacks.onProgress){e._callbacks.onProgress(t,s+1,e._state.results.total,"skipped")}}else if(r.success){e._state.results.succeeded.push({queryName:t,metadata:r.metadata});if(e._callbacks.onProgress){e._callbacks.onProgress(t,s+1,e._state.results.total,"success")}}else{e._state.results.failed.push({queryName:t,error:r.error});if(e._callbacks.onProgress){e._callbacks.onProgress(t,s+1,e._state.results.total,"failed")}}setTimeout(function(){e._processQueue()},e._config.delayBetweenRequests)}).catch(function(r){e._state.activeRequests--;e._state.results.failed.push({queryName:t,error:r.message});if(e._callbacks.onProgress){e._callbacks.onProgress(t,s+1,e._state.results.total,"failed")}setTimeout(function(){e._processQueue()},e._config.delayBetweenRequests)})}},_downloadSingleQuery:function(e,t){let r=this;return new Promise(function(n){if(r._config.skipExisting){s.exists(e).then(function(s){if(s){i.debug("Skipping existing query:",e);n({success:true,skipped:true});return}r._executeDownload(e,t,n)}).catch(function(){r._executeDownload(e,t,n)})}else{r._executeDownload(e,t,n)}})},_executeDownload:function(e,r,n){let a=this;i.debug("Downloading query:",e,"(attempt "+(r+1)+")");t.getBWQuery(e).then(function(t){if(t.rc!==0){if(r<a._config.retryAttempts){i.debug("Retrying query:",e);setTimeout(function(){a._downloadSingleQuery(e,r+1).then(n)},a._config.retryDelay);return}n({success:false,skipped:false,error:t.msg});return}let l={queryName:e,xmlString:t.xmlString,timestamp:new Date,metadata:{description:t.metadata.description||"",infoProvider:t.metadata.infoProvider||"Unknown",changedBy:t.metadata.changedBy||"",changedAt:t.metadata.changedAt?new Date(t.metadata.changedAt):null,fileSize:t.xmlString.length},status:"downloaded",eTag:t.eTag,transformationProfile:null,transformationParams:null,uploadResult:null};s.saveQuery(l).then(function(){i.debug("Saved query:",e);n({success:true,skipped:false,metadata:l.metadata})}).catch(function(t){i.error("Failed to save query:",e,t);n({success:false,skipped:false,error:"Failed to save: "+t.message})})}).catch(function(t){if(r<a._config.retryAttempts){i.debug("Retrying query after error:",e);setTimeout(function(){a._downloadSingleQuery(e,r+1).then(n)},a._config.retryDelay);return}n({success:false,skipped:false,error:t.message})})},exportToZip:function(t,s){return new Promise(function(r,a){try{if(!t||t.length===0){throw new Error("No queries to export")}let l=n||window.JSZip;if(!l){throw new Error("JSZip library not loaded. Ensure libs/JSZip.js is present.")}i.info("Exporting "+t.length+" queries to ZIP");i.debug("JSZip available:",typeof l);let u=new l;t.forEach(function(e){if(e.queryName&&e.xmlString){u.file(e.queryName+".xml",e.xmlString);i.debug("Added to ZIP:",e.queryName)}});u.generateAsync({type:"blob"}).then(function(t){let n=s||"BW_Queries_Export_"+Date.now();e.save(t,n,"zip","application/x-zip");i.info("ZIP file downloaded:",n+".zip");r({success:true,fileName:n+".zip"})}).catch(function(e){i.error("Failed to generate ZIP:",e);a(e)})}catch(e){i.error("Failed to create ZIP:",e);a(e)}})},_finalize:function(){i.info("Finalizing. Results:",{total:this._state.results.total,succeeded:this._state.results.succeeded.length,failed:this._state.results.failed.length,skipped:this._state.results.skipped.length,cancelled:this._state.isCancelled});this._state.isRunning=false;let e={total:this._state.results.total,succeeded:this._state.results.succeeded,failed:this._state.results.failed,skipped:this._state.results.skipped,cancelled:this._state.isCancelled};if(this._callbacks.onComplete){this._callbacks.onComplete(e)}if(this._resolvePromise){this._resolvePromise(e)}}};return a});
},
	"astrobear/abaplorer/util/BulkTransformManager.js":function(){
sap.ui.define(["astrobear/abaplorer/model/ADTAdapter","astrobear/abaplorer/model/QueryStorage","astrobear/abaplorer/model/BWQueryTransformer","astrobear/abaplorer/util/Logger"],function(e,t,s,r){"use strict";const l=r.getLogger("BulkTransformManager");let i={_config:{maxConcurrency:1,delayBetweenRequests:1e3,retryAttempts:1,retryDelay:2e3,filtersToDelete:[],skipNoFilter:true,removeFilters:true,removeRows:false,removeColumns:false,removeMembers:false,removeFree:false},_state:{isRunning:false,isCancelled:false,queue:[],currentIndex:0,activeRequests:0,results:{total:0,succeeded:[],failed:[],skipped:[]}},_callbacks:{onProgress:null,onComplete:null,onError:null},_resolvePromise:null,configure:function(e){if(e){if(typeof e.maxConcurrency==="number"){this._config.maxConcurrency=Math.max(1,Math.min(3,e.maxConcurrency))}if(typeof e.delayBetweenRequests==="number"){this._config.delayBetweenRequests=Math.max(500,e.delayBetweenRequests)}if(typeof e.retryAttempts==="number"){this._config.retryAttempts=Math.max(0,e.retryAttempts)}if(Array.isArray(e.filtersToDelete)){this._config.filtersToDelete=e.filtersToDelete.map(function(e){return e.trim().toUpperCase()}).filter(function(e){return e.length>0})}if(typeof e.skipNoFilter==="boolean"){this._config.skipNoFilter=e.skipNoFilter}if(typeof e.removeFilters==="boolean"){this._config.removeFilters=e.removeFilters}if(typeof e.removeRows==="boolean"){this._config.removeRows=e.removeRows}if(typeof e.removeColumns==="boolean"){this._config.removeColumns=e.removeColumns}if(typeof e.removeMembers==="boolean"){this._config.removeMembers=e.removeMembers}if(typeof e.removeFree==="boolean"){this._config.removeFree=e.removeFree}}return this},parseFilterNames:function(e){if(!e||typeof e!=="string"){return[]}let t=e.split(/[,;\n\r\t]+/).map(function(e){return e.trim().toUpperCase()}).filter(function(e){return e.length>0});let s={};return t.filter(function(e){if(s[e]){return false}s[e]=true;return true})},startBulkTransform:function(e,t){let s=this;return new Promise(function(r,i){if(!e||e.length===0){i(new Error("No query names provided"));return}if(s._config.filtersToDelete.length===0){i(new Error("No filters specified for deletion. Configure filtersToDelete first."));return}if(s._state.isRunning){i(new Error("Bulk transform already in progress"));return}s._reset();s._state.isRunning=true;s._state.queue=e.slice();s._state.results.total=e.length;s._callbacks=t||{};s._resolvePromise=r;l.debug(" Starting bulk transform of "+e.length+" queries");l.debug(" Filters to delete:",s._config.filtersToDelete);s._processQueue()})},cancel:function(){if(!this._state.isRunning){return false}l.debug(" Cancellation requested");this._state.isCancelled=true;return true},retry:function(e,t){let s=e.map(function(e){return e.queryName});return this.startBulkTransform(s,t)},getStatus:function(){let e=this._state.results.succeeded.length+this._state.results.failed.length+this._state.results.skipped.length;return{isRunning:this._state.isRunning,isCancelled:this._state.isCancelled,total:this._state.results.total,processed:e,succeeded:this._state.results.succeeded.length,failed:this._state.results.failed.length,skipped:this._state.results.skipped.length,currentQuery:this._state.currentIndex>0?this._state.queue[this._state.currentIndex-1]:null,percentage:this._state.results.total>0?Math.round(e/this._state.results.total*100):0}},_reset:function(){this._state={isRunning:false,isCancelled:false,queue:[],currentIndex:0,activeRequests:0,results:{total:0,succeeded:[],failed:[],skipped:[]}};this._callbacks={onProgress:null,onComplete:null,onError:null};this._resolvePromise=null},_processQueue:function(){let e=this;if(this._state.isCancelled){this._finalize();return}if(this._state.currentIndex>=this._state.queue.length&&this._state.activeRequests===0){this._finalize();return}while(this._state.activeRequests<this._config.maxConcurrency&&this._state.currentIndex<this._state.queue.length&&!this._state.isCancelled){let t=this._state.queue[this._state.currentIndex];let s=this._state.currentIndex;this._state.currentIndex++;this._state.activeRequests++;if(this._callbacks.onProgress){this._callbacks.onProgress(t,s+1,this._state.results.total,"loading","Loading from storage...")}this._processQuery(t,s,0).then(function(r){e._state.activeRequests--;if(r.skipped){e._state.results.skipped.push({queryName:t,reason:r.reason});if(e._callbacks.onProgress){e._callbacks.onProgress(t,s+1,e._state.results.total,"skipped",r.reason)}}else if(r.success){e._state.results.succeeded.push({queryName:t,filtersDeleted:r.filtersDeleted,newETag:r.newETag});if(e._callbacks.onProgress){e._callbacks.onProgress(t,s+1,e._state.results.total,"success","Deleted "+r.filtersDeleted+" filter(s), uploaded successfully")}}else{e._state.results.failed.push({queryName:t,error:r.error,stage:r.stage});if(e._callbacks.onProgress){e._callbacks.onProgress(t,s+1,e._state.results.total,"failed",r.error)}}setTimeout(function(){e._processQueue()},e._config.delayBetweenRequests)}).catch(function(r){e._state.activeRequests--;e._state.results.failed.push({queryName:t,error:r.message,stage:"unknown"});if(e._callbacks.onProgress){e._callbacks.onProgress(t,s+1,e._state.results.total,"failed",r.message)}setTimeout(function(){e._processQueue()},e._config.delayBetweenRequests)})}},_processQuery:function(r,i,n){let o=this;return new Promise(function(a){t.getQuery(r).then(function(u){if(!u){a({success:false,error:"Query not found in local storage",stage:"load"});return}if(!u.xmlString){a({success:false,error:"Query has no XML content",stage:"load"});return}if(o._callbacks.onProgress){o._callbacks.onProgress(r,i+1,o._state.results.total,"transforming","Deleting filters...")}let c;try{l.debug(" XML string length:",u.xmlString?u.xmlString.length:0);l.debug(" XML string starts with:",u.xmlString?u.xmlString.substring(0,200):"null");let e=u.xmlString;if(e&&!e.trim().startsWith("<")){l.debug(" XML appears to be base64 encoded, decoding...");try{e=atob(e);l.debug(" Decoded XML starts with:",e.substring(0,200))}catch(e){l.debug(" Not base64, keeping original")}}let t=s.parseXML(e);l.debug(" Parsed XML, document element:",t.documentElement?t.documentElement.tagName:"null");let r=s.removeMessagesElements(t);let i=s.findMainComponent(t);let n=0;let f=[];if(o._config.removeFilters){let e=s.deleteFilterSelections(i,o._config.filtersToDelete);if(e>0){n+=e;f.push(e+" filter(s)")}}if(o._config.removeRows){let e=s.deleteRows(i,o._config.filtersToDelete);if(e>0){n+=e;f.push(e+" row(s)")}}if(o._config.removeColumns){let e=s.deleteColumns(i,o._config.filtersToDelete);if(e>0){n+=e;f.push(e+" column(s)")}}if(o._config.removeMembers){let e=s.deleteMembers(i,o._config.filtersToDelete);if(e>0){n+=e;f.push(e+" member(s)")}}if(o._config.removeFree){let e=s.deleteFree(i,o._config.filtersToDelete);if(e>0){n+=e;f.push(e+" free(s)")}}if(n===0){if(o._config.skipNoFilter){a({success:true,skipped:true,reason:"No matching InfoObjects found to delete"});return}else{a({success:false,error:"No matching InfoObjects found for: "+o._config.filtersToDelete.join(", "),stage:"transform"});return}}c={xmlString:s.serializeXML(t),filtersDeleted:n,deletionDetails:f.join(", "),messagesAttributesRemoved:r}}catch(e){a({success:false,error:"Transform error: "+e.message,stage:"transform"});return}if(o._callbacks.onProgress){let e="Uploading to SAP";if(c.deletionDetails){e+=" (deleted "+c.deletionDetails+")"}else{e+=" (deleted "+c.filtersDeleted+" element(s))"}e+="...";o._callbacks.onProgress(r,i+1,o._state.results.total,"uploading",e)}e.putBWQuery(r,c.xmlString,u.eTag).then(function(e){if(e.rc!==0){if(n<o._config.retryAttempts){l.debug(" Retrying upload for:",r);setTimeout(function(){o._processQuery(r,i,n+1).then(a)},o._config.retryDelay);return}a({success:false,error:e.msg,stage:"upload"});return}t.updateStatus(r,"uploaded",{transformationProfile:"FILTER_DELETE",transformationParams:{filtersDeleted:o._config.filtersToDelete,count:c.filtersDeleted},eTag:e.newETag,uploadResult:{success:true,message:"Uploaded after filter deletion",timestamp:new Date}}).then(function(){a({success:true,skipped:false,filtersDeleted:c.filtersDeleted,newETag:e.newETag})}).catch(function(t){l.warn("Storage update failed after upload:",t);a({success:true,skipped:false,filtersDeleted:c.filtersDeleted,newETag:e.newETag})})}).catch(function(e){if(n<o._config.retryAttempts){l.debug(" Retrying after upload error:",r);setTimeout(function(){o._processQuery(r,i,n+1).then(a)},o._config.retryDelay);return}a({success:false,error:"Upload error: "+e.message,stage:"upload"})})}).catch(function(e){a({success:false,error:"Load error: "+e.message,stage:"load"})})})},_finalize:function(){l.debug(" Finalizing. Results:",{total:this._state.results.total,succeeded:this._state.results.succeeded.length,failed:this._state.results.failed.length,skipped:this._state.results.skipped.length,cancelled:this._state.isCancelled});this._state.isRunning=false;let e={total:this._state.results.total,succeeded:this._state.results.succeeded,failed:this._state.results.failed,skipped:this._state.results.skipped,cancelled:this._state.isCancelled,filtersDeleted:this._config.filtersToDelete};if(this._callbacks.onComplete){this._callbacks.onComplete(e)}if(this._resolvePromise){this._resolvePromise(e)}}};return i});
},
	"astrobear/abaplorer/util/DDICSearchExecutor.js":function(){
sap.ui.define(["astrobear/abaplorer/model/ADTAdapter","astrobear/abaplorer/util/Logger"],function(n,t){"use strict";const e=t.getLogger("DDICSearchExecutor");const a={_config:{MAX_TABLES_PER_UNION:500,ENABLE_FALLBACK:true},configure:function(n){if(n.maxTablesPerUnion!==undefined){this._config.MAX_TABLES_PER_UNION=n.maxTablesPerUnion}if(n.enableFallback!==undefined){this._config.ENABLE_FALLBACK=n.enableFallback}},escapeSql:function(n){return String(n===undefined||n===null?"":n).replace(/'/g,"''")},getTables:async function(t){const e=t.replace(/\*/g,"%");const a=["SELECT DISTINCT hd~tabname, txt~ddtext","FROM dd02l AS hd","LEFT OUTER JOIN dd02t AS txt","ON txt~tabname = hd~tabname","AND txt~ddlanguage = 'E'","AND txt~as4local = 'A'","WHERE hd~tabname LIKE '"+e+"'","AND hd~as4local = 'A'","AND hd~tabclass = 'TRANSP'","ORDER BY hd~tabname"].join("\n");const i=await n.sqlDataPreview(a,0);if(i.rc!==0){throw new Error("Failed to get tables: "+i.msg)}return i.rows||[]},getTableFields:async function(t,e){let a=1;e.forEach(function(n){const t=n.data&&n.data("range")?n.data("range"):null;if(t&&t.value1){a=Math.max(a,String(t.value1).length)}});const i=this.getSearchDataTypes(e);const r=["SELECT fieldname, datatype, leng","FROM dd03l","WHERE tabname = '"+t+"'","AND as4local = 'A'","AND datatype IN ("+i+")","AND leng >= "+a,"AND fieldname NOT LIKE '.%'","AND fieldname NOT LIKE '/%'"].join("\n");const s=await n.sqlDataPreview(r,1e3);if(s.rc!==0){return[]}return s.rows||[]},getAllFieldsForPattern:async function(t,e,a){const i=this;const r=new Map;const s=t.replace(/\*/g,"%");let o=1;e.forEach(function(n){const t=n.data&&n.data("range")?n.data("range"):null;if(t&&t.value1){o=Math.max(o,String(t.value1).length)}});const c=this.getSearchDataTypes(e);const l=["SELECT tabname, fieldname, datatype, leng","FROM dd03l","WHERE tabname LIKE '"+this.escapeSql(s)+"'","AND as4local = 'A'","AND datatype IN ("+c+")","AND leng >= "+o,"AND fieldname NOT LIKE '.%'","AND fieldname NOT LIKE '/%'"].join("\n");const u=await n.sqlDataPreview(l,0);if(u.rc!==0){return r}(u.rows||[]).forEach(function(n){const t=n.TABNAME;if(!a.has(t)){return}if(!r.has(t)){r.set(t,[])}r.get(t).push({FIELDNAME:n.FIELDNAME,DATATYPE:n.DATATYPE,LENG:n.LENG})});return r},getSearchDataTypes:function(n){const t=["'CHAR'"];let e=false;let a=false;let i=false;n.forEach(function(n){const t=n.data&&n.data("range")?n.data("range"):null;if(t&&t.value1){const n=String(t.value1);if(/^\d+$/.test(n)){e=true;if(n.length===6)a=true;if(n.length===8)i=true}}});if(e){t.push("'NUMC'");if(a)t.push("'TIMS'");if(i)t.push("'DATS'")}return t.join(", ")},buildSearchConditionFromTokens:function(n,t){if(!n||n.length===0||!t||t.length===0){return"1=0"}const e=this;const a=[];const i=[];t.forEach(function(t){const r=t.data&&t.data("range")?t.data("range"):null;if(!r){const r=t.getText();const s=r.startsWith("!");const o=s?r.substring(1):r;const c=e.buildFieldConditionsForValue(n,o,"StartsWith");if(s){i.push(c)}else{a.push(c)}return}const s=e.buildFieldConditionsForRange(n,r);if(r.exclude){i.push(s)}else{a.push(s)}});const r=[];if(a.length>0){if(a.length===1){r.push(a[0])}else{r.push("("+a.join(")\nOR (")+")")}}if(i.length>0){const n=i.map(function(n){return"NOT ("+n+")"});r.push(n.join("\nAND "))}if(r.length===0){return"1=0"}return r.join("\nAND ")},buildFieldConditionsForRange:function(n,t){const e=this;const a=n.map(function(n){return e.buildSingleFieldCondition(n.FIELDNAME,t)});return a.join("\nOR ")},buildSingleFieldCondition:function(n,t){const e=this.escapeSql(String(t.value1||""));const a=t.operation;switch(a){case"StartsWith":return n+" LIKE '"+e+"%'";case"EndsWith":return n+" LIKE '%"+e+"'";case"Contains":return n+" LIKE '%"+e+"%'";case"LikePattern":return n+" LIKE '"+e.replace(/\*/g,"%")+"'";case"EQ":case"Equals":default:return n+" = '"+e+"'"}},buildFieldConditionsForValue:function(n,t,e){const a=this;const i={operation:e,value1:t};const r=n.map(function(n){return a.buildSingleFieldCondition(n.FIELDNAME,i)});return r.join("\nOR ")},searchTable:async function(t,e){const a=["SELECT COUNT(*) AS CNT","FROM "+t,"WHERE "+e].join("\n");const i=await n.sqlDataPreview(a,1);if(i.rc!==0){return 0}const r=i.rows||[];if(r.length>0&&r[0].CNT!==undefined){return parseInt(r[0].CNT,10)||0}return 0},buildUnionAllSQL:function(n){if(!n||n.length===0){return null}const t=this;const e=n.map(function(n){const e=t.escapeSql(n.tableName);return["SELECT '"+e+"' AS TABLE_NAME, COUNT(*) AS CNT","FROM "+n.tableName,"WHERE "+n.condition].join("\n")});return e.join("\nUNION ALL\n")},parseUnionAllResults:function(n){const t=new Map;if(n.rc!==0||!n.rows){return t}n.rows.forEach(function(n){const e=n.TABLE_NAME;const a=parseInt(n.CNT,10)||0;t.set(e,a)});return t},searchTablesBatch:async function(n,t){const e=this;const a=this._config.MAX_TABLES_PER_UNION;const i=new Map;if(!n||n.length===0){return i}const r=[];for(let t=0;t<n.length;t+=a){r.push(n.slice(t,t+a))}const s=r.map(function(n){return function(){return e.executeSubBatch(n)}});const o=await this.executeWithConcurrency(s,t);o.forEach(function(n){n.forEach(function(n,t){i.set(t,n)})});n.forEach(function(n){if(!i.has(n.tableName)){i.set(n.tableName,0)}});return i},fallbackToIndividualQueries:async function(n){const t=this;const a=new Map;for(const i of n){try{const n=await t.searchTable(i.tableName,i.condition);a.set(i.tableName,n)}catch(n){e.warn("Individual query failed for "+i.tableName,n);a.set(i.tableName,0)}}return a},executeSubBatch:async function(t){const a=new Map;const i=this.buildUnionAllSQL(t);if(!i){return a}try{const a=await n.sqlDataPreview(i,t.length);if(a.rc===0){return this.parseUnionAllResults(a)}else{e.warn("UNION ALL sub-batch query returned error:",a.msg);if(this._config.ENABLE_FALLBACK){return this.fallbackToIndividualQueries(t)}}}catch(n){e.error("UNION ALL sub-batch query failed:",n);if(this._config.ENABLE_FALLBACK){return this.fallbackToIndividualQueries(t)}}return a},executeWithConcurrency:async function(n,t){const e=[];const a=[];for(const i of n){const r=Promise.resolve().then(function(){return i()});e.push(r);if(t<=n.length){const n=r.then(function(){a.splice(a.indexOf(n),1)});a.push(n);if(a.length>=t){await Promise.race(a)}}}return Promise.all(e)},loadPreviewData:async function(t,e,a){const i=["SELECT *","FROM "+t,"WHERE "+e].join("\n");const r=await n.sqlDataPreview(i,a);return{columns:r.columns||[],rows:r.rows||[],rc:r.rc,msg:r.msg}}};return a});
},
	"astrobear/abaplorer/util/DeltaHelper.js":function(){
sap.ui.define(["sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/Dialog","sap/m/List","sap/m/StandardListItem","sap/m/Button","sap/m/Popover","sap/m/VBox","sap/m/FormattedText"],function(e,t,o,n,s,l,r,i,a){"use strict";const c={updateDelta:function(e){const t=e.getModel();const o=!!t.getProperty("/remote/enabled");const n=!!t.getProperty("/compare/showDelta");if(!o||!n){t.setProperty("/deltaResult",{rows:[],columns:[]});return}const s=t.getProperty("/sqlResult")||{};const l=t.getProperty("/remoteResult")||{};const r=s.columns||[];const i=s.rows||[];const a=l.rows||[];const c=t.getProperty("/local/systemName")||"LOCAL";const u=t.getProperty("/remote/selectedName")||"REMOTE";const p=t.getProperty("/compare/deltaKeys")||[];const m=p.filter(e=>r.some(t=>t.name===e));const d=m.length?m:[r?.[0]?.name].filter(Boolean);if(!d.length){t.setProperty("/deltaResult",{columns:[{name:"info"}],rows:[{info:"No columns available to compute delta."}]});return}const f=t.getProperty("/compare/deltaTypeFilter")||"";const y=f==="INNER_JOIN";const g=this._computeDelta(d,i,a,r,c,u,{includeInnerJoin:y,activeFilter:f});t.setProperty("/deltaResult",g);this.applyDeltaTypeFilter(e);this._updateVisibleDeltaCount(e);this._autoResize(e,g.columns)},openKeyFieldsDialog:function(e){const t=e.getModel();const o=t.getProperty("/sqlResult/columns")||[];if(!o.length){sap.m.MessageToast.show("Run SQL first to load columns");return}if(!e._oKeyDlg){e._oKeyDlg=this._createKeyFieldsDialog(e);e.addDependent(e._oKeyDlg)}const n=t.getProperty("/compare/deltaKeys")||[];const s=e._oKeyDlg.getContent()[0];s.removeSelections(true);s.getItems().forEach(e=>{const t=e.getBindingContext().getObject().name;if(n.includes(t)){s.setSelectedItem(e,true)}});e._oKeyDlg.open()},_createKeyFieldsDialog:function(e){const t=new n({mode:sap.m.ListMode.MultiSelect,includeItemInSelection:true,items:{path:"/sqlResult/columns",template:new s({title:"{name}"})}});t.setModel(e.getModel());const r=new o({title:"Select Columns to Compare",contentWidth:"28rem",contentHeight:"24rem",resizable:true,draggable:true,content:[t],buttons:[new l({text:"Select All",press:function(){t.selectAll()}}),new l({text:"Clear All",press:function(){t.removeSelections(true)}}),new l({text:"Apply",type:sap.m.ButtonType.Emphasized,press:function(){const o=t.getSelectedItems().map(e=>e.getBindingContext().getObject().name);e.getModel().setProperty("/compare/deltaKeys",o);this.updateDelta(e);r.close()}.bind(this)}),new l({text:"Cancel",press:function(){r.close()}})]});return r},destroy:function(e){if(e._oKeyDlg){e._oKeyDlg.destroy();e._oKeyDlg=null}if(e._oDeltaFilterInfoPopover){e._oDeltaFilterInfoPopover.destroy();e._oDeltaFilterInfoPopover=null}},applyDeltaTypeFilter:function(o){const n=o.getModel();const s=n.getProperty("/compare/deltaTypeFilter")||"";const l=o.byId("deltaResultTable");if(!l)return;const r=l.getBinding("rows");if(!r)return;if(!s){r.filter([]);this._updateVisibleDeltaCount(o);return}if(s==="INNER_JOIN"){const n=new e([new e("__deltaTypeCode",t.EQ,"INNER_JOIN"),new e("__deltaTypeCode",t.EQ,"DIFFERENT")],false);r.filter([n]);this._updateVisibleDeltaCount(o);return}r.filter([new e("__deltaTypeCode",t.EQ,s)]);this._updateVisibleDeltaCount(o)},openDeltaFilterInfo:function(e,t){if(!e._oDeltaFilterInfoPopover){const t=new a({htmlText:{parts:[{path:"/local/systemName"},{path:"/remote/selectedName"}],formatter:function(e,t){e=e||"Local";t=t||"Remote";return"<ul style='margin:0;padding-left:1.2rem'>"+"<li> <strong>All:</strong> show all delta rows.</li>"+"<li> <strong>Only "+e+":</strong> rows that exist only in local system.</li>"+"<li> <strong>Only "+t+":</strong> rows that exist only in remote system.</li>"+"<li> <strong>Intersect:</strong> rows that exist in both (based on compared columns).</li>"+"<li> <strong>Difference:</strong> rows where both exist but values differ (based on compared columns).</li>"+"</ul>"}}});t.setModel(e.getModel());e._oDeltaFilterInfoPopover=new r({title:"Delta filter meaning",placement:"Bottom",showHeader:true,contentWidth:"28rem",content:[new i({renderType:"Bare",items:[t]})]});e.addDependent(e._oDeltaFilterInfoPopover)}e._oDeltaFilterInfoPopover.openBy(t)},_computeDelta:function(e,t,o,n,s,l,r){r=r||{};const i=!!r.includeInnerJoin;const a=r.activeFilter||"";const c=a==="DIFFERENT";const u=`${s}, ${l}`;const p=n.map(e=>e.name);const m=t=>e.map(e=>String(t?.[e]??"")).join("|");const d=new Map(t.map(e=>[m(e),e]));const f=new Map(o.map(e=>[m(e),e]));const y=Array.from(new Set([...d.keys(),...f.keys()])).sort();const g=[];for(const t of y){const o=d.get(t);const n=f.get(t);if(o&&!n){g.push(this._row(e,o,"ONLY_LOCAL",s));continue}if(!o&&n){g.push(this._row(e,n,"ONLY_REMOTE",l));continue}const r=p.filter(t=>!e.includes(t)&&String(o?.[t]??"")!==String(n?.[t]??""));if(r.length){g.push({...this._keys(e,o),__deltaTypeCode:"DIFFERENT",System:u,diffColumns:r.join(", ")})}else if(i){g.push({...this._keys(e,o),__deltaTypeCode:"INNER_JOIN",System:u,diffColumns:""})}}const _=[...e.map(e=>({name:e})),{name:"System"}];if(c){_.push({name:"diffColumns"})}return{columns:_,rows:g}},_keys:function(e,t){const o={};e.forEach(e=>o[e]=t?.[e]);return o},_row:function(e,t,o,n){return{...this._keys(e,t),__deltaTypeCode:o,System:n,diffColumns:""}},_autoResize:function(e,t){setTimeout(()=>{const o=e.byId("deltaResultTable");if(!o||!t?.length)return;t.forEach((e,t)=>o.autoResizeColumn(t))},0)},_updateVisibleDeltaCount:function(e){var t=e.getModel();var o=e.byId("deltaResultTable");if(!o){t.setProperty("/deltaResult/visibleRowCount",0);return}var n=o.getBinding("rows");if(!n){t.setProperty("/deltaResult/visibleRowCount",0);return}var s=n.getLength();if(typeof s!=="number"||s<0){s=0}t.setProperty("/deltaResult/visibleRowCount",s)}};return c});
},
	"astrobear/abaplorer/util/DownloadHelper.js":function(){
sap.ui.define(["sap/m/ActionSheet","sap/m/Button","sap/m/MessageToast","sap/ui/export/Spreadsheet"],function(e,o,t,n){"use strict";function a(e,o){const t=e.getProperty("/local/systemName")||"Local";const n=e.getProperty("/remoteResult/systemName")||e.getProperty("/remote/selectedName")||"Remote";const a=(new Date).toISOString().replace(/[:.]/g,"-");if(o==="remote")return`sql_${n}_${a}`;if(o==="delta")return`sql_delta_${t}_vs_${n}_${a}`;return`sql_${t}_${a}`}function s(e,o){if(o==="delta"){const o=e.getProperty("/deltaResult")||{};return{columns:o.columns||[],rows:o.rows||[]}}if(o==="remote"){return{columns:e.getProperty("/remoteResult/columns")||[],rows:e.getProperty("/remoteResult/rows")||[]}}const t=e.getProperty("/sqlResult")||{};return{columns:t.columns||[],rows:t.rows||[]}}function l(e,o,t){const n=o.map(e=>e.name);const a=e=>{const o=e===null||e===undefined?"":String(e);return/[",\n\r]/.test(o)?`"${o.replace(/"/g,'""')}"`:o};const s=[];s.push(n.map(a).join(","));for(const e of t){s.push(n.map(o=>a(e?.[o])).join(","))}const l=s.join("\r\n");const r=new Blob(["\ufeff"+l],{type:"text/csv;charset=utf-8"});const c=URL.createObjectURL(r);const d=document.createElement("a");d.href=c;d.download=e;document.body.appendChild(d);d.click();d.remove();URL.revokeObjectURL(c)}function r(e,o,t){const a=o.map(e=>e.name);const s=a.map(e=>({label:e,property:e,type:"string"}));const l=new n({workbook:{columns:s},dataSource:t,fileName:e});l.build().finally(()=>l.destroy())}function c(n,c){const d=n.getModel();const m=s(d,c);if(!m.columns.length){t.show("Nothing to download (no columns).");return}if(n._oDownloadFormatSheet){n._oDownloadFormatSheet.destroy();n._oDownloadFormatSheet=null}n._oDownloadFormatSheet=new e({title:"Format",buttons:[new o({text:"CSV",icon:"sap-icon://download",press:function(){const e=a(d,c)+".csv";l(e,m.columns,m.rows);n._oDownloadFormatSheet.close()}}),new o({text:"XLSX",icon:"sap-icon://excel-attachment",press:function(){const e=a(d,c)+".xlsx";r(e,m.columns,m.rows);n._oDownloadFormatSheet.close()}})],placement:sap.m.PlacementType.Bottom});n.addDependent(n._oDownloadFormatSheet);const u=n.byId("downloadBtn")||n.byId("inputRowLimit")||n;n._oDownloadFormatSheet.openBy(u)}function d(t,n){const a=t.getModel();const s=!!a.getProperty("/remote/enabled");const l=!!a.getProperty("/compare/showDelta");if(t._oDownloadWhatSheet){t._oDownloadWhatSheet.destroy();t._oDownloadWhatSheet=null}const r=[new o({text:"Local Table",press:function(){c(t,"local");t._oDownloadWhatSheet.close()}})];if(s){r.push(new o({text:"Remote Table",press:function(){c(t,"remote");t._oDownloadWhatSheet.close()}}))}if(s&&l){r.push(new o({text:"Delta Table",press:function(){c(t,"delta");t._oDownloadWhatSheet.close()}}))}t._oDownloadWhatSheet=new e({title:"Download",buttons:r,placement:sap.m.PlacementType.Bottom});t.addDependent(t._oDownloadWhatSheet);t._oDownloadWhatSheet.openBy(n)}function m(e){if(e._oDownloadWhatSheet){e._oDownloadWhatSheet.destroy();e._oDownloadWhatSheet=null}if(e._oDownloadFormatSheet){e._oDownloadFormatSheet.destroy();e._oDownloadFormatSheet=null}}return{openDownloadSheet:d,destroy:m}});
},
	"astrobear/abaplorer/util/Logger.js":function(){
sap.ui.define([],function(){"use strict";const e={DEBUG:0,INFO:1,WARN:2,ERROR:3,NONE:4};const t={0:"DEBUG",1:"INFO",2:"WARN",3:"ERROR"};function s(){const e=Date.now().toString(36);const t=Math.random().toString(36).substr(2,6);return e+"-"+t}function n(e){const t=[];for(let s=0;s<e.length;s++){const n=e[s];if(n===null){t.push("null")}else if(n===undefined){t.push("undefined")}else if(typeof n==="string"){t.push(n)}else if(typeof n==="number"||typeof n==="boolean"){t.push(String(n))}else if(n instanceof Error){t.push(n.message+(n.stack?"\n"+n.stack:""))}else if(typeof n==="object"){try{const e=JSON.stringify(n,null,0);t.push(e.length>1e3?e.substring(0,1e3)+"...":e)}catch(e){t.push("[Object]")}}else{t.push(String(n))}}return t.join(" ")}const i={_minLevel:e.DEBUG,_prefix:"[ABAPlorer]",Level:e,_persistenceEnabled:true,_persistenceMinLevel:e.INFO,_buffer:[],_bufferSize:50,_flushIntervalMs:5e3,_flushTimer:null,_sessionId:s(),_logStorageLoaded:false,_logStorage:null,setLevel:function(t){if(t>=e.DEBUG&&t<=e.NONE){this._minLevel=t}},getLevel:function(){return this._minLevel},setPrefix:function(e){this._prefix=e},enablePersistence:function(e){this._persistenceEnabled=e;if(!e&&this._flushTimer){clearInterval(this._flushTimer);this._flushTimer=null}else if(e&&!this._flushTimer){this._startFlushTimer()}},setPersistenceLevel:function(t){if(t>=e.DEBUG&&t<=e.ERROR){this._persistenceMinLevel=t}},getSessionId:function(){return this._sessionId},_startFlushTimer:function(){if(this._flushTimer){return}this._flushTimer=setInterval(()=>{this.flushBuffer()},this._flushIntervalMs)},_loadLogStorage:function(){if(this._logStorageLoaded){return Promise.resolve(this._logStorage)}return new Promise(e=>{sap.ui.require(["astrobear/abaplorer/model/LogStorage"],t=>{this._logStorage=t;this._logStorageLoaded=true;t.init().then(()=>{e(t)}).catch(t=>{console.warn("[Logger] Failed to initialize LogStorage:",t);this._persistenceEnabled=false;e(null)})},t=>{console.warn("[Logger] Failed to load LogStorage:",t);this._persistenceEnabled=false;e(null)})})},flushBuffer:function(){if(!this._persistenceEnabled||this._buffer.length===0){return Promise.resolve()}const e=this._buffer.slice();this._buffer=[];return this._loadLogStorage().then(t=>{if(t){return t.addLogs(e).catch(t=>{console.warn("[Logger] Failed to persist logs:",t);const s=this._bufferSize-this._buffer.length;if(s>0){this._buffer=e.slice(0,s).concat(this._buffer)}})}})},_persistLogEntry:function(s,i,o){if(!this._persistenceEnabled||s<this._persistenceMinLevel){return}const r={timestamp:new Date,level:t[s]||"INFO",levelNum:s,module:i||"Root",message:n(o),sessionId:this._sessionId};this._buffer.push(r);if(s===e.ERROR||this._buffer.length>=this._bufferSize){this.flushBuffer()}},_formatMessage:function(e,t){const s=(new Date).toISOString();const n=this._prefix+" ["+e+"] "+s+" -";return[n].concat(Array.from(t))},debug:function(){if(this._minLevel<=e.DEBUG){console.log.apply(console,this._formatMessage("DEBUG",arguments))}this._persistLogEntry(e.DEBUG,null,arguments)},info:function(){if(this._minLevel<=e.INFO){console.info.apply(console,this._formatMessage("INFO",arguments))}this._persistLogEntry(e.INFO,null,arguments)},warn:function(){if(this._minLevel<=e.WARN){console.warn.apply(console,this._formatMessage("WARN",arguments))}this._persistLogEntry(e.WARN,null,arguments)},error:function(){if(this._minLevel<=e.ERROR){console.error.apply(console,this._formatMessage("ERROR",arguments))}this._persistLogEntry(e.ERROR,null,arguments)},log:function(t){const s=Array.prototype.slice.call(arguments,1);switch(t){case e.DEBUG:this.debug.apply(this,s);break;case e.INFO:this.info.apply(this,s);break;case e.WARN:this.warn.apply(this,s);break;case e.ERROR:this.error.apply(this,s);break}},getLogger:function(t){const s=this;const n=this._prefix+" ["+t+"]";return{debug:function(){if(s._minLevel<=e.DEBUG){const e=(new Date).toISOString();const t=n+" [DEBUG] "+e+" -";console.log.apply(console,[t].concat(Array.from(arguments)))}s._persistLogEntry(e.DEBUG,t,arguments)},info:function(){if(s._minLevel<=e.INFO){const e=(new Date).toISOString();const t=n+" [INFO] "+e+" -";console.info.apply(console,[t].concat(Array.from(arguments)))}s._persistLogEntry(e.INFO,t,arguments)},warn:function(){if(s._minLevel<=e.WARN){const e=(new Date).toISOString();const t=n+" [WARN] "+e+" -";console.warn.apply(console,[t].concat(Array.from(arguments)))}s._persistLogEntry(e.WARN,t,arguments)},error:function(){if(s._minLevel<=e.ERROR){const e=(new Date).toISOString();const t=n+" [ERROR] "+e+" -";console.error.apply(console,[t].concat(Array.from(arguments)))}s._persistLogEntry(e.ERROR,t,arguments)}}}};if(window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1"||window.location.search.includes("sap-ui-debug=true")){i.setLevel(e.DEBUG)}else{i.setLevel(e.INFO)}i._startFlushTimer();window.addEventListener("beforeunload",function(){if(i._buffer.length>0&&i._logStorage){try{i._logStorage.addLogs(i._buffer)}catch(e){}}});document.addEventListener("visibilitychange",function(){if(document.visibilityState==="hidden"){i.flushBuffer()}});return i});
},
	"astrobear/abaplorer/util/ModelBatcher.js":function(){
sap.ui.define([],function(){"use strict";return{batchUpdate:function(t,e){if(!t||!e){return}const n=JSON.parse(JSON.stringify(t.getData()));for(const t in e){if(Object.prototype.hasOwnProperty.call(e,t)){this._setNestedProperty(n,t,e[t])}}t.setData(n)},_setNestedProperty:function(t,e,n){const r=e.replace(/^\//,"").split("/");let s=t;for(let t=0;t<r.length-1;t++){const e=r[t];if(s[e]===undefined||s[e]===null){s[e]={}}s=s[e]}s[r[r.length-1]]=n},createBatcher:function(t){const e=this;return function(n){e.batchUpdate(t,n)}}}});
},
	"astrobear/abaplorer/util/SoapRfcAdapter.js":function(){
sap.ui.define(["astrobear/abaplorer/util/Logger"],function(e){"use strict";const t=e.getLogger("SoapRfcAdapter");let n={buildSOAPEnvelope:function(e,t,n,o){let r="";if(o&&(e==="POST"||e==="PUT")){const e=new TextEncoder;const t=e.encode(o);let n="";for(let e=0;e<t.length;e++){n+=String.fromCharCode(t[e])}const s=btoa(n);r=`<MESSAGE_BODY>${s}</MESSAGE_BODY>`}let s="";if(n){s+="<HEADER_FIELDS>";for(let e in n){if(n.hasOwnProperty(e)){s+=`\n          <item>\n            <NAME>${this._escapeXml(e)}</NAME>\n            <VALUE>${this._escapeXml(n[e])}</VALUE>\n          </item>`}}s+="</HEADER_FIELDS>"}return`<?xml version="1.0" encoding="UTF-8"?>\n<soapenv:Envelope xmlns:soapenv="http://schemas.xmlsoap.org/soap/envelope/"\n                  xmlns:urn="urn:sap-com:document:sap:rfc:functions">\n  <soapenv:Header/>\n  <soapenv:Body>\n    <urn:SADT_REST_RFC_ENDPOINT>\n      <REQUEST>\n        <REQUEST_LINE>\n          <METHOD>${e}</METHOD>\n          <URI>${this._escapeXml(t)}</URI>\n          <VERSION></VERSION>\n        </REQUEST_LINE>\n        ${s}\n       \n        ${r}\n      </REQUEST>\n    </urn:SADT_REST_RFC_ENDPOINT>\n  </soapenv:Body>\n</soapenv:Envelope>`.trim()},_escapeXml:function(e){if(!e)return"";return String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")},parseSOAPResponse:function(e){const n=new DOMParser;const o=n.parseFromString(e,"text/xml");const r=o.querySelector("parsererror");if(r){throw new Error("XML parsing error: "+r.textContent)}const s=o.querySelector("SOAP-ENV\\:Fault, Fault, soapenv\\:Fault");if(s){const e=s.querySelector("faultstring")?.textContent||"SOAP Fault";const t=s.querySelector("detail")?.textContent||"";throw new Error("SOAP Fault: "+e+(t?" - "+t:""))}const a=o.querySelector("STATUS_CODE, STATUS_LINE CODE, CODE, status_code, status_line code, code")?.textContent;const u=o.querySelector("REASON_PHRASE, STATUS_LINE REASON, REASON, reason_phrase, status_line reason, reason")?.textContent;t.debug(" parseSOAPResponse - statusCode raw:",a);t.debug(" parseSOAPResponse - statusReason raw:",u);if(!a){t.error(" Could not find status code. Document structure:");t.debug(o.documentElement.outerHTML.substring(0,1500));throw new Error("Could not find status code in SOAP response")}const c=o.querySelectorAll("HEADER_FIELDS item, header_fields item, item");const l={};c.forEach(e=>{const t=e.querySelector("NAME, name")?.textContent;const n=e.querySelector("VALUE, value")?.textContent;if(t&&n){l[t]=n}});const d=o.querySelector("MESSAGE_BODY, message_body")?.textContent;let p=null;if(d&&d.trim()){try{const e=atob(d.trim());const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++){t[n]=e.charCodeAt(n)}const n=new TextDecoder("utf-8");p=n.decode(t)}catch(e){t.error("Failed to decode response body:",e);t.error("Base64 content:",d.substring(0,100)+"...");p=null}}return{statusCode:parseInt(a),statusReason:u||"Unknown",headers:l,body:p,ok:a&&parseInt(a)>=200&&parseInt(a)<300}},call:function(e,n,o,r){const s=this.buildSOAPEnvelope(e,n,o,r);console.group(" SoapRfcAdapter REQUEST");t.debug("Method:",e);t.debug("URI:",n);t.debug("Headers:",o);t.debug("Body length:",r?r.length:0);t.debug("SOAP Envelope:");t.debug(s);console.groupEnd();const a=new Headers;a.append("Content-Type","application/soap+xml; charset=utf-8");return fetch("/sap/bc/soap/rfc",{method:"POST",headers:a,body:s}).then(e=>{t.debug(" SoapRfcAdapter HTTP Response:",e.status,e.statusText);if(!e.ok){throw new Error(`HTTP ${e.status}: ${e.statusText}`)}return e.text()}).then(e=>{console.group(" SoapRfcAdapter RESPONSE (raw SOAP)");t.debug("SOAP XML length:",e.length);t.debug("SOAP XML (first 2000 chars):");t.debug(e.substring(0,2e3));if(e.length>2e3){t.debug("... [truncated, full length:",e.length,"]")}console.groupEnd();const n=this.parseSOAPResponse(e);console.group(" SoapRfcAdapter RESPONSE (parsed)");t.debug("Status:",n.statusCode,n.statusReason);t.debug("OK:",n.ok);t.debug("Headers:",n.headers);t.debug("Body length:",n.body?n.body.length:0);if(n.body){t.debug("Body (first 1000 chars):");t.debug(n.body.substring(0,1e3));if(n.body.length>1e3){t.debug("... [truncated]")}}console.groupEnd();return n}).catch(e=>{console.group(" SoapRfcAdapter ERROR");t.error("Error:",e.message);t.error("Stack:",e.stack);console.groupEnd();throw new Error("SOAP/RFC call failed: "+e.message)})},get:function(e,t){return this.call("GET",e,t,null)},post:function(e,t,n){return this.call("POST",e,t,n)},put:function(e,t,n){return this.call("PUT",e,t,n)},delete:function(e,t){return this.call("DELETE",e,t,null)}};return n});
},
	"astrobear/abaplorer/util/XMLTreeParser.js":function(){
sap.ui.define([],function(){"use strict";let e={parse:function(e,t){t=t||{};const n=t.maxDepth||50;const r=t.maxChildren||1e3;const i=t.truncateText||200;const o=performance.now();let a=0;let s=0;const l=new DOMParser;const u=l.parseFromString(e,"application/xml");const c=u.querySelector("parsererror");if(c){return{nodes:[{id:"error",name:"Parse Error",type:"error",value:c.textContent,children:[],expanded:true}],stats:{totalNodes:1,maxDepth:0,parseTime:performance.now()-o,error:true}}}function d(e,t,o){if(t>n){return{id:`node_${a++}`,name:"...",type:"truncated",value:`Max depth (${n}) reached`,children:[],expanded:false}}s=Math.max(s,t);a++;let l=e.tagName;const u=[];for(let t=0;t<e.attributes.length;t++){const n=e.attributes[t];if(!n.name.startsWith("xmlns")){u.push({name:n.name,value:n.value.length>i?n.value.substring(0,i)+"...":n.value})}}let c="";for(let t of e.childNodes){if(t.nodeType===Node.TEXT_NODE){const e=t.textContent.trim();if(e){c+=e}}}if(c.length>i){c=c.substring(0,i)+"..."}const f=[];let h=0;for(let n of e.children){if(h>=r){f.push({id:`node_${a++}`,name:`... (${e.children.length-r} more)`,type:"truncated",value:`Max children (${r}) reached`,children:[],expanded:false});break}f.push(d(n,t+1,h));h++}let m="element";if(f.length>0){m="container"}else if(c){m="value"}else if(u.length>0){m="element-attrs"}return{id:`node_${a}`,name:l,type:m,value:c,attributes:u,children:f,childCount:e.children.length,expanded:t<2,depth:t}}const f=d(u.documentElement,0,0);return{nodes:[f],stats:{totalNodes:a,maxDepth:s,parseTime:Math.round(performance.now()-o)}}},flatten:function(e){const t=[];function n(e,r){for(const i of e){t.push({...i,level:r,hasChildren:i.children&&i.children.length>0});if(i.children&&i.expanded){n(i.children,r+1)}}}n(e,0);return t},getIcon:function(e){switch(e){case"container":return"sap-icon://folder-blank";case"element":return"sap-icon://document";case"element-attrs":return"sap-icon://document-text";case"value":return"sap-icon://text";case"truncated":return"sap-icon://overflow";case"error":return"sap-icon://error";default:return"sap-icon://document"}},_friendlyNames:{"Qry:Query":"Query","Qry:MainComponent":"Main Component","Qry:GlobalComponent":"Global Component","Qry:filter":"Filter (Festwert)","Qry:selections":"Selection","Qry:tokens":"Filter Value","Qry:localDimension":"Dimension Settings","Qry:readMode":"Read Mode","Qry:hierarchy":"Hierarchy","Qry:f4accessVariables":"F4 Variables","Qry:rows":"Row Dimension","Qry:columns":"Column Dimension","Qry:freeCharacteristics":"Free Characteristic","Qry:members":"Key Figure Members","Qry:defaultHint":"Default Selection","Qry:resultPosition":"Result Position","Qry:zeroSuppression":"Zero Suppression","Qry:displaySettings":"Display Settings"},_hiddenAttrs:["uid","key","xmlns","xsi:type"],_priorityAttrs:["infoObject","infoObjectName","name","value","type","sign","option","low","high","active","default"],formatNode:function(e){let t=this._friendlyNames[e.name]||e.name.replace("Qry:","");if(e.attributes&&e.attributes.length>0){let n=this;let r=e.attributes.filter(function(e){return!n._hiddenAttrs.some(function(t){return e.name.startsWith(t)||e.name.includes(t)})});r.sort(function(e,t){let r=n._priorityAttrs.indexOf(e.name);let i=n._priorityAttrs.indexOf(t.name);if(r===-1)r=999;if(i===-1)i=999;return r-i});r=r.slice(0,4);if(r.length>0){let e=r.map(function(e){let t=e.value.length>30?e.value.substring(0,27)+"...":e.value;return e.name+'="'+t+'"'}).join(" ");t+=" ["+e+"]"}}if(e.value){let n=e.value.length>50?e.value.substring(0,47)+"...":e.value;t+=' = "'+n+'"'}if(e.childCount>0){t+=" ("+e.childCount+")"}return t},search:function(e,t){const n=[];const r=t.toLowerCase();function i(e){for(const t of e){if(t.name.toLowerCase().includes(r)){n.push(t.id)}else if(t.value&&t.value.toLowerCase().includes(r)){n.push(t.id)}else if(t.attributes){for(const e of t.attributes){if(e.name.toLowerCase().includes(r)||e.value.toLowerCase().includes(r)){n.push(t.id);break}}}if(t.children){i(t.children)}}}i(e);return n},expandToNode:function(e,t){function n(e){for(const r of e){if(r.id===t){return true}if(r.children&&n(r.children)){r.expanded=true;return true}}return false}n(e);return e}};return e});
},
	"astrobear/abaplorer/view/ABAPEditor/CodeDiffDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><Dialog\n        title="Code Diff - Review Changes"\n        contentWidth="800px"\n        contentHeight="500px"\n        stretch="{device>/system/phone}"><content><ScrollContainer\n                height="100%"\n                width="100%"\n                vertical="true"\n                horizontal="true"><core:HTML content="{/agent/diffHtml}" /></ScrollContainer></content><beginButton><Button\n                text="Apply Changes"\n                type="Emphasized"\n                icon="sap-icon://accept"\n                press=".onApplyCode" /></beginButton><endButton><Button\n                text="Cancel"\n                press=".onCancelDiff" /></endButton></Dialog></core:FragmentDefinition>\n',
	"astrobear/abaplorer/view/BWDisplayIOBJ.view.xml":'<mvc:View controllerName="astrobear.abaplorer.controller.BWDisplayIOBJ" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\n  xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" xmlns:ce="sap.ui.codeeditor" xmlns:ut="sap.ui.table"\n  xmlns:f="sap.ui.layout.form" height="100%" displayBlock="true"><l:FixFlex vertical="true"><l:fixContent><OverflowToolbar><Button text="Download Metadata" type="Ghost" icon="sap-icon://download" press="onDownloadMetadata" /><Button text="Export as Datasphere CSN" type="Ghost" icon="sap-icon://action" press="onExportAsCSN" /></OverflowToolbar></l:fixContent><l:flexContent><VBox binding="{/IOBJMetadata/iobj}"><f:SimpleForm editable="false" layout="ResponsiveGridLayout" title="General"><f:content><core:Title text="Name" /><Label text="Technical Name" /><Text text="{name}" /><Label text="Description" /><Text text="{longDescription}" /><Label text="Short Description" /><Text text="{shortDescription}" /><core:Title text="Data Type" /><Label text="Data Element" /><Text text="{dataElement}" /><core:Title text="Properties" /><VBox><CheckBox displayOnly="true" text="Master data" selected="{masterDataProperties/withMasterData}" /><CheckBox displayOnly="true" text="Text" selected="{textProperties/withTexts}" /><CheckBox displayOnly="true" text="Hierarchy" selected="{hierarchyProperties/withHierarchies}" /></VBox></f:content></f:SimpleForm><f:SimpleForm editable="false" layout="ResponsiveGridLayout" title="Master Data" visible="{masterDataProperties/withMasterData}"><f:content></f:content></f:SimpleForm><f:SimpleForm editable="false" layout="ResponsiveGridLayout" title="Text" visible="{textProperties/withTexts}"><f:content></f:content></f:SimpleForm><f:SimpleForm editable="false" layout="ResponsiveGridLayout" title="Hierarchy" visible="{hierarchyProperties/withHierarchies}"><f:content></f:content></f:SimpleForm><f:SimpleForm editable="false" layout="ResponsiveGridLayout" title="DDIC"><f:content></f:content></f:SimpleForm></VBox></l:flexContent></l:FixFlex></mvc:View>',
	"astrobear/abaplorer/view/DDICSearch/DDICSearch.view.xml":'<mvc:View\n  controllerName="astrobear.abaplorer.controller.DDICSearch.DDICSearch"\n  xmlns:mvc="sap.ui.core.mvc"\n  xmlns="sap.m"\n  xmlns:l="sap.ui.layout"\n  xmlns:f="sap.ui.layout.form"\n  xmlns:ut="sap.ui.table"\n  xmlns:rowmodes="sap.ui.table.rowmodes"\n  height="100%"\n  displayBlock="true"><l:FixFlex vertical="true"><l:fixContent><OverflowToolbar><Title text="DDIC Table Full Text Search" /><ToolbarSpacer /></OverflowToolbar></l:fixContent><l:flexContent><l:FixFlex vertical="true"><l:fixContent><Panel\n            id="searchConfigPanel"\n            headerText="Search Configuration"\n            expandable="true"\n            expanded="{/ui/searchExpanded}"><VBox><OverflowToolbar><ToolbarSpacer /><Button\n                  text="Run"\n                  type="Emphasized"\n                  icon="sap-icon://media-play"\n                  press="onRunSearch"\n                  enabled="{= !${/progress/isRunning} }" /><Button\n                  text="Stop"\n                  type="Reject"\n                  icon="sap-icon://stop"\n                  press="onStopSearch"\n                  visible="{/progress/isRunning}" /></OverflowToolbar><f:SimpleForm\n                editable="true"\n                layout="ResponsiveGridLayout"\n                labelSpanXL="2" labelSpanL="3" labelSpanM="4" labelSpanS="12"\n                emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0"\n                columnsXL="2" columnsL="2" columnsM="1"\n                class="sapUiTinyMarginBeginEnd"><f:content><Label text="Search Text" labelFor="filterTokens" /><MultiInput\n                    id="filterTokens"\n                    valueHelpOnly="false"\n                    showValueHelp="true"\n                    valueHelpRequest="onFilterVHRequested"\n                    placeholder="Type pattern and press Enter (e.g., VALUE*, *PATTERN*, !EXCLUDE*)" /><Label text="Table Pattern" labelFor="tablePatternInput" /><Input\n                    id="tablePatternInput"\n                    value="{/search/tablePattern}"\n                    placeholder="e.g., Z*, RSDI*, *CUST*" /><Label text="Batch Size" labelFor="batchSizeInput" /><StepInput\n                    id="batchSizeInput"\n                    value="{/search/batchSize}"\n                    min="1"\n                    max="120"\n                    step="1"\n                    fieldWidth="15%"\n                    width="15rem"\n                    textAlign="Center"\n                    description="tables" /><Label text="Concurrency" labelFor="concurrencyInput" /><StepInput\n                    id="concurrencyInput"\n                    value="{/search/concurrency}"\n                    min="1"\n                    max="100"\n                    step="1"\n                    fieldWidth="15%"\n                    width="15rem"\n                    textAlign="Center"\n                    description="parallel requests"\n                    enabled="{= !${/progress/isRunning}}" /><Label text="" visible="false"/><CheckBox\n                    id="onlyPositiveCheck"\n                    text="Show only tables with matches"\n                    selected="{/search/onlyPositive}" \n                    visible="false"/></f:content></f:SimpleForm><MessageStrip\n                text="Search DDIC tables by pattern. Add filter expressions to search within table contents. Use * as wildcard. Press tab to complete pattern"\n                type="Information"\n                showIcon="true"\n                class="sapUiTinyMarginBottom sapUiTinyMarginBeginEnd" /><Panel visible="{/progress/isRunning}" class="sapUiTinyMarginBeginEnd"><l:HorizontalLayout class="sapUiSmallMarginBottom"><Text\n                    text="Progress: {/progress/current} of {/progress/total} tables searched"\n                    class="sapUiSmallMarginEnd" /></l:HorizontalLayout><ProgressIndicator\n                  percentValue="{/progress/percentage}"\n                  displayValue="{/progress/percentage}%"\n                  showValue="true"\n                  state="Information" /></Panel></VBox></Panel></l:fixContent><l:flexContent><l:ResponsiveSplitter class="sapUiTinyMarginBeginEnd"><l:PaneContainer orientation="Vertical"><l:SplitPane><l:layoutData><l:SplitterLayoutData size="400px" /></l:layoutData><Panel\n                  class="sapUiNoContentPadding"\n                  height="100%"><headerToolbar><OverflowToolbar><Title text="Results ({/results/length} tables)" /><ToolbarSpacer /><Button\n                        id="resultsInfoButton"\n                        icon="sap-icon://hint"\n                        type="Transparent"\n                        tooltip="Single-click: Preview | Double-click: Open in SQL Console"\n                        press="onResultsInfoPress" /></OverflowToolbar></headerToolbar><Table\n                    id="resultsTable"\n                    items="{/results}"\n                    mode="SingleSelectMaster"\n                    selectionChange="onResultSelect"\n                    itemPress="onTableItemPress"\n                    growing="true"\n                    growingThreshold="50"><columns><Column width="10rem"><Text text="Table" /></Column><Column><Text text="Description" /></Column><Column width="5rem"><Text text="Hits" /></Column></columns><items><ColumnListItem type="Active"><cells><Text text="{tableName}" /><Text text="{description}" /><ObjectNumber\n                            number="{matchCount}"\n                            emphasized="true"\n                            state="{= ${matchCount} > 0 ? \'Success\' : \'None\' }" /></cells></ColumnListItem></items></Table></Panel></l:SplitPane><l:SplitPane><l:layoutData><l:SplitterLayoutData size="auto" /></l:layoutData><Panel\n                  headerText="Matching Rows from: {/preview/selectedTable} ({/preview/rowCount} rows)"\n                  class="sapUiNoContentPadding"\n                  height="100%"><ut:Table\n                    id="previewTable"\n                    busy="{/preview/isLoading}"\n                    selectionMode="None"\n                    rows="{/preview/rows}"\n                    columns="{path:\'/preview/columns\', factory:\'.previewColumnFactory\'}"\n                    visible="{= ${/preview/selectedTable} !== \'\' }"><ut:rowMode><rowmodes:Auto /></ut:rowMode></ut:Table><IllustratedMessage\n                    illustrationType="sapIllus-NoEntries"\n                    title="No Table Selected"\n                    description="Select a table from the results to preview matching rows"\n                    visible="{= ${/preview/selectedTable} === \'\' }" /></Panel></l:SplitPane></l:PaneContainer></l:ResponsiveSplitter></l:flexContent></l:FixFlex></l:flexContent></l:FixFlex></mvc:View>\n',
	"astrobear/abaplorer/view/DDICSearch/fragments/FilterConditionsDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"><Dialog\n        id="filterConditionsDialog"\n        title="Filter Conditions"><content><List\n                id="conditionsList"\n                headerText="Conditions"\n                mode="None" /><OverflowToolbar><Label text="Operation" /><Select id="operationSelect"><core:Item key="StartsWith" text="Starts With" /><core:Item key="EndsWith" text="Ends With" /><core:Item key="Contains" text="Contains" /><core:Item key="LikePattern" text="Pattern (* wildcard)" /><core:Item key="EQ" text="Equals" /></Select><ToolbarSeparator /><Label text="Value" /><Input id="conditionValueInput" placeholder="Value" /><ToolbarSeparator /><Label text="Exclude" /><Switch id="excludeSwitch" state="false" /><ToolbarSpacer /><Button\n                    text="Delete"\n                    press=".onDeleteSelectedCondition" /></OverflowToolbar></content><beginButton><Button\n                text="Save"\n                press=".onSaveCondition" /></beginButton><endButton><Button\n                text="Close"\n                press=".onCloseConditionsDialog" /></endButton></Dialog></core:FragmentDefinition>\n',
	"astrobear/abaplorer/view/DialogAbout.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:f="sap.ui.layout.form" xmlns:core="sap.ui.core"><Dialog id="dialogAbout" contentWidth="630px" title="About" titleAlignment="Center"><content><f:SimpleForm layout="ColumnLayout"><f:content><Label text="App Name" /><Text text="ABAPlorer" /><Label text="App Description" /><Text text="ABAPlorer utilizes SAP\'s internal API to provide additional functionalities that are not offered out of the box by SAP GUI and Eclipse. One such feature is the ability to export multiple ABAP object definitions." /><Label text="Developer" /><Text text="Alessio, Cheng, Lisa, Markus, Philipp, Sebastian, Wael" /><Label text="Product Manager" /><Text text="Cheng" /><Label text="Company" /><Text text="CALEO Consulting GmbH" /><Label text="App Version" /><Text text="{/about/appVersion}" /><Label text="SAPUI5 Version" /><Text text="{/about/uiVersion}" /></f:content></f:SimpleForm></content><footer><Toolbar><content><ToolbarSpacer /><Button text="Close" press="closeDialogAbout" /></content></Toolbar></footer></Dialog></core:FragmentDefinition>',
	"astrobear/abaplorer/view/FindTablesByTLogo.view.xml":'<mvc:View\n  controllerName="astrobear.abaplorer.controller.FindTablesByTLogo"\n  xmlns:mvc="sap.ui.core.mvc"\n  xmlns="sap.m"\n  xmlns:ut="sap.ui.table"\n  xmlns:core="sap.ui.core"\n  xmlns:rowmodes="sap.ui.table.rowmodes"\n  height="100%"\n  displayBlock="true"><Page id="findTablesByTLogoPage" title="Find Tables by T-Logo" enableScrolling="false"><content><VBox height="100%" renderType="Bare"><OverflowToolbar class="sapUiSmallMarginBottom"><layoutData><FlexItemData growFactor="0" shrinkFactor="0" /></layoutData><Label text="T-Logo:" labelFor="tlogoInput" /><Input\n            id="tlogoInput"\n            width="360px"\n            placeholder="Type to filter..."\n            showSuggestion="true"\n            showClearIcon="true"\n            submit="onSearch"\n            liveChange="onTLogoLiveChange"\n            suggestionItemSelected="onSuggestionItemSelected"\n            suggestionItems="{ path: \'/tlogoSuggestions\' }"\n            filterSuggests="false"\n            suggest="onSuggest"><SuggestionItem key="{key}" text="{text}" /><layoutData><FlexItemData shrinkFactor="0" /></layoutData></Input><Text \n            text="{/ui/selectedDescription}" \n            class="sapUiTinyMarginBegin" \n            wrapping="false"><layoutData><FlexItemData alignSelf="Center" /></layoutData></Text><ToolbarSpacer /></OverflowToolbar><HBox width="100%" renderType="Bare" visible="{/ui/tableVisible}"><layoutData><FlexItemData growFactor="1" baseSize="0%" minHeight="0" /></layoutData><items><ut:Table\n              id="tlogoResultTable"\n              selectionMode="None"\n              rows="{/result/rows}"\n              columns="{path:\'/result/columns\', factory:\'.tableColumnFactory\'}"\n              cellClick="onCellClick"\n              width="100%"\n              class="sapUiTinyMarginBegin"><ut:layoutData><FlexItemData growFactor="1" baseSize="0%" /></ut:layoutData><ut:rowMode><rowmodes:Interactive rowCount="25" minRowCount="20" /></ut:rowMode></ut:Table><VBox width="240px" class="sapUiSmallMarginBegin sapUiSmallMarginEnd sapUiMediumMarginTop"><layoutData><FlexItemData growFactor="0" shrinkFactor="0"/></layoutData><Title text="Interactions" level="H5" class="sapUiSmallMarginBottom" /><HBox class="sapUiTinyMarginBottom" alignItems="Start"><core:Icon src="sap-icon://touch" class="sapUiTinyMarginEnd sapUiTinyMarginTop" color="#1d2d3e"/><VBox><Label text="Single Click" design="Bold"/><Text text="Open SQL Console" wrapping="true"/></VBox></HBox><HBox alignItems="Start"><core:Icon src="sap-icon://cursor-arrow" class="sapUiTinyMarginEnd sapUiTinyMarginTop" color="#1d2d3e"/><VBox><Label text="Double Click" design="Bold"/><Text text="Open SAP WebGUI (SE11)" wrapping="true"/></VBox></HBox></VBox></items></HBox><VBox growFactor="1" justifyContent="Center" alignItems="Center" visible="{= !${/ui/tableVisible} }"><core:Icon src="sap-icon://BusinessSuiteInAppSymbols/icon-table-column" size="3rem" color="lightgray" class="sapUiMediumMarginBottom" /><Text text="Please select a T-Logo above to show associated tables." class="sapUiMediumMargin" /></VBox></VBox></content></Page></mvc:View>\n',
	"astrobear/abaplorer/view/Home.view.xml":'<mvc:View controllerName="astrobear.abaplorer.controller.Home" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" height="100%" displayBlock="true"><Page id="homePage" title=" Home"><content><VBox class="sapUiContentPadding homeContentContainer" width="100%"><VBox class="sapUiSmallMargin"><Title text="Welcome to ABAPlorer" titleStyle="H1" class="sapUiSmallMarginBottom homeWelcomeTitle"/><Text text="Your comprehensive ABAP exploration and development tool." class="sapUiSmallMarginBottom"/><Text text="ABAPlorer is a tool designed to help you explore, analyze, and manage your ABAP development environment. With ABAPlorer, you have the following tools:" class="sapUiSmallMarginBottom"/><List items="{/tools}" class="toolDescList"><CustomListItem><VBox class="sapUiSmallMarginBottom"><Link text="{header}" press=".onToolLinkPress" class="toolNameLink sapUiSmallMargin"/><HBox class="sapUiMediumMarginBegin"><VBox><Text text="{functionality}" class="toolSubPoint sapUiTinyMarginBottom"/><Text text=" Use Case: {usecase}" class="toolSubPoint"/></VBox></HBox></VBox></CustomListItem></List></VBox></VBox></content></Page></mvc:View>\n',
	"astrobear/abaplorer/view/LogViewer.view.xml":'<mvc:View\n  controllerName="astrobear.abaplorer.controller.LogViewer"\n  xmlns:mvc="sap.ui.core.mvc"\n  xmlns="sap.m"\n  xmlns:core="sap.ui.core"\n  xmlns:l="sap.ui.layout"\n  height="100%"\n  displayBlock="true"><l:FixFlex vertical="true"><l:fixContent><OverflowToolbar><Title text="Log Viewer" level="H2"/><ToolbarSpacer/><Button\n          id="refreshBtn"\n          text="Refresh"\n          icon="sap-icon://refresh"\n          type="Ghost"\n          press="onRefresh"/><ToggleButton\n          id="autoRefreshBtn"\n          text="Auto-Refresh"\n          icon="sap-icon://synchronize"\n          pressed="{/autoRefresh}"\n          press="onToggleAutoRefresh"/><Button\n          text="Export"\n          icon="sap-icon://download"\n          type="Ghost"\n          press="onExport"/><Button\n          text="Clear Logs"\n          icon="sap-icon://delete"\n          type="Ghost"\n          press="onClearLogs"/></OverflowToolbar><OverflowToolbar class="sapUiTinyMarginTop"><Label text="Level:" labelFor="levelSelect"/><Select\n          id="levelSelect"\n          width="8rem"\n          selectedKey="{/filters/level}"\n          change="onFilterChange"><core:Item key="" text="All Levels"/><core:Item key="DEBUG" text="DEBUG"/><core:Item key="INFO" text="INFO"/><core:Item key="WARN" text="WARN"/><core:Item key="ERROR" text="ERROR"/></Select><ToolbarSeparator/><Label text="Module:" labelFor="moduleSelect"/><Select\n          id="moduleSelect"\n          width="12rem"\n          selectedKey="{/filters/module}"\n          items="{/moduleList}"\n          change="onFilterChange"><core:Item key="{key}" text="{text}"/></Select><ToolbarSeparator/><Label text="From:" labelFor="startDatePicker"/><DateTimePicker\n          id="startDatePicker"\n          width="11rem"\n          value="{/filters/startTime}"\n          valueFormat="yyyy-MM-ddTHH:mm:ss"\n          displayFormat="yyyy-MM-dd HH:mm"\n          placeholder="Start time"\n          change="onFilterChange"/><Label text="To:" labelFor="endDatePicker"/><DateTimePicker\n          id="endDatePicker"\n          width="11rem"\n          value="{/filters/endTime}"\n          valueFormat="yyyy-MM-ddTHH:mm:ss"\n          displayFormat="yyyy-MM-dd HH:mm"\n          placeholder="End time"\n          change="onFilterChange"/><ToolbarSeparator/><SearchField\n          id="searchField"\n          width="15rem"\n          placeholder="Search logs..."\n          search="onSearch"\n          liveChange="onSearchLiveChange"/><Button\n          text="Clear Filters"\n          icon="sap-icon://clear-filter"\n          type="Ghost"\n          press="onClearFilters"/><ToolbarSpacer/><ObjectStatus\n          text="{/logCount} logs"\n          state="Information"/></OverflowToolbar></l:fixContent><l:flexContent><Table\n        id="logTable"\n        items="{/logs}"\n        growing="true"\n        growingThreshold="100"\n        growingScrollToLoad="true"\n        mode="None"\n        busy="{/busy}"\n        noDataText="No logs found"><columns><Column width="10rem"><Text text="Timestamp"/></Column><Column width="5rem" hAlign="Center"><Text text="Level"/></Column><Column width="10rem"><Text text="Module"/></Column><Column><Text text="Message"/></Column></columns><items><ColumnListItem><cells><Text text="{\n                path: \'timestamp\',\n                formatter: \'.formatTimestamp\'\n              }"/><ObjectStatus\n                text="{level}"\n                state="{\n                  path: \'level\',\n                  formatter: \'.formatLevelState\'\n                }"/><Text text="{module}"/><Text\n                text="{message}"\n                wrapping="true"\n                class="sapUiTinyMarginTopBottom"/></cells></ColumnListItem></items></Table></l:flexContent></l:FixFlex></mvc:View>\n',
	"astrobear/abaplorer/view/Main.view.xml":'<mvc:View controllerName="astrobear.abaplorer.controller.Main" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\n  xmlns:l="sap.ui.layout" xmlns:tnt="sap.tnt" xmlns:fiori="sap.ui.webc.fiori" \n\txmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1" height="100%" displayBlock="true"><l:FixFlex vertical="true"><l:fixContent><tnt:ToolHeader id="toolHeader" class="sapUiTinyMarginBottom"><Button icon="sap-icon://menu2" type="Transparent" tooltip="Tools" press=".onCollapseExpandPress" /><Title text="ABAPlorer" wrapping="false" id="appName"></Title></tnt:ToolHeader></l:fixContent><l:flexContent><l:FixFlex vertical="false"><l:fixContent><fiori:SideNavigation id="sideNavigation" collapsed="true" selectionChange="onNavSelectionChange"><fiori:SideNavigationItem text="SQL Console" icon="sap-icon://table-view" click="openSQLConsole"/><fiori:SideNavigationItem text="DDIC Full Text Search" icon="sap-icon://detail-view" click="openDDICSearch"/><fiori:SideNavigationItem text="Open ABAP Object (coming soon)" icon="sap-icon://open-folder" /><fiori:SideNavigationItem text="Export ABAP Objects (coming soon)" icon="sap-icon://download" /><fiori:SideNavigationItem text="All Tools" icon="sap-icon://suitcase" click="openTools"/><fiori:SideNavigationItem text="Transaction List" icon="sap-icon://list" click="openTransactionList"/><fiori:SideNavigationItem text="Open Transaction" icon="sap-icon://sap-logo-shape" app:sticky="true" click="promtTCode"/><fiori:SideNavigationItem text="Fiori Launchpad" icon="sap-icon://paper-plane" click="openFLP"/><fiori:SideNavigationItem text="Rainbow Bridge" icon="sap-icon://connected" click="openRainbow"/><fiori:SideNavigationItem text="HTTP Request Maker (coming soon)" icon="sap-icon://internet-browser" click="openHTTPReqestMaker"/><fiori:SideNavigationItem text="ADT APIs (coming soon)" icon="sap-icon://puzzle" click="openADTAPIs"/><fiori:fixedItems><fiori:SideNavigationItem text="Log Viewer" icon="sap-icon://sys-monitor" click="openLogViewer"/><fiori:SideNavigationItem text="ABAP Docu" icon="sap-icon://course-book" click="openABAPDocu"/><fiori:SideNavigationItem text="Info" icon="sap-icon://hint" click="openDialogAbout"/></fiori:fixedItems></fiori:SideNavigation></l:fixContent><l:flexContent><l:ResponsiveSplitter class="sapUiTinyMarginBegin" defaultPane="tabSplitPane"><l:PaneContainer><l:SplitPane><l:layoutData><l:SplitterLayoutData size="320px" /></l:layoutData><Panel height="100%"><Tree id="repositoryTree" items="{path: \'Repository>/\'}"><StandardTreeItem title="{Repository>text}" /></Tree></Panel></l:SplitPane><l:SplitPane id="tabSplitPane"><l:layoutData><l:SplitterLayoutData size="auto" /></l:layoutData><Panel class="sapUiNoContentPadding" height="100%"><TabContainer id="myTabContainer" class="sapUiTinyMarginEnd" itemClose="tabCloseHandler"><items><TabContainerItem name="Home"><content><mvc:XMLView viewName="astrobear.abaplorer.view.Home"/></content></TabContainerItem></items></TabContainer></Panel></l:SplitPane></l:PaneContainer></l:ResponsiveSplitter></l:flexContent></l:FixFlex></l:flexContent></l:FixFlex></mvc:View>',
	"astrobear/abaplorer/view/MoveIOBJToInfoArea.view.xml":'<mvc:View controllerName="astrobear.abaplorer.controller.MoveIOBJToInfoArea"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:l="sap.ui.layout"\n    xmlns:ce="sap.ui.codeeditor"\n    xmlns:ut="sap.ui.table"\n    xmlns:f="sap.ui.layout.form"\n    height="100%"\n    displayBlock="true"><l:FixFlex vertical="true"><l:fixContent></l:fixContent><l:flexContent><HBox><VBox><f:SimpleForm editable="true" layout="ResponsiveGridLayout"><f:content><Label text="InfoObject ID (name per row)" /><TextArea\n                            value="{/namesInput}"\n                            rows="5"\n                            width="100%" \n                            required="true" /><Label text="Target InfoArea" /><Input\n                            value="{/infoArea}"\n                            width="100%" \n                            required="true" /><Label text="Transport Request" /><Input\n                            value="{/transport}"\n                            width="100%" \n                            required="true" /><Label text="" /><Button\n                            text="Move"\n                            type="Emphasized"\n                            press="onMove" \n                            enabled="{\n                                  parts: [\n                                    {path: \'/namesInput\'},\n                                    {path: \'/infoArea\'},\n                                    {path: \'/transport\'}\n                                  ],\n                                  formatter: \'.isMoveEnabled\'\n                                }"/></f:content></f:SimpleForm></VBox><VBox><f:SimpleForm editable="true" layout="ResponsiveGridLayout"><f:content><Label text="Log" /><TextArea\n                            value="{/log}"\n                            rows="8"\n                            width="100%"\n                            editable="false"\n                            growing="true"\n                            growingMaxLines="15" /></f:content></f:SimpleForm></VBox></HBox></l:flexContent></l:FixFlex></mvc:View>\n',
	"astrobear/abaplorer/view/QueryManager/Analyze.view.xml":'<mvc:View\n    controllerName="astrobear.abaplorer.controller.QueryManager.Analyze"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:l="sap.ui.layout"\n    xmlns:form="sap.ui.layout.form"\n    xmlns:core="sap.ui.core"\n    displayBlock="true"><l:VerticalLayout width="100%"><Panel headerText="Filter Analysis" expandable="false" expanded="true"><l:VerticalLayout width="100%" class="sapUiSmallMargin"><Text text="Search for a specific filter (InfoObject) across all stored queries and analyze how it is configured in different queries." class="sapUiTinyMarginBottom" /><Label text="InfoObject Name:" design="Bold" class="sapUiTinyMarginTop" /><HBox alignItems="Center" class="sapUiTinyMarginBottom"><Input\n                        id="analyzeInfoObjectInput"\n                        placeholder="e.g., 0CALMONTH, 0FISCYEAR"\n                        value="{/analyze/searchInfoObject}"\n                        width="300px"\n                        submit=".onAnalyzeFilters"\n                        class="sapUiTinyMarginEnd" /><Button\n                        id="btnAnalyze"\n                        text="Analyze"\n                        icon="sap-icon://search"\n                        press=".onAnalyzeFilters"\n                        type="Emphasized"\n                        enabled="{= ${/analyze/searchInfoObject}.length > 0 &amp;&amp; !${/analyze/isSearching} }"\n                        class="sapUiTinyMarginEnd" /><Button\n                        id="btnClearAnalysis"\n                        text="Clear"\n                        icon="sap-icon://sys-cancel"\n                        press=".onClearResults"\n                        enabled="{/analyze/searchComplete}" /></HBox><MessageStrip\n                    text="{/analyze/statusMessage}"\n                    type="{/analyze/statusType}"\n                    showIcon="true"\n                    visible="{= ${/analyze/statusMessage}.length > 0 }"\n                    class="sapUiSmallMarginBottom" /><BusyIndicator\n                    visible="{/analyze/isSearching}"\n                    text="Analyzing queries..."\n                    class="sapUiSmallMarginBottom" /></l:VerticalLayout></Panel><Panel\n            headerText="Analysis Results"\n            expandable="false"\n            expanded="true"\n            visible="{/analyze/searchComplete}"\n            class="sapUiSmallMarginTop"><l:VerticalLayout width="100%" class="sapUiSmallMargin"><HBox alignItems="Center" justifyContent="SpaceBetween" class="sapUiSmallMarginBottom"><HBox alignItems="Center"><ObjectStatus\n                            title="Queries Searched"\n                            text="{/analyze/totalQueriesSearched}"\n                            state="Information"\n                            class="sapUiTinyMarginEnd" /><ObjectStatus\n                            title="Queries with Filter"\n                            text="{/analyze/matchingQueries}"\n                            state="{= ${/analyze/matchingQueries} > 0 ? \'Success\' : \'Warning\' }"\n                            class="sapUiTinyMarginEnd" /><ObjectStatus\n                            title="Distinct Implementations"\n                            text="{= ${/analyze/distinctDefinitions}.length }"\n                            state="Information" /></HBox><Button\n                        id="btnExportAnalysis"\n                        text="Export"\n                        icon="sap-icon://download"\n                        press=".onExportResults"\n                        enabled="{= ${/analyze/distinctDefinitions}.length > 0 }" /></HBox><MessageStrip\n                    text="No queries found containing the specified filter."\n                    type="Warning"\n                    showIcon="true"\n                    visible="{= ${/analyze/searchComplete} &amp;&amp; ${/analyze/matchingQueries} === 0 }"\n                    class="sapUiSmallMarginBottom" /><List\n                    id="distinctDefinitionsList"\n                    items="{/analyze/distinctDefinitions}"\n                    noDataText="No distinct filter implementations found."\n                    visible="{= ${/analyze/distinctDefinitions}.length > 0 }"><CustomListItem><l:VerticalLayout width="100%" class="sapUiTinyMargin"><HBox alignItems="Center" justifyContent="SpaceBetween" class="sapUiTinyMarginBottom"><HBox alignItems="Center"><Button\n                                        icon="{= ${expanded} ? \'sap-icon://navigation-down-arrow\' : \'sap-icon://navigation-right-arrow\' }"\n                                        type="Transparent"\n                                        press=".onToggleDefinition" /><Title text="Implementation #{= ${/analyze/distinctDefinitions}.indexOf(${}) + 1 }" level="H5" class="sapUiTinyMarginEnd" /><ObjectNumber\n                                        number="{queryCount}"\n                                        unit="{= ${queryCount} === 1 ? \'query\' : \'queries\' }"\n                                        state="Information" /></HBox></HBox><Text text="{summary}" class="sapUiTinyMarginBottom" /><l:VerticalLayout width="100%" visible="{expanded}"><Panel headerText="Configuration Details" expandable="false" class="sapUiTinyMarginBottom"><form:SimpleForm\n                                        editable="false"\n                                        layout="ResponsiveGridLayout"\n                                        labelSpanL="4"\n                                        labelSpanM="4"\n                                        emptySpanL="0"\n                                        emptySpanM="0"\n                                        columnsL="2"\n                                        columnsM="2"><Label text="Read Mode" /><Text text="{= ${details/readModeType} || \'Not Set\' }" /><Label text="Read Mode Default" /><Text text="{= ${details/readModeDefault} ? \'Yes\' : \'No\' }" /><Label text="F4 Variables" /><Text text="{= ${details/f4VariablesType} || \'Not Set\' }" /><Label text="F4 Variables Default" /><Text text="{= ${details/f4VariablesDefault} ? \'Yes\' : \'No\' }" /><Label text="Hierarchy Active" /><Text text="{= ${details/hierarchyActive} === true ? \'Yes\' : ${details/hierarchyActive} === false ? \'No\' : \'Not Set\' }" /><Label text="Hierarchy Name" /><Text text="{= ${details/hierarchyName} || \'None\' }" /><Label text="Usage Type" /><Text text="{= ${details/usageType} || \'Not Set\' }" /><Label text="Token Count" /><Text text="{= ${details/tokenCount} !== undefined ? ${details/tokenCount} : \'N/A\' }" /></form:SimpleForm></Panel><Panel\n                                    headerText="Token Details ({= ${details/tokens}.length })"\n                                    expandable="true"\n                                    expanded="false"\n                                    visible="{= ${details/tokens}.length > 0 }"\n                                    class="sapUiTinyMarginBottom"><List\n                                        items="{details/tokens}"\n                                        noDataText="No tokens defined."><CustomListItem><l:VerticalLayout width="100%" class="sapUiTinyMargin"><Title text="Token #{= ${details/tokens}.indexOf(${}) + 1 }" level="H6" class="sapUiTinyMarginBottom" /><Text text="{}" wrapping="true" class="sapUiMonospacedFont" /></l:VerticalLayout></CustomListItem></List></Panel><Panel headerText="Queries ({queryCount})" expandable="true" expanded="false"><List\n                                        items="{queries}"\n                                        mode="SingleSelectMaster"\n                                        itemPress=".onSelectQuery"><StandardListItem\n                                            title="{queryName}"\n                                            description="{infoProvider}"\n                                            type="Navigation" /></List></Panel></l:VerticalLayout></l:VerticalLayout></CustomListItem></List></l:VerticalLayout></Panel><Panel headerText="How It Works" expandable="true" expanded="false" class="sapUiSmallMarginTop"><l:VerticalLayout width="100%" class="sapUiSmallMargin"><Text text="This analysis tool helps you understand how a specific filter (InfoObject) is used across your stored queries:" /><Text text="1. Scans all stored queries for the specified InfoObject" class="sapUiTinyMarginTop" /><Text text="2. Extracts filter configuration (read mode, hierarchy settings, tokens, etc.)" /><Text text="3. Groups queries by distinct filter configurations" /><Text text="4. Shows which queries use each unique implementation" /><Text class="sapUiSmallMarginTop" text="Use Cases:" /><Text text=" Find inconsistent filter configurations across queries" class="sapUiTinyMarginTop" /><Text text=" Identify queries using deprecated hierarchy settings" /><Text text=" Understand common patterns in filter usage" /></l:VerticalLayout></Panel></l:VerticalLayout></mvc:View>\n',
	"astrobear/abaplorer/view/QueryManager/BulkDownload.view.xml":'<mvc:View\n    controllerName="astrobear.abaplorer.controller.QueryManager.BulkDownload"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:l="sap.ui.layout"\n    displayBlock="true"><l:VerticalLayout width="100%"><Panel headerText="Bulk Download from SAP" expandable="false" expanded="true"><l:VerticalLayout width="100%" class="sapUiSmallMargin"><Text text="Download multiple BW queries from SAP at once. Enter query names below (one per line, or comma-separated)." class="sapUiTinyMarginBottom" /><TextArea\n                    id="bulkQueryInput"\n                    placeholder="Enter query names (one per line, or comma-separated)&#10;Example:&#10;ZQUERY_001&#10;ZQUERY_002&#10;ZQUERY_003"\n                    value="{/bulkDownload/queryInput}"\n                    rows="8"\n                    width="100%"\n                    liveChange=".onBulkQueryInputChange"\n                    class="sapUiTinyMarginBottom" /><HBox class="sapUiTinyMarginBottom" alignItems="Center"><Button\n                        id="btnLoadFromFile"\n                        text="Load from File"\n                        icon="sap-icon://document"\n                        press=".onLoadQueryNamesFromFile"\n                        class="sapUiTinyMarginEnd" /><Text text="{= ${/bulkDownload/parsedCount} > 0 ? ${/bulkDownload/parsedCount} + \' queries detected\' : \'No queries entered\' }" /></HBox><Label text="Configuration" design="Bold" class="sapUiSmallMarginTop" /><HBox class="sapUiSmallMarginBottom" alignItems="Center"><Label text="Concurrency:" class="sapUiTinyMarginEnd" width="100px" /><StepInput\n                        id="concurrencyInput"\n                        value="{/bulkDownload/concurrency}"\n                        min="1"\n                        max="5"\n                        step="1"\n                        width="100px"\n                        class="sapUiTinyMarginEnd" /><Text text="(1 = sequential, safer for SAP)" class="sapUiTinyMarginBegin" /></HBox><CheckBox\n                    id="cbSkipExisting"\n                    text="Skip queries already in storage"\n                    selected="{/bulkDownload/skipExisting}"\n                    class="sapUiTinyMarginBottom" /><CheckBox\n                    id="cbSaveToStorage"\n                    text="Save to storage"\n                    selected="{/bulkDownload/saveToStorage}"\n                    class="sapUiTinyMarginBottom" /><CheckBox\n                    id="cbExportToZip"\n                    text="Export to ZIP file"\n                    selected="{/bulkDownload/exportToZip}"\n                    class="sapUiTinyMarginBottom" /><Button\n                    id="btnStartBulkDownload"\n                    text="Start Bulk Download"\n                    icon="sap-icon://download"\n                    press=".onStartBulkDownload"\n                    type="Emphasized"\n                    enabled="{= ${/bulkDownload/parsedCount} > 0 }"\n                    class="sapUiMediumMarginTop" /></l:VerticalLayout></Panel><Panel headerText="Tips" expandable="true" expanded="false" class="sapUiSmallMarginTop"><l:VerticalLayout width="100%" class="sapUiSmallMargin"><Text text="- You can paste query names from Excel or a text file" /><Text text="- Query names are automatically converted to uppercase" /><Text text="- Duplicate names are automatically removed" /><Text text="- Use concurrency 1 for large numbers of queries to avoid SAP timeouts" /><Text text="- Enable \'Skip existing\' to avoid re-downloading queries you already have" /></l:VerticalLayout></Panel></l:VerticalLayout></mvc:View>\n',
	"astrobear/abaplorer/view/QueryManager/BulkTransform.view.xml":'<mvc:View\n    controllerName="astrobear.abaplorer.controller.QueryManager.BulkTransform"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:l="sap.ui.layout"\n    displayBlock="true"><l:VerticalLayout width="100%"><Panel headerText="Bulk Transform &amp; Upload" expandable="false" expanded="true"><l:VerticalLayout width="100%" class="sapUiSmallMargin"><Text text="Delete filters from stored queries and upload them back to SAP. This modifies the queries in your SAP system." class="sapUiTinyMarginBottom" /><MessageStrip\n                    text="Warning: This operation will modify BW queries in SAP. Make sure you have backups before proceeding."\n                    type="Warning"\n                    showIcon="true"\n                    class="sapUiSmallMarginBottom" /><Label text="Filters to Delete (InfoObject names):" design="Bold" class="sapUiTinyMarginTop" /><TextArea\n                    id="filterDeleteInput"\n                    placeholder="Enter InfoObject names to delete (comma or newline separated)&#10;Example:&#10;0FISCVARNT&#10;0CALMONTH"\n                    value="{/bulkTransform/filterInput}"\n                    rows="4"\n                    width="100%"\n                    liveChange=".onFilterInputChange"\n                    class="sapUiTinyMarginBottom" /><Text\n                    text="{= ${/bulkTransform/parsedFilterCount} > 0 ? ${/bulkTransform/parsedFilterCount} + \' filter(s) specified: \' + ${/bulkTransform/filtersDisplay} : \'No filters specified\' }"\n                    class="sapUiTinyMarginBottom" /><Label text="Select Queries to Transform:" design="Bold" class="sapUiSmallMarginTop" /><SearchField\n                    id="transformQuerySearch"\n                    width="100%"\n                    placeholder="Search queries by name or InfoProvider..."\n                    value="{/bulkTransform/searchQuery}"\n                    search=".onSearchTransformQueries"\n                    liveChange=".onSearchTransformQueries"\n                    class="sapUiTinyMarginBottom" /><HBox class="sapUiTinyMarginBottom" alignItems="Center"><Button\n                        id="btnSelectAllDownloaded"\n                        text="Select All"\n                        icon="sap-icon://multiselect-all"\n                        press=".onSelectAllDownloaded"\n                        class="sapUiTinyMarginEnd" /><Button\n                        id="btnClearTransformSelection"\n                        text="Clear Selection"\n                        icon="sap-icon://sys-cancel"\n                        press=".onClearTransformSelection"\n                        class="sapUiTinyMarginEnd" /><Text text="{/bulkTransform/selectedCount} queries selected" /></HBox><List\n                    id="transformQueryList"\n                    items="{/bulkTransform/filteredAvailableQueries}"\n                    mode="MultiSelect"\n                    selectionChange=".onTransformSelectionChange"\n                    noDataText="No queries available. Download queries first using the \'Bulk Download\' tab."\n                    growing="true"\n                    growingThreshold="15"\n                    class="sapUiTinyMarginBottom"><StandardListItem\n                        title="{queryName}"\n                        description="{metadata/infoProvider}"\n                        info="{status}"\n                        infoState="{= ${status} === \'uploaded\' ? \'Success\' : ${status} === \'transformed\' ? \'Warning\' : \'None\' }" /></List><Label text="What to Remove:" design="Bold" class="sapUiSmallMarginTop" /><CheckBox\n                    id="cbRemoveFilters"\n                    text="Filter selections (Festwert)"\n                    selected="{/bulkTransform/removeFilters}"\n                    class="sapUiTinyMarginBottom" /><CheckBox\n                    id="cbRemoveRows"\n                    text="Row dimensions (Standardwert)"\n                    selected="{/bulkTransform/removeRows}"\n                    class="sapUiTinyMarginBottom" /><CheckBox\n                    id="cbRemoveColumns"\n                    text="Column dimensions"\n                    selected="{/bulkTransform/removeColumns}"\n                    class="sapUiTinyMarginBottom" /><CheckBox\n                    id="cbRemoveMembers"\n                    text="Column members"\n                    selected="{/bulkTransform/removeMembers}"\n                    class="sapUiTinyMarginBottom" /><CheckBox\n                    id="cbRemoveFree"\n                    text="Free characteristics"\n                    selected="{/bulkTransform/removeFree}"\n                    class="sapUiTinyMarginBottom" /><CheckBox\n                    id="cbSkipNoFilter"\n                    text="Skip queries where InfoObject doesn\'t exist (don\'t fail)"\n                    selected="{/bulkTransform/skipNoFilter}"\n                    class="sapUiTinyMarginBottom" /><Button\n                    id="btnStartBulkTransform"\n                    text="Transform &amp; Upload Selected"\n                    icon="sap-icon://upload-to-cloud"\n                    press=".onStartBulkTransform"\n                    type="Emphasized"\n                    enabled="{= ${/bulkTransform/selectedCount} > 0 &amp;&amp; ${/bulkTransform/parsedFilterCount} > 0 &amp;&amp; (${/bulkTransform/removeFilters} || ${/bulkTransform/removeRows} || ${/bulkTransform/removeColumns} || ${/bulkTransform/removeMembers} || ${/bulkTransform/removeFree}) }"\n                    class="sapUiMediumMarginTop" /></l:VerticalLayout></Panel><Panel headerText="How It Works" expandable="true" expanded="false" class="sapUiSmallMarginTop"><l:VerticalLayout width="100%" class="sapUiSmallMargin"><Text text="For each selected query, the process:" /><Text text="1. Loads the query XML from local storage" class="sapUiTinyMarginTop" /><Text text="2. Removes the specified InfoObjects from selected locations:" /><Text text="    Filter selections (Festwert) - Qry:filter > Qry:selections" class="sapUiTinyMarginTop" /><Text text="    Row dimensions (Standardwert) - Qry:rows" /><Text text="    Column dimensions - Qry:columns" /><Text text="    Column members - Qry:members (via defaultHint/value)" /><Text text="    Free characteristics - Qry:free" /><Text text="3. Uploads the modified query back to SAP (using the stored ETag for optimistic locking)" class="sapUiTinyMarginTop" /><Text text="4. Updates the local storage with the new status" /><Text class="sapUiSmallMarginTop" text="Note: Queries are processed sequentially to avoid conflicts in SAP." /></l:VerticalLayout></Panel></l:VerticalLayout></mvc:View>\n',
	"astrobear/abaplorer/view/QueryManager/QueryList.view.xml":'<mvc:View\n    controllerName="astrobear.abaplorer.controller.QueryManager.QueryList"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:l="sap.ui.layout"\n    displayBlock="true"><l:VerticalLayout width="100%"><Toolbar><Button\n                text="Refresh"\n                icon="sap-icon://refresh"\n                press=".onRefreshList" /><ToolbarSpacer /><Label text="Storage: {/storageUsage/used} MB / {/storageUsage/quota} MB ({/storageUsage/percentage}%)" /></Toolbar><SearchField\n            width="100%"\n            placeholder="Search queries by name or InfoProvider..."\n            search=".onSearch"\n            liveChange=".onSearch" /><Table\n            id="queryTable"\n            items="{/filteredQueries}"\n            mode="SingleSelectMaster"\n            selectionChange=".onQuerySelect"\n            noDataText="No queries stored yet. Use \'Add Query\' tab to get started."\n            growing="true"\n            growingThreshold="25"\n            growingScrollToLoad="true"><columns><Column width="35%"><Text text="Query Name" /></Column><Column width="20%"><Text text="InfoProvider" /></Column><Column width="15%"><Text text="Status" /></Column><Column width="10%"><Text text="Size" /></Column><Column width="20%"><Text text="Saved Date" /></Column></columns><items><ColumnListItem type="Active"><cells><Text text="{queryName}" /><Text text="{metadata/infoProvider}" /><ObjectStatus\n                            text="{status}"\n                            state="{= ${status} === \'uploaded\' ? \'Success\' : ${status} === \'transformed\' ? \'Warning\' : \'None\' }" /><Text text="{sizeFormatted}" /><Text text="{timestampFormatted}" /></cells></ColumnListItem></items></Table><Panel headerText="Statistics" expandable="true" expanded="false" class="sapUiSmallMarginTop"><l:Grid defaultSpan="L4 M6 S12"><VBox><Label text="Total Queries" design="Bold" /><Text text="{/statistics/totalQueries}" /></VBox><VBox><Label text="Total Size" design="Bold" /><Text text="{/statistics/totalSizeMB} MB" /></VBox><VBox><Label text="Average Size" design="Bold" /><Text text="{= Math.round(${/statistics/averageSize} / 1024)} KB" /></VBox><VBox><Label text="Downloaded" design="Bold" /><ObjectStatus text="{/statistics/byStatus/downloaded}" state="None" /></VBox><VBox><Label text="Transformed" design="Bold" /><ObjectStatus text="{/statistics/byStatus/transformed}" state="Warning" /></VBox><VBox><Label text="Uploaded" design="Bold" /><ObjectStatus text="{/statistics/byStatus/uploaded}" state="Success" /></VBox></l:Grid></Panel><Toolbar class="sapUiSmallMarginTop"><Title text="Bulk Actions" level="H5" /><ToolbarSpacer /><Button\n                text="Export All as JSON"\n                icon="sap-icon://download"\n                press=".onExportAll" /><Button\n                text="Import from JSON"\n                icon="sap-icon://upload"\n                press=".onImportJSON" /><Button\n                text="Clear All Queries"\n                icon="sap-icon://delete"\n                press=".onClearAllQueries"\n                type="Reject" /></Toolbar></l:VerticalLayout></mvc:View>\n',
	"astrobear/abaplorer/view/QueryManager/QueryManager.view.xml":'<mvc:View\n    controllerName="astrobear.abaplorer.controller.QueryManager.QueryManager"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    displayBlock="true"\n    height="100%"><Page showHeader="false" enableScrolling="true"><content><IconTabBar\n                id="queryManagerTabs"\n                expandable="false"\n                stretchContentHeight="true"\n                select=".onTabSelect"\n                class="sapUiResponsiveContentPadding"><items><IconTabFilter\n                        key="list"\n                        text="Queries"\n                        icon="sap-icon://list"\n                        count="{/statistics/totalQueries}"><mvc:XMLView viewName="astrobear.abaplorer.view.QueryManager.QueryList" /></IconTabFilter><IconTabFilter\n                        key="download"\n                        text="Bulk Download"\n                        icon="sap-icon://download"><mvc:XMLView viewName="astrobear.abaplorer.view.QueryManager.BulkDownload" /></IconTabFilter><IconTabFilter\n                        key="transform"\n                        text="Bulk Transform"\n                        icon="sap-icon://process"><mvc:XMLView viewName="astrobear.abaplorer.view.QueryManager.BulkTransform" /></IconTabFilter><IconTabFilter\n                        key="analyze"\n                        text="Analyze"\n                        icon="sap-icon://compare"><mvc:XMLView viewName="astrobear.abaplorer.view.QueryManager.Analyze" /></IconTabFilter></items></IconTabBar></content></Page></mvc:View>\n',
	"astrobear/abaplorer/view/QueryManager/fragments/BulkDownloadProgress.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:l="sap.ui.layout"><Dialog\n        id="bulkDownloadDialog"\n        title="Bulk Download Progress"\n        contentWidth="500px"\n        escapeHandler=".onBulkDownloadEscapePress"><content><VBox class="sapUiSmallMargin"><ProgressIndicator\n                    id="bulkDownloadProgress"\n                    percentValue="{/bulkDownload/percentage}"\n                    displayValue="{/bulkDownload/displayText}"\n                    state="{= ${/bulkDownload/state} || \'None\' }"\n                    showValue="true"\n                    class="sapUiMediumMarginBottom" /><MessageStrip\n                    id="bulkDownloadStatus"\n                    text="{/bulkDownload/currentStatus}"\n                    type="{\n                        path: \'/bulkDownload/statusType\',\n                        formatter: \'.formatMessageType\'\n                    }"\n                    showIcon="true"\n                    class="sapUiTinyMarginBottom" /><l:Grid defaultSpan="L6 M6 S6" class="sapUiSmallMarginTop"><HBox alignItems="Center"><core:Icon src="sap-icon://accept" color="#107E3E" class="sapUiTinyMarginEnd" /><Text text="Succeeded: {/bulkDownload/succeeded}" /></HBox><HBox alignItems="Center"><core:Icon src="sap-icon://error" color="#BB0000" class="sapUiTinyMarginEnd" /><Text text="Failed: {/bulkDownload/failed}" /></HBox><HBox alignItems="Center"><core:Icon src="sap-icon://journey-arrive" color="#0854A0" class="sapUiTinyMarginEnd" /><Text text="Skipped: {/bulkDownload/skipped}" /></HBox><HBox alignItems="Center"><core:Icon src="sap-icon://pending" class="sapUiTinyMarginEnd" /><Text text="Remaining: {/bulkDownload/remaining}" /></HBox></l:Grid><HBox alignItems="Center" class="sapUiSmallMarginTop"><core:Icon src="sap-icon://documents" class="sapUiTinyMarginEnd" /><Text text="Total: {/bulkDownload/total}" class="sapUiTinyMarginEnd" /></HBox><Panel\n                    headerText="Failed Queries ({/bulkDownload/failed})"\n                    expandable="true"\n                    expanded="false"\n                    visible="{= ${/bulkDownload/failed} > 0 }"\n                    class="sapUiSmallMarginTop"><List\n                        items="{/bulkDownload/failedQueries}"\n                        noDataText="No failures"><StandardListItem\n                            title="{queryName}"\n                            description="{error}"\n                            icon="sap-icon://error"\n                            iconInset="false" /></List></Panel><Panel\n                    headerText="Skipped Queries ({/bulkDownload/skipped})"\n                    expandable="true"\n                    expanded="false"\n                    visible="{= ${/bulkDownload/skipped} > 0 &amp;&amp; !${/bulkDownload/isRunning} }"\n                    class="sapUiTinyMarginTop"><List\n                        items="{/bulkDownload/skippedQueries}"\n                        noDataText="No skipped queries"><StandardListItem\n                            title="{queryName}"\n                            description="{reason}"\n                            icon="sap-icon://journey-arrive"\n                            iconInset="false" /></List></Panel></VBox></content><buttons><Button\n                id="btnRetryFailed"\n                text="Retry Failed"\n                icon="sap-icon://refresh"\n                press=".onRetryFailed"\n                visible="{= ${/bulkDownload/failed} > 0 &amp;&amp; !${/bulkDownload/isRunning} }"\n                type="Emphasized" /><Button\n                id="btnCancelBulkDownload"\n                text="Cancel"\n                icon="sap-icon://decline"\n                press=".onCancelBulkDownload"\n                visible="{/bulkDownload/isRunning}"\n                type="Reject" /><Button\n                id="btnCloseBulkDownload"\n                text="Close"\n                press=".onCloseBulkDownloadDialog"\n                visible="{= !${/bulkDownload/isRunning} }" /></buttons></Dialog></core:FragmentDefinition>\n',
	"astrobear/abaplorer/view/QueryManager/fragments/BulkTransformProgress.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:l="sap.ui.layout"><Dialog\n        id="bulkTransformDialog"\n        title="Bulk Transform &amp; Upload Progress"\n        contentWidth="550px"\n        escapeHandler=".onBulkTransformEscapePress"><content><VBox class="sapUiSmallMargin"><MessageStrip\n                    text="Deleting filters: {/bulkTransform/filtersToDeleteDisplay}"\n                    type="Information"\n                    showIcon="true"\n                    class="sapUiTinyMarginBottom" /><ProgressIndicator\n                    id="bulkTransformProgress"\n                    percentValue="{/bulkTransform/percentage}"\n                    displayValue="{/bulkTransform/displayText}"\n                    state="{= ${/bulkTransform/state} || \'None\' }"\n                    showValue="true"\n                    class="sapUiMediumMarginBottom" /><MessageStrip\n                    id="bulkTransformStatus"\n                    text="{/bulkTransform/currentStatus}"\n                    type="{\n                        path: \'/bulkTransform/statusType\',\n                        formatter: \'.formatMessageType\'\n                    }"\n                    showIcon="true"\n                    class="sapUiTinyMarginBottom" /><HBox alignItems="Center" class="sapUiTinyMarginBottom"\n                      visible="{= ${/bulkTransform/isRunning} }"><core:Icon src="sap-icon://process" class="sapUiTinyMarginEnd" /><Text text="Stage: {/bulkTransform/currentStage}" /></HBox><l:Grid defaultSpan="L6 M6 S6" class="sapUiSmallMarginTop"><HBox alignItems="Center"><core:Icon src="sap-icon://accept" color="#107E3E" class="sapUiTinyMarginEnd" /><Text text="Uploaded: {/bulkTransform/succeeded}" /></HBox><HBox alignItems="Center"><core:Icon src="sap-icon://error" color="#BB0000" class="sapUiTinyMarginEnd" /><Text text="Failed: {/bulkTransform/failed}" /></HBox><HBox alignItems="Center"><core:Icon src="sap-icon://journey-arrive" color="#0854A0" class="sapUiTinyMarginEnd" /><Text text="Skipped: {/bulkTransform/skipped}" /></HBox><HBox alignItems="Center"><core:Icon src="sap-icon://pending" class="sapUiTinyMarginEnd" /><Text text="Remaining: {/bulkTransform/remaining}" /></HBox></l:Grid><HBox alignItems="Center" class="sapUiSmallMarginTop"><core:Icon src="sap-icon://documents" class="sapUiTinyMarginEnd" /><Text text="Total: {/bulkTransform/total}" /></HBox><Panel\n                    headerText="Failed Queries ({/bulkTransform/failed})"\n                    expandable="true"\n                    expanded="false"\n                    visible="{= ${/bulkTransform/failed} > 0 }"\n                    class="sapUiSmallMarginTop"><List\n                        items="{/bulkTransform/failedQueries}"\n                        noDataText="No failures"><StandardListItem\n                            title="{queryName}"\n                            description="{error} (Stage: {stage})"\n                            icon="sap-icon://error"\n                            iconInset="false" /></List></Panel><Panel\n                    headerText="Skipped Queries ({/bulkTransform/skipped})"\n                    expandable="true"\n                    expanded="false"\n                    visible="{= ${/bulkTransform/skipped} > 0 &amp;&amp; !${/bulkTransform/isRunning} }"\n                    class="sapUiTinyMarginTop"><List\n                        items="{/bulkTransform/skippedQueries}"\n                        noDataText="No skipped queries"><StandardListItem\n                            title="{queryName}"\n                            description="{reason}"\n                            icon="sap-icon://journey-arrive"\n                            iconInset="false" /></List></Panel><Panel\n                    headerText="Successfully Uploaded ({/bulkTransform/succeeded})"\n                    expandable="true"\n                    expanded="false"\n                    visible="{= ${/bulkTransform/succeeded} > 0 &amp;&amp; !${/bulkTransform/isRunning} }"\n                    class="sapUiTinyMarginTop"><List\n                        items="{/bulkTransform/succeededQueries}"\n                        noDataText="No successful uploads"><StandardListItem\n                            title="{queryName}"\n                            description="Deleted {filtersDeleted} filter(s)"\n                            icon="sap-icon://accept"\n                            iconInset="false" /></List></Panel></VBox></content><buttons><Button\n                id="btnRetryFailedTransform"\n                text="Retry Failed"\n                icon="sap-icon://refresh"\n                press=".onRetryFailedTransform"\n                visible="{= ${/bulkTransform/failed} > 0 &amp;&amp; !${/bulkTransform/isRunning} }"\n                type="Emphasized" /><Button\n                id="btnCancelBulkTransform"\n                text="Cancel"\n                icon="sap-icon://decline"\n                press=".onCancelBulkTransform"\n                visible="{/bulkTransform/isRunning}"\n                type="Reject" /><Button\n                id="btnCloseBulkTransform"\n                text="Close"\n                press=".onCloseBulkTransformDialog"\n                visible="{= !${/bulkTransform/isRunning} }" /></buttons></Dialog></core:FragmentDefinition>\n',
	"astrobear/abaplorer/view/QueryManager/fragments/QueryPreviewDialog.fragment.xml":'<core:FragmentDefinition\n    xmlns="sap.m"\n    xmlns:core="sap.ui.core"\n    xmlns:l="sap.ui.layout"><Dialog\n        id="queryPreviewDialog"\n        title="Query Details: {/selectedQuery/queryName}"\n        contentWidth="700px"\n        contentHeight="500px"\n        stretch="{device>/system/phone}"><content><ScrollContainer\n                height="100%"\n                width="100%"\n                vertical="true"\n                horizontal="false"><VBox class="sapUiSmallMargin"><l:Grid defaultSpan="L6 M6 S12"><VBox><Label text="Query Name" design="Bold" /><Text text="{/selectedQuery/queryName}" /></VBox><VBox><Label text="InfoProvider" design="Bold" /><Text text="{/selectedQuery/metadata/infoProvider}" /></VBox><VBox><Label text="Status" design="Bold" /><ObjectStatus\n                                text="{/selectedQuery/status}"\n                                state="{= ${/selectedQuery/status} === \'uploaded\' ? \'Success\' : ${/selectedQuery/status} === \'transformed\' ? \'Warning\' : \'None\' }" /></VBox><VBox><Label text="Package" design="Bold" /><Text text="{= ${/selectedQuery/devclass} ? ${/selectedQuery/devclass} : \'(not looked up)\'}" /></VBox><VBox><Label text="Saved" design="Bold" /><Text text="{/selectedQuery/timestampFormatted}" /></VBox><VBox><Label text="Size" design="Bold" /><Text text="{/selectedQuery/sizeFormatted}" /></VBox></l:Grid><Toolbar class="sapUiSmallMarginTop"><Label text="XML Content:" /><ToolbarSpacer /><SegmentedButton\n                            id="xmlViewToggleDialog"\n                            selectedKey="{/xmlViewMode}"\n                            selectionChange=".onXmlViewModeChange"><items><SegmentedButtonItem key="tree" text="Tree View" icon="sap-icon://tree" /><SegmentedButtonItem key="raw" text="Raw XML" icon="sap-icon://source-code" /></items></SegmentedButton><Button\n                            icon="sap-icon://expand-all"\n                            tooltip="Expand All"\n                            press=".onExpandAllXml"\n                            visible="{= ${/xmlViewMode} === \'tree\' }" /><Button\n                            icon="sap-icon://collapse-all"\n                            tooltip="Collapse All"\n                            press=".onCollapseAllXml"\n                            visible="{= ${/xmlViewMode} === \'tree\' }" /></Toolbar><VBox visible="{= ${/xmlViewMode} === \'tree\' }" class="sapUiTinyMarginTop"><MessageStrip\n                            text="{/xmlTreeStats}"\n                            type="Information"\n                            showIcon="true"\n                            visible="{= ${/xmlTreeStats} !== \'\' }"\n                            class="sapUiTinyMarginBottom" /><HBox alignItems="Center" width="100%"><SearchField\n                                id="xmlTreeSearchDialog"\n                                placeholder="Search in XML tree..."\n                                search=".onSearchXmlTree"\n                                width="100%" /><Button\n                                id="btnPrevMatchDialog"\n                                icon="sap-icon://navigation-up-arrow"\n                                tooltip="Previous match"\n                                press=".onPrevSearchMatch"\n                                enabled="{= ${/xmlSearchMatches}.length > 0 }"\n                                class="sapUiTinyMarginBegin" /><Button\n                                id="btnNextMatchDialog"\n                                icon="sap-icon://navigation-down-arrow"\n                                tooltip="Next match"\n                                press=".onNextSearchMatch"\n                                enabled="{= ${/xmlSearchMatches}.length > 0 }" /><Text\n                                text="{= ${/xmlSearchMatches}.length > 0 ? (${/xmlSearchIndex} + 1) + \'/\' + ${/xmlSearchMatches}.length : \'\' }"\n                                class="sapUiTinyMarginBegin" /></HBox><ScrollContainer\n                            id="xmlTreeScrollContainerDialog"\n                            height="250px"\n                            vertical="true"\n                            horizontal="true"\n                            class="sapUiTinyMarginTop"><Tree\n                                id="xmlTreeDialog"\n                                items="{path: \'/xmlTreeNodes\', parameters: {arrayNames: [\'children\']}}"\n                                toggleOpenState=".onXmlTreeToggle"><StandardTreeItem\n                                    title="{formattedName}"\n                                    icon="{icon}"\n                                    type="Active"\n                                    press=".onXmlTreeNodePress" /></Tree></ScrollContainer></VBox><TextArea\n                        visible="{= ${/xmlViewMode} === \'raw\' }"\n                        value="{/selectedQuery/xmlString}"\n                        rows="12"\n                        width="100%"\n                        editable="false"\n                        class="sapUiTinyMarginTop" /></VBox></ScrollContainer></content><buttons><Button\n                text="Export as File"\n                icon="sap-icon://download"\n                press=".onExportQuery" /><Button\n                text="Open in Eclipse"\n                icon="sap-icon://sap-logo-shape"\n                press=".onOpenInBWMT"\n                tooltip="Open query in Eclipse BW Modeling Tools" /><Button\n                text="Lookup Package"\n                icon="sap-icon://folder-blank"\n                press=".onLookupPackage"\n                tooltip="Query TADIR to find package (DEVCLASS)" /><Button\n                text="Update Status"\n                icon="sap-icon://edit"\n                press=".onUpdateStatus" /><Button\n                text="Delete"\n                icon="sap-icon://delete"\n                press=".onDeleteQuery"\n                type="Reject" /><Button\n                text="Close"\n                press=".onCloseQueryPreviewDialog" /></buttons></Dialog></core:FragmentDefinition>\n',
	"astrobear/abaplorer/view/Rainbow.view.xml":'<mvc:View\n  controllerName="astrobear.abaplorer.controller.Rainbow"\n  xmlns:mvc="sap.ui.core.mvc"\n  xmlns="sap.m"\n  xmlns:l="sap.ui.layout"\n  xmlns:f="sap.ui.layout.form"\n  height="100%"\n  displayBlock="true"><l:FixFlex vertical="true"><l:fixContent><OverflowToolbar><Title text="Rainbow Bridge" /><ToolbarSpacer /></OverflowToolbar></l:fixContent><l:flexContent><l:ResponsiveSplitter class="sapUiTinyMarginBeginEnd"><l:PaneContainer orientation="Horizontal"><l:SplitPane><l:layoutData><l:SplitterLayoutData size="40%" /></l:layoutData><VBox width="100%"><Panel headerText="Connect" class="sapUiNoContentPadding" expandable="false"><content><VBox class="sapUiTinyMarginBeginEnd sapUiTinyMarginTop sapUiTinyMarginBottom"><MessageStrip\n                      text="Select or enter a system URL, then connect."\n                      type="Information"\n                      showIcon="true"\n                      class="sapUiTinyMarginBottom" /><f:SimpleForm\n                      editable="true"\n                      layout="ResponsiveGridLayout"\n                      labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12"\n                      emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0"\n                      columnsXL="1" columnsL="1" columnsM="1"><f:content><Label text="System URL" labelFor="rainbowTargetInput" /><Input\n                          id="rainbowTargetInput"\n                          value="{/rainbow/targetUrl}"\n                          width="100%"\n                          placeholder="https://target.system.company.com"\n                          showSuggestion="true"\n                          startSuggestion="0"\n                          showTableSuggestionValueHelp="false"\n                          suggestionRows="{/rainbow/systems}"><layoutData><l:GridData span="XL12 L12 M12 S12" /></layoutData><suggestionColumns><Column><Label text="URL" /></Column><Column><Label text="System" /></Column></suggestionColumns><suggestionRows><ColumnListItem><Text text="{url}" /><Text text="{name}" /></ColumnListItem></suggestionRows></Input><Label /><Toolbar design="Transparent"><ToolbarSpacer /><Button\n                            text="Open Connection"\n                            icon="sap-icon://connected"\n                            type="Emphasized"\n                            press="onOpenRainbowTarget" /></Toolbar></f:content></f:SimpleForm></VBox></content></Panel><Toolbar design="Transparent" class="sapUiTinyMarginTop sapUiTinyMarginBottom" /><l:FixFlex vertical="true"><l:fixContent><Panel headerText="Add System to Favorites" class="sapUiNoContentPadding" expandable="true" expanded="false"><content><VBox class="sapUiTinyMarginBeginEnd sapUiTinyMarginTop sapUiTinyMarginBottom"><MessageStrip\n                      text="Add a URL and a short name to save it for suggestions."\n                      type="Information"\n                      showIcon="true"\n                      class="sapUiTinyMarginBottom" /><f:SimpleForm\n                      editable="true"\n                      layout="ResponsiveGridLayout"\n                      labelSpanXL="12" labelSpanL="12" labelSpanM="12" labelSpanS="12"\n                      emptySpanXL="0" emptySpanL="0" emptySpanM="0" emptySpanS="0"\n                      columnsXL="1" columnsL="1" columnsM="1"><f:content><Label text="URL" labelFor="systemUrlInput" /><Input\n                          id="systemUrlInput"\n                          width="100%"\n                          placeholder="https://system.company.com"><layoutData><l:GridData span="XL12 L12 M12 S12" /></layoutData></Input><Label text="Name" labelFor="systemNameInput" /><Input\n                          id="systemNameInput"\n                          width="100%"\n                          placeholder="System Name (e.g. C2D)"><layoutData><l:GridData span="XL12 L12 M12 S12" /></layoutData></Input><Label /><Toolbar design="Transparent"><ToolbarSpacer /><Button\n                            text="Add"\n                            icon="sap-icon://add"\n                            type="Emphasized"\n                            press="onAddSystem" /></Toolbar></f:content></f:SimpleForm></VBox></content></Panel></l:fixContent></l:FixFlex></VBox></l:SplitPane><l:SplitPane><l:layoutData><l:SplitterLayoutData size="60%" /></l:layoutData><Panel\n              headerText="{= \'Connections (\' + ${/rainbow/connections}.length + \')\' }"\n              class="sapUiNoContentPadding"\n              height="100%"><content><Table\n                  items="{/rainbow/connections}"\n                  growing="true"\n                  growingThreshold="50"\n                  noDataText="No connections established"\n                  class="sapUiTinyMarginBegin sapUiTinyMarginEnd sapUiTinyMarginTop sapUiTinyMarginBottom"\n                  width="calc(100% - 1.5rem)"><columns><Column width="10rem"><Text text="Status" /></Column><Column><Text text="URL" /></Column><Column width="8rem"><Text text="System" /></Column><Column width="3rem" hAlign="Center"><Text text="" /></Column></columns><items><ColumnListItem vAlign="Middle"><cells><ObjectStatus\n                        text="{= ${connected} ? \'Connected\' : \'Disconnected\' }"\n                        state="{= ${connected} ? \'Success\' : \'Error\' }"\n                        icon="{= ${connected} ? \'sap-icon://connected\' : \'sap-icon://disconnected\' }"\n                      /><Text text="{origin}" wrapping="false" /><Text text="{name}" wrapping="false" /><OverflowToolbarButton\n                      width="2.5rem"\n                      type="Transparent"\n                      press=".onToggleFavorite"\n                      tooltip="{= ${favorite} ? \'In favorites\' : \'Add to favorites\' }"\n                      icon="{= ${favorite} ? \'sap-icon://favorite\' : \'sap-icon://unfavorite\' }"\n                    /></cells></ColumnListItem></items></Table></content></Panel></l:SplitPane></l:PaneContainer></l:ResponsiveSplitter></l:flexContent></l:FixFlex></mvc:View>\n',
	"astrobear/abaplorer/view/SQLConsole.view.xml":'<mvc:View controllerName="astrobear.abaplorer.controller.SQLConsole" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m"\n  xmlns:l="sap.ui.layout" xmlns:ce="sap.ui.codeeditor" xmlns:ut="sap.ui.table" height="100%" displayBlock="true"><l:FixFlex vertical="true"><l:fixContent><OverflowToolbar><Button text="Run" type="Emphasized" icon="sap-icon://media-play" press="runSQL" /><Button text="Clear" type="Ghost" icon="sap-icon://clear-all" press="clearConsole" /><Button id="downloadBtn" text="Download" type="Ghost" icon="sap-icon://download" press="onOpenDownloadSheet" /><Label text="Max. Rows:" labelFor="inputRowLimit" class="sapUiSmallMarginBegin" /><Input id="inputRowLimit" type="Number" value="{= ${/remote/enabled} ? 0 : 1000 }" tooltip="Max. 2147483646 Rows" width="83px"\n          showValueHelp="true" valueHelpIconSrc="sap-icon://back-to-top" valueHelpRequest="setRowLimitToZero" /><ToolbarSeparator class="sapUiSmallMarginBegin"/><CheckBox\n              text="Remote Access"\n              selected="{/remote/enabled}"\n              class="sapUiSmallMarginBegin" /><Select\n              width="12rem"\n              enabled="{/remote/enabled}"\n              selectedKey="{/remote/selectedName}"\n              items="{/remote/targets}"\n              class="sapUiSmallMarginBegin"><core:Item key="{name}" text="{name}" xmlns:core="sap.ui.core" /></Select><CheckBox\n              text="Show Delta"\n              selected="{/compare/showDelta}"\n              enabled="{/remote/enabled}"\n              class="sapUiSmallMarginBegin"\n              select="onToggleDelta" /><Button\n              text="Columns to Compare"\n              icon="sap-icon://multi-select"\n              type="Ghost"\n              enabled="{= ${/remote/enabled} &amp;&amp; ${/compare/showDelta} }"\n              press="onOpenKeyFieldsDialog"\n              class="sapUiSmallMarginBegin" /><Label text="Filter Delta Results:" labelFor="SelectFilter" class="sapUiSmallMarginBegin" /><Select\n              id="SelectFilter"\n              width="11rem"\n              selectedKey="{/compare/deltaTypeFilter}"\n              enabled="{= ${/remote/enabled} &amp;&amp; ${/compare/showDelta} }"\n              change="onDeltaTypeFilterChange"\n              class="sapUiSmallMarginBegin"><core:Item key="" text="All" xmlns:core="sap.ui.core" /><core:Item key="ONLY_LOCAL" text="{= \'Only \' + ${/local/systemName} }" xmlns:core="sap.ui.core" /><core:Item key="ONLY_REMOTE" text="{= \'Only \' + ${/remote/selectedName} }" xmlns:core="sap.ui.core" /><core:Item key="INNER_JOIN" text="Intersect" xmlns:core="sap.ui.core" /><core:Item key="DIFFERENT" text="Difference" xmlns:core="sap.ui.core" /></Select><Button\n              type="Transparent"\n              icon="sap-icon://information"\n              tooltip="What do these filters mean?"\n              enabled="{= ${/remote/enabled} &amp;&amp; ${/compare/showDelta} }"\n              press="onOpenDeltaFilterInfo"\n              class="sapUiTinyMarginBegin" /></OverflowToolbar></l:fixContent><l:flexContent><l:ResponsiveSplitter><l:PaneContainer orientation="Vertical"><l:SplitPane><l:layoutData><l:SplitterLayoutData size="320px" /></l:layoutData><Panel class="sapUiNoContentPadding" height="100%"><l:ResponsiveSplitter><l:PaneContainer><l:SplitPane><l:layoutData><l:SplitterLayoutData size="auto" /></l:layoutData><Panel class="sapUiNoContentPadding" height="100%"><ce:CodeEditor id="sqlCE" type="sql" value="{/sqlStatement}"/></Panel></l:SplitPane><l:SplitPane><l:layoutData><l:SplitterLayoutData size="400px" /></l:layoutData><Panel class="sapUiNoContentPadding" height="100%"><FormattedText id="sqlLog" htmlText="{/sqlLog}"/></Panel></l:SplitPane></l:PaneContainer></l:ResponsiveSplitter></Panel></l:SplitPane><l:SplitPane><l:layoutData><l:SplitterLayoutData size="auto" /></l:layoutData><Panel class="sapUiNoContentPadding" height="100%"><l:ResponsiveSplitter height="100%"><l:PaneContainer orientation="Horizontal"><l:SplitPane><l:layoutData><l:SplitterLayoutData size="{= ${/remote/enabled} ? ( ${/compare/showDelta} ? \'33%\' : \'50%\' ) : \'100%\' }" /></l:layoutData><Panel class="sapUiNoContentPadding" height="100%"><VBox height="100%" fitContainer="true"><Title\n                level="H5"\n                text="{= \'Local: \' + (${/local/systemName} || \'Current\') }"\n                class="sapUiTinyMarginTop sapUiTinyMarginBottom sapUiTinyMarginBegin" /><ut:Table\n                id="sqlResultTable"\n                selectionMode="None"\n                rows="{/sqlResult/rows}"\n                columns="{path:\'/sqlResult/columns\', factory:\'.tableColumnFactory\'}"><ut:layoutData><FlexItemData growFactor="1" /></ut:layoutData><ut:rowMode><rowmodes:Auto xmlns:rowmodes="sap.ui.table.rowmodes" /></ut:rowMode></ut:Table></VBox></Panel></l:SplitPane><l:SplitPane><l:layoutData><l:SplitterLayoutData size="50%" /></l:layoutData><Panel class="sapUiNoContentPadding" height="100%" visible="{/remote/enabled}"><VBox height="100%" fitContainer="true"><Title\n                level="H5"\n                text="{= \'Remote: \' + (${/remote/selectedName} || \'\') }"\n                class="sapUiTinyMarginTop sapUiTinyMarginBottom sapUiTinyMarginBegin" /><ut:Table\n                id="remoteSqlResultTable"\n                selectionMode="None"\n                rows="{/remoteResult/rows}"\n                columns="{path:\'/remoteResult/columns\', factory:\'.tableColumnFactory\'}"><ut:layoutData><FlexItemData growFactor="1" /></ut:layoutData><ut:rowMode><rowmodes:Auto xmlns:rowmodes="sap.ui.table.rowmodes" /></ut:rowMode></ut:Table></VBox></Panel></l:SplitPane><l:SplitPane><l:layoutData><l:SplitterLayoutData size="34%" /></l:layoutData><Panel class="sapUiNoContentPadding" height="100%" visible="{= ${/remote/enabled} &amp;&amp; ${/compare/showDelta} }"><VBox height="100%" fitContainer="true"><Title\n                level="H5"\n                text="{= \'Delta (\' + (${/deltaResult/visibleRowCount} || 0) + \')\' }"\n                class="sapUiTinyMarginTop sapUiTinyMarginBottom sapUiTinyMarginBegin" /><ut:Table\n                id="deltaResultTable"\n                selectionMode="None"\n                rows="{/deltaResult/rows}"\n                columns="{path:\'/deltaResult/columns\', factory:\'.tableColumnFactory\'}"><ut:layoutData><FlexItemData growFactor="1" /></ut:layoutData><ut:rowMode><rowmodes:Auto xmlns:rowmodes="sap.ui.table.rowmodes" /></ut:rowMode></ut:Table></VBox></Panel></l:SplitPane></l:PaneContainer></l:ResponsiveSplitter></Panel></l:SplitPane></l:PaneContainer></l:ResponsiveSplitter></l:flexContent></l:FixFlex></mvc:View>',
	"astrobear/abaplorer/view/TCodePrompt.fragment.xml":'<core:FragmentDefinition xmlns="sap.m" xmlns:core="sap.ui.core"><Popover id="myTCodePrompPopover" showHeader="false" placement="Right" initialFocus="tCodeInput"><Input id="tCodeInput" placeholder="Enter TCode" submit="openTCode"></Input></Popover></core:FragmentDefinition>',
	"astrobear/abaplorer/view/Tools.view.xml":'<mvc:View controllerName="astrobear.abaplorer.controller.Tools" xmlns:mvc="sap.ui.core.mvc" xmlns="sap.m" xmlns:form="sap.ui.layout.form" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" height="100%" displayBlock="true"><Toolbar><Title text="Tools" level="H2"/><ToolbarSpacer/><SearchField\n        id="toolsSearch"\n        width="85%"\n        liveChange="onSearchLiveChange"\n        placeholder="Search for Tools..."/><ToolbarSpacer/></Toolbar><l:FixFlex vertical="true"><l:flexContent><Page id="toolsPage" showHeader="false"><content><FlexBox\n               id="toolsFlexBox"\n                items="{/tileItems}"\n                wrap="Wrap"\n                 class=""\n                renderType="Bare"\n                justifyContent="Start"\n                alignItems="Start"><GenericTile\n                header="{header}"\n                subheader="{subheader}"\n                press="onTilePress"\n                class="sapUiTinyMarginBegin sapUiTinyMarginTop tileLayout"><tileContent><TileContent><content><VBox><ImageContent src="{icon}" /></VBox></content></TileContent></tileContent></GenericTile></FlexBox></content></Page></l:flexContent></l:FixFlex></mvc:View>\n',
	"astrobear/abaplorer/view/TransactionList.view.xml":'<mvc:View\n    controllerName="astrobear.abaplorer.controller.TransactionList"\n    xmlns:mvc="sap.ui.core.mvc"\n    xmlns="sap.m"\n xmlns:form="sap.ui.layout.form" xmlns:core="sap.ui.core" xmlns:l="sap.ui.layout" height="100%" displayBlock="true"><Page id="transactionListPage"><customHeader><VBox><Bar><contentLeft><SearchField\n                        id="transactionSearch"\n                        placeholder="Search in transaction list"\n                        width="307px"\n                        search="onSearch"\n                        liveChange="onLiveSearch" /></contentLeft><contentRight><Button\n                        text="I have a suggestion!"\n                        icon="sap-icon://email"\n                        press="onFeedbackPress" /></contentRight></Bar><Bar><contentLeft><Text text="Filter by tags:" /><SearchField\n                            id="tagSearch"\n                            width="200px"\n                            placeholder="Add tag"\n                            enableSuggestions="true"\n                            search="onTagSearch"\n                            liveChange="onTagLiveChange"\n                            suggest="onTagSuggest"\n                            suggestionItems="{\n                                path: \'tagModel>/tags\'\n                            }"><SuggestionItem text="{tagModel>}" key="{tagModel>}" /></SearchField><OverflowToolbarTokenizer\n                            id="tagTokenizer"\n                            editable="true"\n                            tokenUpdate="onTagTokenUpdate"\n                            tokenDelete=".onTokenDelete" /></contentLeft><contentRight><ToolbarSpacer /></contentRight></Bar></VBox></customHeader><content><VBox\n                    fitContainer="true"\n                    class="sapUiSmallMargin sapUiLargeMarginTop"><Panel\n                        headerText="Special Transactions"\n                        expandable="true"\n                        expanded="true"\n                        class="sapUiSmallMarginBottom"><List\n                    id="transactionListSpecial"\n                    mode="SingleSelectMaster"\n                    itemPress="startProgramExecute"\n                    items="{/transactions_special}"><StandardListItem\n                        title="{= ${code} + \'  \' + ${text} }"\n                        description="{useCase}"\n                        icon="sap-icon://sap-logo-shape"\n                        type="Active"/></List></Panel><Panel\n                        headerText="Common Transactions"\n                        expandable="true"\n                        expanded="true"\n                        class="sapUiSmallMarginBottom"><List\n                        id="transactionListCommon"\n                        mode="SingleSelectMaster"\n                        itemPress="startProgramExecute"\n                        items="{/transactions_common}"><StandardListItem\n                            title="{= ${code} + \'  \' + ${text} }"\n                            description="{useCase}"\n                            icon="sap-icon://sap-logo-shape"\n                            type="Active"/></List></Panel><Panel\n                        headerText="Useful Programs"\n                        expandable="true"\n                        expanded="true"\n                        class="sapUiSmallMarginBottom"><List\n                       id="transactionListProgram"\n                        mode="SingleSelectMaster"\n                        itemPress="FlexibleClick"\n                        items="{/transactions_program}"\n\t\t                itemActionCount="2"\n\t\t                itemActionPress="startProgramExecute"><StandardListItem\n                            title="{= ${call} + \'  \' + ${text} }"\n                            description="{useCase}"\n                            icon="sap-icon://command-line-interfaces"\n                            type="Active"><ListItemAction\n                                text="Execute"\n                                icon="sap-icon://begin"/></StandardListItem></List></Panel><Panel\n                        headerText="Useful Function Modules"\n                        expandable="true"\n                        expanded="true"\n                        class="sapUiSmallMarginBottom"><List\n                        id="transactionListFunctionModule"\n                        mode="SingleSelectMaster"\n                        itemPress="FlexibleClick"\n\t\t                itemActionCount="2"\n\t\t                itemActionPress="startProgramExecute"\n                        items="{/transactions_function}"><StandardListItem\n                            title="{= ${call} + \'  \' + ${text} }"\n                            description="{useCase}"\n                            icon="sap-icon://legend"\n                            type="Active"><ListItemAction\n                                text="Execute"\n                                icon="sap-icon://begin"/></StandardListItem></List></Panel><Panel\n                        headerText="Useful Tables"\n                        expandable="true"\n                        expanded="true"\n                        class="sapUiSmallMarginBottom"><List\n                        id="transactionListTable"\n                        mode="SingleSelectMaster"\n                        itemPress="FlexibleClick"\n                        itemActionCount="2"\n                        itemActionPress="OpenTable"\n                        items="{/transactions_table}"><StandardListItem\n                            title="{= ${call} + \'  \' + ${text} }"\n                            description="{useCase}"\n                            icon="sap-icon://table-view"\n                            type="Active"><ListItemAction\n                                text="Show Table Definition"\n                                icon="sap-icon://table-chart"/></StandardListItem></List></Panel></VBox></content></Page></mvc:View>\n'
});


    // Load app into content container
    oComponentContainer = new sap.ui.core.ComponentContainer({
        manifest: true,
        async: true,
        name: "astrobear.abaplorer",
        handleValidation: true,
        height: "100%",
        componentCreated: function (oEvent) {
            // handle the created component
            const oComponent = oEvent.getParameter("component");

            sap.ui.core.BusyIndicator.hide();
        },
        componentFailed: function (oEvent) {
            // handle the failed case
            const oReason = oEvent.getParameter("reason");

            sap.ui.core.BusyIndicator.hide();
            document.write("App can't be loaded!");
        }
    });

    oComponentContainer.placeAt("contentContainer");
}

generateApp();
